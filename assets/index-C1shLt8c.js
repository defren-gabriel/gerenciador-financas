(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function ES(){if(J_)return Ml;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var ev;function TS(){return ev||(ev=1,em.exports=ES()),em.exports}var Z=TS(),tm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function bS(){if(tv)return Ce;tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=w&&N[w]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,q={};function j(N,Q,oe){this.props=N,this.context=Q,this.refs=q,this.updater=oe||O}j.prototype.isReactComponent={},j.prototype.setState=function(N,Q){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Q,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=j.prototype;function ee(N,Q,oe){this.props=N,this.context=Q,this.refs=q,this.updater=oe||O}var te=ee.prototype=new G;te.constructor=ee,k(te,j.prototype),te.isPureReactComponent=!0;var pe=Array.isArray,he={H:null,A:null,T:null,S:null},Te=Object.prototype.hasOwnProperty;function M(N,Q,oe,se,re,be){return oe=be.ref,{$$typeof:r,type:N,key:Q,ref:oe!==void 0?oe:null,props:be}}function A(N,Q){return M(N.type,Q,void 0,void 0,void 0,N.props)}function S(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var Q={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return Q[oe]})}var x=/\/+/g;function U(N,Q){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):Q.toString(36)}function D(){}function tt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(Q){N.status==="pending"&&(N.status="fulfilled",N.value=Q)},function(Q){N.status==="pending"&&(N.status="rejected",N.reason=Q)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function ot(N,Q,oe,se,re){var be=typeof N;(be==="undefined"||be==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(be){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case r:case e:Re=!0;break;case E:return Re=N._init,ot(Re(N._payload),Q,oe,se,re)}}if(Re)return re=re(N),Re=se===""?"."+U(N,0):se,pe(re)?(oe="",Re!=null&&(oe=Re.replace(x,"$&/")+"/"),ot(re,Q,oe,"",function(lt){return lt})):re!=null&&(S(re)&&(re=A(re,oe+(re.key==null||N&&N.key===re.key?"":(""+re.key).replace(x,"$&/")+"/")+Re)),Q.push(re)),1;Re=0;var pt=se===""?".":se+":";if(pe(N))for(var qe=0;qe<N.length;qe++)se=N[qe],be=pt+U(se,qe),Re+=ot(se,Q,oe,be,re);else if(qe=C(N),typeof qe=="function")for(N=qe.call(N),qe=0;!(se=N.next()).done;)se=se.value,be=pt+U(se,qe++),Re+=ot(se,Q,oe,be,re);else if(be==="object"){if(typeof N.then=="function")return ot(tt(N),Q,oe,se,re);throw Q=String(N),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(N,Q,oe){if(N==null)return N;var se=[],re=0;return ot(N,se,"","",function(be){return Q.call(oe,be,re++)}),se}function ye(N){if(N._status===-1){var Q=N._result;Q=Q(),Q.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=Q)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Ce.Children={map:ae,forEach:function(N,Q,oe){ae(N,function(){Q.apply(this,arguments)},oe)},count:function(N){var Q=0;return ae(N,function(){Q++}),Q},toArray:function(N){return ae(N,function(Q){return Q})||[]},only:function(N){if(!S(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=j,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ee,Ce.StrictMode=a,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,Q,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=k({},N.props),re=N.key,be=void 0;if(Q!=null)for(Re in Q.ref!==void 0&&(be=void 0),Q.key!==void 0&&(re=""+Q.key),Q)!Te.call(Q,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&Q.ref===void 0||(se[Re]=Q[Re]);var Re=arguments.length-2;if(Re===1)se.children=oe;else if(1<Re){for(var pt=Array(Re),qe=0;qe<Re;qe++)pt[qe]=arguments[qe+2];se.children=pt}return M(N.type,re,void 0,void 0,be,se)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,Q,oe){var se,re={},be=null;if(Q!=null)for(se in Q.key!==void 0&&(be=""+Q.key),Q)Te.call(Q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(re[se]=Q[se]);var Re=arguments.length-2;if(Re===1)re.children=oe;else if(1<Re){for(var pt=Array(Re),qe=0;qe<Re;qe++)pt[qe]=arguments[qe+2];re.children=pt}if(N&&N.defaultProps)for(se in Re=N.defaultProps,Re)re[se]===void 0&&(re[se]=Re[se]);return M(N,be,void 0,void 0,null,re)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=S,Ce.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ye}},Ce.memo=function(N,Q){return{$$typeof:y,type:N,compare:Q===void 0?null:Q}},Ce.startTransition=function(N){var Q=he.T,oe={};he.T=oe;try{var se=N(),re=he.S;re!==null&&re(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(je,de)}catch(be){de(be)}finally{he.T=Q}},Ce.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ce.use=function(N){return he.H.use(N)},Ce.useActionState=function(N,Q,oe){return he.H.useActionState(N,Q,oe)},Ce.useCallback=function(N,Q){return he.H.useCallback(N,Q)},Ce.useContext=function(N){return he.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,Q){return he.H.useDeferredValue(N,Q)},Ce.useEffect=function(N,Q){return he.H.useEffect(N,Q)},Ce.useId=function(){return he.H.useId()},Ce.useImperativeHandle=function(N,Q,oe){return he.H.useImperativeHandle(N,Q,oe)},Ce.useInsertionEffect=function(N,Q){return he.H.useInsertionEffect(N,Q)},Ce.useLayoutEffect=function(N,Q){return he.H.useLayoutEffect(N,Q)},Ce.useMemo=function(N,Q){return he.H.useMemo(N,Q)},Ce.useOptimistic=function(N,Q){return he.H.useOptimistic(N,Q)},Ce.useReducer=function(N,Q,oe){return he.H.useReducer(N,Q,oe)},Ce.useRef=function(N){return he.H.useRef(N)},Ce.useState=function(N){return he.H.useState(N)},Ce.useSyncExternalStore=function(N,Q,oe){return he.H.useSyncExternalStore(N,Q,oe)},Ce.useTransition=function(){return he.H.useTransition()},Ce.version="19.0.0",Ce}var nv;function Wm(){return nv||(nv=1,tm.exports=bS()),tm.exports}var F=Wm(),nm={exports:{}},Vl={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function wS(){return iv||(iv=1,function(r){function e(ae,ye){var de=ae.length;ae.push(ye);e:for(;0<de;){var je=de-1>>>1,N=ae[je];if(0<o(N,ye))ae[je]=ye,ae[de]=N,de=je;else break e}}function n(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var ye=ae[0],de=ae.pop();if(de!==ye){ae[0]=de;e:for(var je=0,N=ae.length,Q=N>>>1;je<Q;){var oe=2*(je+1)-1,se=ae[oe],re=oe+1,be=ae[re];if(0>o(se,de))re<N&&0>o(be,se)?(ae[je]=be,ae[re]=de,je=re):(ae[je]=se,ae[oe]=de,je=oe);else if(re<N&&0>o(be,de))ae[je]=be,ae[re]=de,je=re;else break e}}return ye}function o(ae,ye){var de=ae.sortIndex-ye.sortIndex;return de!==0?de:ae.id-ye.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,w=null,C=3,O=!1,k=!1,q=!1,j=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function te(ae){for(var ye=n(y);ye!==null;){if(ye.callback===null)a(y);else if(ye.startTime<=ae)a(y),ye.sortIndex=ye.expirationTime,e(g,ye);else break;ye=n(y)}}function pe(ae){if(q=!1,te(ae),!k)if(n(g)!==null)k=!0,tt();else{var ye=n(y);ye!==null&&ot(pe,ye.startTime-ae)}}var he=!1,Te=-1,M=5,A=-1;function S(){return!(r.unstable_now()-A<M)}function I(){if(he){var ae=r.unstable_now();A=ae;var ye=!0;try{e:{k=!1,q&&(q=!1,G(Te),Te=-1),O=!0;var de=C;try{t:{for(te(ae),w=n(g);w!==null&&!(w.expirationTime>ae&&S());){var je=w.callback;if(typeof je=="function"){w.callback=null,C=w.priorityLevel;var N=je(w.expirationTime<=ae);if(ae=r.unstable_now(),typeof N=="function"){w.callback=N,te(ae),ye=!0;break t}w===n(g)&&a(g),te(ae)}else a(g);w=n(g)}if(w!==null)ye=!0;else{var Q=n(y);Q!==null&&ot(pe,Q.startTime-ae),ye=!1}}break e}finally{w=null,C=de,O=!1}ye=void 0}}finally{ye?x():he=!1}}}var x;if(typeof ee=="function")x=function(){ee(I)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,D=U.port2;U.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){j(I,0)};function tt(){he||(he=!0,x())}function ot(ae,ye){Te=j(function(){ae(r.unstable_now())},ye)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,tt())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(ae){switch(C){case 1:case 2:case 3:var ye=3;break;default:ye=C}var de=C;C=ye;try{return ae()}finally{C=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,ye){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var de=C;C=ae;try{return ye()}finally{C=de}},r.unstable_scheduleCallback=function(ae,ye,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,ae){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,ae={id:E++,callback:ye,priorityLevel:ae,startTime:de,expirationTime:N,sortIndex:-1},de>je?(ae.sortIndex=de,e(y,ae),n(g)===null&&ae===n(y)&&(q?(G(Te),Te=-1):q=!0,ot(pe,de-je))):(ae.sortIndex=N,e(g,ae),k||O||(k=!0,tt())),ae},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ae){var ye=C;return function(){var de=C;C=ye;try{return ae.apply(this,arguments)}finally{C=de}}}}(rm)),rm}var rv;function SS(){return rv||(rv=1,im.exports=wS()),im.exports}var am={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function AS(){if(av)return Qt;av=1;var r=Wm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Qt.flushSync=function(g){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,g)return g()}finally{f.T=y,a.p=E,a.d.f()}},Qt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},Qt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Qt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:C,fetchPriority:O}):E==="script"&&a.d.X(g,{crossOrigin:w,integrity:C,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Qt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},Qt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);a.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Qt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},Qt.requestFormReset=function(g){a.d.r(g)},Qt.unstable_batchedUpdates=function(g,y){return g(y)},Qt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.0.0",Qt}var sv;function RS(){if(sv)return am.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=AS(),am.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function CS(){if(ov)return Vl;ov=1;var r=SS(),e=Wm(),n=RS();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),w=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),O=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),te=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function Te(t){return t===null||typeof t!="object"?null:(t=he&&t[he]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function A(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case g:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case q:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case k:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:A(t.type)||"Memo";case ee:i=t._payload,t=t._init;try{return A(t(i))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,U;function D(t){if(x===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",U=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+U}var tt=!1;function ot(t,i){if(!t||tt)return"";tt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(K){var H=K}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(K){H=K}t.call(ne.prototype)}}else{try{throw Error()}catch(K){H=K}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var R=v.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var $=`
`+R[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{tt=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?D(s):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=ot(t.type,!1),t;case 11:return t=ot(t.type.render,!1),t;case 1:return t=ot(t.type,!0),t;default:return""}}function ye(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function de(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,i.flags&4098&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function je(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(de(t)!==t)throw Error(a(188))}function Q(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,l=i;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function oe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=oe(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Re=[],pt=-1;function qe(t){return{current:t}}function lt(t){0>pt||(t.current=Re[pt],Re[pt]=null,pt--)}function Qe(t,i){pt++,Re[pt]=t.current,t.current=i}var Jt=qe(null),bi=qe(null),Tn=qe(null),sr=qe(null);function or(t,i){switch(Qe(Tn,i),Qe(bi,t),Qe(Jt,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?I_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=I_(t),i=D_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(Jt),Qe(Jt,i)}function wi(){lt(Jt),lt(bi),lt(Tn)}function Co(t){t.memoizedState!==null&&Qe(sr,t);var i=Jt.current,s=D_(i,t.type);i!==s&&(Qe(bi,t),Qe(Jt,s))}function ls(t){bi.current===t&&(lt(Jt),lt(bi)),sr.current===t&&(lt(sr),Cl._currentValue=be)}var us=Object.prototype.hasOwnProperty,pa=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,tf=r.unstable_shouldYield,Io=r.unstable_requestPaint,sn=r.unstable_now,Su=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Si=r.unstable_NormalPriority,Au=r.unstable_LowPriority,Do=r.unstable_IdlePriority,nf=r.log,ya=r.unstable_setDisableYieldValue,lr=null,Gt=null;function Oo(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(lr,t,void 0,(t.current.flags&128)===128)}catch{}}function Zn(t){if(typeof nf=="function"&&ya(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(lr,t)}catch{}}var en=Math.clz32?Math.clz32:Cu,No=Math.log,Ru=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(No(t)/Ru|0)|0}var Jn=128,ur=4194304;function jn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bn(t,i){var s=t.pendingLanes;if(s===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var T=s&134217727;return T!==0?(s=T&~h,s!==0?l=jn(s):(d&=T,d!==0?l=jn(d):t||(v=T&~v,v!==0&&(l=jn(v))))):(T=s&~h,T!==0?l=jn(T):d!==0?l=jn(d):t||(v=s&~v,v!==0&&(l=jn(v)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function cr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hs(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var t=Jn;return Jn<<=1,!(Jn&4194176)&&(Jn=128),t}function hr(){var t=ur;return ur<<=1,!(ur&62914560)&&(ur=4194304),t}function fs(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Iu(t,i,s,l,h,d){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(s=v&~s;0<s;){var $=31-en(s),ne=1<<$;T[$]=0,R[$]=-1;var H=P[$];if(H!==null)for(P[$]=null,$=0;$<H.length;$++){var K=H[$];K!==null&&(K.lane&=-536870913)}s&=~ne}l!==0&&fr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function fr(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-en(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194218}function dr(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var l=31-en(s),h=1<<l;h&i|t[l]&i&&(t[l]|=i),s&=~h}}function Du(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Ou(){var t=re.p;return t!==0?t:(t=window.event,t===void 0?32:Q_(t.type))}function mr(t,i){var s=re.p;try{return re.p=t,i()}finally{re.p=s}}var ei=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ei,wt="__reactProps$"+ei,Ai="__reactContainer$"+ei,_a="__reactEvents$"+ei,ds="__reactListeners$"+ei,ti="__reactHandles$"+ei,Vo="__reactResources$"+ei,gr="__reactMarker$"+ei;function va(t){delete t[Nt],delete t[wt],delete t[_a],delete t[ds],delete t[ti]}function qn(t){var i=t[Nt];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Ai]||s[Nt]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=M_(t);t!==null;){if(s=t[Nt])return s;t=M_(t)}return i}t=s,s=t.parentNode}return null}function Ri(t){if(t=t[Nt]||t[Ai]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function yr(t){var i=t[Vo];return i||(i=t[Vo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[gr]=!0}var xo=new Set,ms={};function fn(t,i){on(t,i),on(t+"Capture",i)}function on(t,i){for(ms[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Po={},ko={};function Nu(t){return us.call(ko,t)?!0:us.call(Po,t)?!1:rf.test(t)?ko[t]=!0:(Po[t]=!0,!1)}function _r(t,i,s){if(Nu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function vr(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function wn(t,i,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+l)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function af(t){var i=Mu(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ea(t){t._valueTracker||(t._valueTracker=af(t))}function Lo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),l="";return t&&(l=Mu(t)?t.checked?"true":"false":t.value),t=l,t!==s?(i.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ci=/[\n"\\]/g;function ut(t){return t.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Er(t,i,s,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ps(t,v,tn(i)):s!=null?ps(t,v,tn(s)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function Ta(t,i,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;s=s!=null?""+tn(s):"",i=i!=null?""+tn(i):s,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ps(t,i,s){i==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Be(t,i,s,l){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&l&&(t[s].defaultSelected=!0)}else{for(s=""+tn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ba(t,i,s){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+tn(s):""}function Tr(t,i,s,l){if(i==null){if(l!=null){if(s!=null)throw Error(a(92));if(se(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),i=s}s=tn(i),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function Sn(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var sf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(t,i,s){var l=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,s):typeof s!="number"||s===0||sf.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function Vu(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&s[h]!==l&&Uo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Uo(t,d,i[d])}function zo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var An=null;function ys(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Di=null;function Oi(t){var i=Ri(t);if(i&&(t=i.stateNode)){var s=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Er(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var l=s[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(a(90));Er(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)l=s[i],l.form===t.form&&Lo(l)}break e;case"textarea":ba(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Be(t,!!s.multiple,i,!1)}}}var jo=!1;function xu(t,i,s){if(jo)return t(i,s);jo=!0;try{var l=t(i);return l}finally{if(jo=!1,(Ii!==null||Di!==null)&&(Ac(),Ii&&(i=Ii,t=Di,Di=Ii=null,Oi(i),t)))for(i=0;i<t.length;i++)Oi(t[i])}}function wa(t,i){var s=t.stateNode;if(s===null)return null;var l=s[wt]||null;if(l===null)return null;s=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Rn=!1;if(dn)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{Rn=!1}var ii=null,br=null,Ni=null;function qo(){if(Ni)return Ni;var t,i=br,s=i.length,l,h="value"in ii?ii.value:ii.textContent,d=h.length;for(t=0;t<s&&i[t]===h[t];t++);var v=s-t;for(l=1;l<=v&&i[s-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ri(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ai(){return!0}function Bo(){return!1}function Mt(t){function i(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(s=t[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ai:Bo,this.isPropagationStopped=Bo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),i}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_s=Mt(Ge),Aa=I({},Ge,{view:0,detail:0}),Pu=Mt(Aa),vs,Es,si,Ra=I({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(vs=t.screenX-si.screenX,Es=t.screenY-si.screenY):Es=vs=0,si=t),vs)},movementY:function(t){return"movementY"in t?t.movementY:Es}}),Cn=Mt(Ra),ku=I({},Ra,{dataTransfer:0}),uf=Mt(ku),Ca=I({},Aa,{relatedTarget:0}),Ts=Mt(Ca),Ho=I({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),bs=Mt(Ho),Lu=I({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ws=Mt(Lu),cf=I({},Ge,{data:0}),Fo=Mt(cf),Ia={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Go(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=zu[t])?!!i[t]:!1}function Da(){return Go}var ju=I({},Aa,{key:function(t){if(t.key){var i=Ia[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Uu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ss=Mt(ju),qu=I({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Mt(qu),Mi=I({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Bu=Mt(Mi),Hu=I({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=Mt(Hu),Gu=I({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),As=Mt(Gu),nn=I({},Ge,{newState:0,oldState:0}),Yu=Mt(nn),Qu=[9,13,27,32],oi=dn&&"CompositionEvent"in window,c=null;dn&&"documentMode"in document&&(c=document.documentMode);var p=dn&&"TextEvent"in window&&!c,_=dn&&(!oi||c&&8<c&&11>=c),b=" ",z=!1;function Y(t,i){switch(t){case"keyup":return Qu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function St(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(z=!0,b);case"textInput":return t=i.data,t===b&&z?null:t;default:return null}}function Le(t,i){if(ke)return t==="compositionend"||!oi&&Y(t,i)?(t=qo(),Ni=br=ii=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function At(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Vi(t,i,s,l){Ii?Di?Di.push(l):Di=[l]:Ii=l,i=Oc(i,"onChange"),0<i.length&&(s=new _s("onChange","change",null,s,l),t.push({event:s,listeners:i}))}var Ut=null,li=null;function Qo(t){w_(t,0)}function Ku(t){var i=pr(t);if(Lo(i))return t}function Zg(t,i){if(t==="change")return i}var Jg=!1;if(dn){var hf;if(dn){var ff="oninput"in document;if(!ff){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),ff=typeof ep.oninput=="function"}hf=ff}else hf=!1;Jg=hf&&(!document.documentMode||9<document.documentMode)}function tp(){Ut&&(Ut.detachEvent("onpropertychange",np),li=Ut=null)}function np(t){if(t.propertyName==="value"&&Ku(li)){var i=[];Vi(i,li,t,ys(t)),xu(Qo,i)}}function Xb(t,i,s){t==="focusin"?(tp(),Ut=i,li=s,Ut.attachEvent("onpropertychange",np)):t==="focusout"&&tp()}function Wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(li)}function Zb(t,i){if(t==="click")return Ku(i)}function Jb(t,i){if(t==="input"||t==="change")return Ku(i)}function ew(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var mn=typeof Object.is=="function"?Object.is:ew;function Ko(t,i){if(mn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),l=Object.keys(i);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!us.call(i,h)||!mn(t[h],i[h]))return!1}return!0}function ip(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rp(t,i){var s=ip(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=i&&l>=i)return{node:s,offset:i-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=ip(s)}}function ap(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ap(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function sp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gs(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=gs(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function tw(t,i){var s=sp(i);i=t.focusedElem;var l=t.selectionRange;if(s!==i&&i&&i.ownerDocument&&ap(i.ownerDocument.documentElement,i)){if(l!==null&&df(i)){if(t=l.start,s=l.end,s===void 0&&(s=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(s,i.value.length);else if(s=(t=i.ownerDocument||document)&&t.defaultView||window,s.getSelection){s=s.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!s.extend&&d>l&&(h=l,l=d,d=h),h=rp(i,d);var v=rp(i,l);h&&v&&(s.rangeCount!==1||s.anchorNode!==h.node||s.anchorOffset!==h.offset||s.focusNode!==v.node||s.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),s.removeAllRanges(),d>l?(s.addRange(t),s.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),s.addRange(t)))}}for(t=[],s=i;s=s.parentNode;)s.nodeType===1&&t.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)s=t[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nw=dn&&"documentMode"in document&&11>=document.documentMode,Rs=null,mf=null,$o=null,gf=!1;function op(t,i,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;gf||Rs==null||Rs!==gs(l)||(l=Rs,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Ko($o,l)||($o=l,l=Oc(mf,"onSelect"),0<l.length&&(i=new _s("onSelect","select",null,i,s),t.push({event:i,listeners:l}),i.target=Rs)))}function Oa(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var Cs={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},pf={},lp={};dn&&(lp=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function Na(t){if(pf[t])return pf[t];if(!Cs[t])return t;var i=Cs[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in lp)return pf[t]=i[s];return t}var up=Na("animationend"),cp=Na("animationiteration"),hp=Na("animationstart"),iw=Na("transitionrun"),rw=Na("transitionstart"),aw=Na("transitioncancel"),fp=Na("transitionend"),dp=new Map,mp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(t,i){dp.set(t,i),fn(i,[t])}var In=[],Is=0,yf=0;function $u(){for(var t=Is,i=yf=Is=0;i<t;){var s=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&gp(s,h,d)}}function Xu(t,i,s,l){In[Is++]=t,In[Is++]=i,In[Is++]=s,In[Is++]=l,yf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _f(t,i,s,l){return Xu(t,i,s,l),Wu(t)}function wr(t,i){return Xu(t,null,null,i),Wu(t)}function gp(t,i,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-en(s),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=s|536870912)}function Wu(t){if(50<El)throw El=0,Sd=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ds={},pp=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var s=pp.get(t);return s!==void 0?s:(i={value:t,source:i,stack:ye(i)},pp.set(t,i),i)}return{value:t,source:i,stack:ye(i)}}var Os=[],Ns=0,Zu=null,Ju=0,On=[],Nn=0,Ma=null,xi=1,Pi="";function Va(t,i){Os[Ns++]=Ju,Os[Ns++]=Zu,Zu=t,Ju=i}function yp(t,i,s){On[Nn++]=xi,On[Nn++]=Pi,On[Nn++]=Ma,Ma=t;var l=xi;t=Pi;var h=32-en(l)-1;l&=~(1<<h),s+=1;var d=32-en(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,xi=1<<32-en(i)+h|s<<h|l,Pi=d+t}else xi=1<<d|s<<h|l,Pi=t}function vf(t){t.return!==null&&(Va(t,1),yp(t,1,0))}function Ef(t){for(;t===Zu;)Zu=Os[--Ns],Os[Ns]=null,Ju=Os[--Ns],Os[Ns]=null;for(;t===Ma;)Ma=On[--Nn],On[Nn]=null,Pi=On[--Nn],On[Nn]=null,xi=On[--Nn],On[Nn]=null}var rn=null,zt=null,He=!1,Hn=null,ui=!1,Tf=Error(a(519));function xa(t){var i=Error(a(418,""));throw Zo(Dn(i,t)),Tf}function _p(t){var i=t.stateNode,s=t.type,l=t.memoizedProps;switch(i[Nt]=t,i[wt]=l,s){case"dialog":xe("cancel",i),xe("close",i);break;case"iframe":case"object":case"embed":xe("load",i);break;case"video":case"audio":for(s=0;s<bl.length;s++)xe(bl[s],i);break;case"source":xe("error",i);break;case"img":case"image":case"link":xe("error",i),xe("load",i);break;case"details":xe("toggle",i);break;case"input":xe("invalid",i),Ta(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(i);break;case"select":xe("invalid",i);break;case"textarea":xe("invalid",i),Tr(i,l.value,l.defaultValue,l.children),Ea(i)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||l.suppressHydrationWarning===!0||C_(i.textContent,s)?(l.popover!=null&&(xe("beforetoggle",i),xe("toggle",i)),l.onScroll!=null&&xe("scroll",i),l.onScrollEnd!=null&&xe("scrollend",i),l.onClick!=null&&(i.onclick=Nc),i=!0):i=!1,i||xa(t)}function vp(t){for(rn=t.return;rn;)switch(rn.tag){case 3:case 27:ui=!0;return;case 5:case 13:ui=!1;return;default:rn=rn.return}}function Xo(t){if(t!==rn)return!1;if(!He)return vp(t),He=!0,!1;var i=!1,s;if((s=t.tag!==3&&t.tag!==27)&&((s=t.tag===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||qd(t.type,t.memoizedProps)),s=!s),s&&(i=!0),i&&zt&&xa(t),vp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(i===0){zt=Gn(t.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;t=t.nextSibling}zt=null}}else zt=rn?Gn(t.stateNode.nextSibling):null;return!0}function Wo(){zt=rn=null,He=!1}function Zo(t){Hn===null?Hn=[t]:Hn.push(t)}var Jo=Error(a(460)),Ep=Error(a(474)),bf={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function bp(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(ec,ec),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Jo?Error(a(483)):t;default:if(typeof i.status=="string")i.then(ec,ec);else{if(t=Ze,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Jo?Error(a(483)):t}throw el=i,Jo}}var el=null;function wp(){if(el===null)throw Error(a(459));var t=el;return el=null,t}var Ms=null,tl=0;function tc(t){var i=tl;return tl+=1,Ms===null&&(Ms=[]),bp(Ms,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===u?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Sp(t){var i=t._init;return i(t._payload)}function Ap(t){function i(L,V){if(t){var B=L.deletions;B===null?(L.deletions=[V],L.flags|=16):B.push(V)}}function s(L,V){if(!t)return null;for(;V!==null;)i(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Pr(L,V),L.index=0,L.sibling=null,L}function d(L,V,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<V?(L.flags|=33554434,V):B):(L.flags|=33554434,V)):(L.flags|=1048576,V)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function T(L,V,B,X){return V===null||V.tag!==6?(V=pd(B,L.mode,X),V.return=L,V):(V=h(V,B),V.return=L,V)}function R(L,V,B,X){var ce=B.type;return ce===g?$(L,V,B.props.children,X,B.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Sp(ce)===V.type)?(V=h(V,B.props),nl(V,B),V.return=L,V):(V=Ec(B.type,B.key,B.props,null,L.mode,X),nl(V,B),V.return=L,V)}function P(L,V,B,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=yd(B,L.mode,X),V.return=L,V):(V=h(V,B.children||[]),V.return=L,V)}function $(L,V,B,X,ce){return V===null||V.tag!==7?(V=Fa(B,L.mode,X,ce),V.return=L,V):(V=h(V,B),V.return=L,V)}function ne(L,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=pd(""+V,L.mode,B),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return B=Ec(V.type,V.key,V.props,null,L.mode,B),nl(B,V),B.return=L,B;case m:return V=yd(V,L.mode,B),V.return=L,V;case ee:var X=V._init;return V=X(V._payload),ne(L,V,B)}if(se(V)||Te(V))return V=Fa(V,L.mode,B,null),V.return=L,V;if(typeof V.then=="function")return ne(L,tc(V),B);if(V.$$typeof===O)return ne(L,yc(L,V),B);nc(L,V)}return null}function H(L,V,B,X){var ce=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ce!==null?null:T(L,V,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ce?R(L,V,B,X):null;case m:return B.key===ce?P(L,V,B,X):null;case ee:return ce=B._init,B=ce(B._payload),H(L,V,B,X)}if(se(B)||Te(B))return ce!==null?null:$(L,V,B,X,null);if(typeof B.then=="function")return H(L,V,tc(B),X);if(B.$$typeof===O)return H(L,V,yc(L,B),X);nc(L,B)}return null}function K(L,V,B,X,ce){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,T(V,L,""+X,ce);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return L=L.get(X.key===null?B:X.key)||null,R(V,L,X,ce);case m:return L=L.get(X.key===null?B:X.key)||null,P(V,L,X,ce);case ee:var De=X._init;return X=De(X._payload),K(L,V,B,X,ce)}if(se(X)||Te(X))return L=L.get(B)||null,$(V,L,X,ce,null);if(typeof X.then=="function")return K(L,V,B,tc(X),ce);if(X.$$typeof===O)return K(L,V,B,yc(V,X),ce);nc(V,X)}return null}function fe(L,V,B,X){for(var ce=null,De=null,me=V,_e=V=0,kt=null;me!==null&&_e<B.length;_e++){me.index>_e?(kt=me,me=null):kt=me.sibling;var Fe=H(L,me,B[_e],X);if(Fe===null){me===null&&(me=kt);break}t&&me&&Fe.alternate===null&&i(L,me),V=d(Fe,V,_e),De===null?ce=Fe:De.sibling=Fe,De=Fe,me=kt}if(_e===B.length)return s(L,me),He&&Va(L,_e),ce;if(me===null){for(;_e<B.length;_e++)me=ne(L,B[_e],X),me!==null&&(V=d(me,V,_e),De===null?ce=me:De.sibling=me,De=me);return He&&Va(L,_e),ce}for(me=l(me);_e<B.length;_e++)kt=K(me,L,_e,B[_e],X),kt!==null&&(t&&kt.alternate!==null&&me.delete(kt.key===null?_e:kt.key),V=d(kt,V,_e),De===null?ce=kt:De.sibling=kt,De=kt);return t&&me.forEach(function(Br){return i(L,Br)}),He&&Va(L,_e),ce}function Se(L,V,B,X){if(B==null)throw Error(a(151));for(var ce=null,De=null,me=V,_e=V=0,kt=null,Fe=B.next();me!==null&&!Fe.done;_e++,Fe=B.next()){me.index>_e?(kt=me,me=null):kt=me.sibling;var Br=H(L,me,Fe.value,X);if(Br===null){me===null&&(me=kt);break}t&&me&&Br.alternate===null&&i(L,me),V=d(Br,V,_e),De===null?ce=Br:De.sibling=Br,De=Br,me=kt}if(Fe.done)return s(L,me),He&&Va(L,_e),ce;if(me===null){for(;!Fe.done;_e++,Fe=B.next())Fe=ne(L,Fe.value,X),Fe!==null&&(V=d(Fe,V,_e),De===null?ce=Fe:De.sibling=Fe,De=Fe);return He&&Va(L,_e),ce}for(me=l(me);!Fe.done;_e++,Fe=B.next())Fe=K(me,L,_e,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?_e:Fe.key),V=d(Fe,V,_e),De===null?ce=Fe:De.sibling=Fe,De=Fe);return t&&me.forEach(function(vS){return i(L,vS)}),He&&Va(L,_e),ce}function ft(L,V,B,X){if(typeof B=="object"&&B!==null&&B.type===g&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var ce=B.key;V!==null;){if(V.key===ce){if(ce=B.type,ce===g){if(V.tag===7){s(L,V.sibling),X=h(V,B.props.children),X.return=L,L=X;break e}}else if(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ee&&Sp(ce)===V.type){s(L,V.sibling),X=h(V,B.props),nl(X,B),X.return=L,L=X;break e}s(L,V);break}else i(L,V);V=V.sibling}B.type===g?(X=Fa(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=Ec(B.type,B.key,B.props,null,L.mode,X),nl(X,B),X.return=L,L=X)}return v(L);case m:e:{for(ce=B.key;V!==null;){if(V.key===ce)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){s(L,V.sibling),X=h(V,B.children||[]),X.return=L,L=X;break e}else{s(L,V);break}else i(L,V);V=V.sibling}X=yd(B,L.mode,X),X.return=L,L=X}return v(L);case ee:return ce=B._init,B=ce(B._payload),ft(L,V,B,X)}if(se(B))return fe(L,V,B,X);if(Te(B)){if(ce=Te(B),typeof ce!="function")throw Error(a(150));return B=ce.call(B),Se(L,V,B,X)}if(typeof B.then=="function")return ft(L,V,tc(B),X);if(B.$$typeof===O)return ft(L,V,yc(L,B),X);nc(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(s(L,V.sibling),X=h(V,B),X.return=L,L=X):(s(L,V),X=pd(B,L.mode,X),X.return=L,L=X),v(L)):s(L,V)}return function(L,V,B,X){try{tl=0;var ce=ft(L,V,B,X);return Ms=null,ce}catch(me){if(me===Jo)throw me;var De=Pn(29,me,null,L.mode);return De.lanes=X,De.return=L,De}finally{}}}var Pa=Ap(!0),Rp=Ap(!1),Vs=qe(null),ic=qe(0);function Cp(t,i){t=Yi,Qe(ic,t),Qe(Vs,i),Yi=t|i.baseLanes}function wf(){Qe(ic,Yi),Qe(Vs,Vs.current)}function Sf(){Yi=ic.current,lt(Vs),lt(ic)}var Mn=qe(null),ci=null;function Sr(t){var i=t.alternate;Qe(Rt,Rt.current&1),Qe(Mn,t),ci===null&&(i===null||Vs.current!==null||i.memoizedState!==null)&&(ci=t)}function Ip(t){if(t.tag===22){if(Qe(Rt,Rt.current),Qe(Mn,t),ci===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ci=t)}}else Ar()}function Ar(){Qe(Rt,Rt.current),Qe(Mn,Mn.current)}function ki(t){lt(Mn),ci===t&&(ci=null),lt(Rt)}var Rt=qe(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},ow=r.unstable_scheduleCallback,lw=r.unstable_NormalPriority,Ct={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new sw,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&ow(lw,function(){t.controller.abort()})}var rl=null,Rf=0,xs=0,Ps=null;function uw(t,i){if(rl===null){var s=rl=[];Rf=0,xs=Md(),Ps={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Rf++,i.then(Dp,Dp),i}function Dp(){if(--Rf===0&&rl!==null){Ps!==null&&(Ps.status="fulfilled");var t=rl;rl=null,xs=0,Ps=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function cw(t,i){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Op=S.S;S.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&uw(t,i),Op!==null&&Op(t,i)};var ka=qe(null);function Cf(){var t=ka.current;return t!==null?t:Ze.pooledCache}function ac(t,i){i===null?Qe(ka,ka.current):Qe(ka,i.pool)}function Np(){var t=Cf();return t===null?null:{parent:Ct._currentValue,pool:t}}var Rr=0,Ie=null,$e=null,yt=null,sc=!1,ks=!1,La=!1,oc=0,al=0,Ls=null,hw=0;function mt(){throw Error(a(321))}function If(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!mn(t[s],i[s]))return!1;return!0}function Df(t,i,s,l,h,d){return Rr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=t===null||t.memoizedState===null?Ua:Cr,La=!1,d=s(l,h),La=!1,ks&&(d=Vp(i,s,l,h)),Mp(t),d}function Mp(t){S.H=hi;var i=$e!==null&&$e.next!==null;if(Rr=0,yt=$e=Ie=null,sc=!1,al=0,Ls=null,i)throw Error(a(300));t===null||xt||(t=t.dependencies,t!==null&&pc(t)&&(xt=!0))}function Vp(t,i,s,l){Ie=t;var h=0;do{if(ks&&(Ls=null),al=0,ks=!1,25<=h)throw Error(a(301));if(h+=1,yt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=za,d=i(s,l)}while(ks);return d}function fw(){var t=S.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Of(){var t=oc!==0;return oc=0,t}function Nf(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Mf(t){if(sc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}sc=!1}Rr=0,yt=$e=Ie=null,ks=!1,al=oc=0,Ls=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ie.memoizedState=yt=t:yt=yt.next=t,yt}function _t(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=yt===null?Ie.memoizedState:yt.next;if(i!==null)yt=i,$e=t;else{if(t===null)throw Ie.alternate===null?Error(a(467)):Error(a(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},yt===null?Ie.memoizedState=yt=t:yt=yt.next=t}return yt}var lc;lc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var i=al;return al+=1,Ls===null&&(Ls=[]),t=bp(Ls,t,i),i=Ie,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?Ua:Cr),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===O)return Yt(t)}throw Error(a(438,String(t)))}function Vf(t){var i=null,s=Ie.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=lc(),Ie.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),l=0;l<t;l++)s[l]=pe;return i.index++,s}function Li(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=_t();return xf(i,$e,t)}function xf(t,i,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,R=null,P=i,$=!1;do{var ne=P.lane&-536870913;if(ne!==P.lane?(Ue&ne)===ne:(Rr&ne)===ne){var H=P.revertLane;if(H===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ne===xs&&($=!0);else if((Rr&H)===H){P=P.next,H===xs&&($=!0);continue}else ne={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=ne,v=d):R=R.next=ne,Ie.lanes|=H,kr|=H;ne=P.action,La&&s(d,ne),d=P.hasEagerState?P.eagerState:s(d,ne)}else H={lane:ne,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=H,v=d):R=R.next=H,Ie.lanes|=ne,kr|=ne;P=P.next}while(P!==null&&P!==i);if(R===null?v=d:R.next=T,!mn(d,t.memoizedState)&&(xt=!0,$&&(s=Ps,s!==null)))throw s;t.memoizedState=d,t.baseState=v,t.baseQueue=R,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Pf(t){var i=_t(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,h=s.pending,d=i.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);mn(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),s.lastRenderedState=d}return[d,l]}function xp(t,i,s){var l=Ie,h=_t(),d=He;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=i();var v=!mn(($e||h).memoizedState,s);if(v&&(h.memoizedState=s,xt=!0),h=h.queue,Uf(Lp.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Us(9,kp.bind(null,l,h,s,i),{destroy:void 0},null),Ze===null)throw Error(a(349));d||Rr&60||Pp(l,i,s)}return s}function Pp(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=Ie.updateQueue,i===null?(i=lc(),Ie.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function kp(t,i,s,l){i.value=s,i.getSnapshot=l,Up(i)&&zp(t)}function Lp(t,i,s){return s(function(){Up(i)&&zp(t)})}function Up(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!mn(t,s)}catch{return!0}}function zp(t){var i=wr(t,2);i!==null&&an(i,t,2)}function kf(t){var i=ln();if(typeof t=="function"){var s=t;if(t=s(),La){Zn(!0);try{s()}finally{Zn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function jp(t,i,s,l){return t.baseState=s,xf(t,$e,typeof l=="function"?l:Li)}function dw(t,i,s,l,h){if(dc(t))throw Error(a(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};S.T!==null?s(!0):d.isTransition=!1,l(d),s=i.pending,s===null?(d.next=i.pending=d,qp(i,d)):(d.next=s.next,i.pending=s.next=d)}}function qp(t,i){var s=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=S.T,v={};S.T=v;try{var T=s(h,l),R=S.S;R!==null&&R(v,T),Bp(t,i,T)}catch(P){Lf(t,i,P)}finally{S.T=d}}else try{d=s(h,l),Bp(t,i,d)}catch(P){Lf(t,i,P)}}function Bp(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Hp(t,i,l)},function(l){return Lf(t,i,l)}):Hp(t,i,s)}function Hp(t,i,s){i.status="fulfilled",i.value=s,Fp(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,qp(t,s)))}function Lf(t,i,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=s,Fp(i),i=i.next;while(i!==l)}t.action=null}function Fp(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gp(t,i){return i}function Yp(t,i){if(He){var s=Ze.formState;if(s!==null){e:{var l=Ie;if(He){if(zt){t:{for(var h=zt,d=ui;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){zt=Gn(h.nextSibling),l=h.data==="F!";break e}}xa(l)}l=!1}l&&(i=s[0])}}return s=ln(),s.memoizedState=s.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gp,lastRenderedState:i},s.queue=l,s=cy.bind(null,Ie,l),l.dispatch=s,l=kf(!1),d=Hf.bind(null,Ie,!1,l.queue),l=ln(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,s=dw.bind(null,Ie,h,d,s),h.dispatch=s,l.memoizedState=t,[i,s,!1]}function Qp(t){var i=_t();return Kp(i,$e,t)}function Kp(t,i,s){i=xf(t,i,Gp)[0],t=cc(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sl(i):i;var l=_t(),h=l.queue,d=h.dispatch;return s!==l.memoizedState&&(Ie.flags|=2048,Us(9,mw.bind(null,h,s),{destroy:void 0},null)),[i,d,t]}function mw(t,i){t.action=i}function $p(t){var i=_t(),s=$e;if(s!==null)return Kp(i,s,t);_t(),i=i.memoizedState,s=_t();var l=s.queue.dispatch;return s.memoizedState=t,[i,l,!1]}function Us(t,i,s,l){return t={tag:t,create:i,inst:s,deps:l,next:null},i=Ie.updateQueue,i===null&&(i=lc(),Ie.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,i.lastEffect=t),t}function Xp(){return _t().memoizedState}function hc(t,i,s,l){var h=ln();Ie.flags|=t,h.memoizedState=Us(1|i,s,{destroy:void 0},l===void 0?null:l)}function fc(t,i,s,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&If(l,$e.memoizedState.deps)?h.memoizedState=Us(i,s,d,l):(Ie.flags|=t,h.memoizedState=Us(1|i,s,d,l))}function Wp(t,i){hc(8390656,8,t,i)}function Uf(t,i){fc(2048,8,t,i)}function Zp(t,i){return fc(4,2,t,i)}function Jp(t,i){return fc(4,4,t,i)}function ey(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function ty(t,i,s){s=s!=null?s.concat([t]):null,fc(4,4,ey.bind(null,i,t),s)}function zf(){}function ny(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;return i!==null&&If(i,l[1])?l[0]:(s.memoizedState=[t,i],t)}function iy(t,i){var s=_t();i=i===void 0?null:i;var l=s.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),La){Zn(!0);try{t()}finally{Zn(!1)}}return s.memoizedState=[l,i],l}function jf(t,i,s){return s===void 0||Rr&1073741824?t.memoizedState=i:(t.memoizedState=s,t=a_(),Ie.lanes|=t,kr|=t,s)}function ry(t,i,s,l){return mn(s,i)?s:Vs.current!==null?(t=jf(t,s,l),mn(t,i)||(xt=!0),t):Rr&42?(t=a_(),Ie.lanes|=t,kr|=t,i):(xt=!0,t.memoizedState=s)}function ay(t,i,s,l,h){var d=re.p;re.p=d!==0&&8>d?d:8;var v=S.T,T={};S.T=T,Hf(t,!1,i,s);try{var R=h(),P=S.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var $=cw(R,l);ol(t,i,$,_n(t))}else ol(t,i,l,_n(t))}catch(ne){ol(t,i,{then:function(){},status:"rejected",reason:ne},_n())}finally{re.p=d,S.T=v}}function gw(){}function qf(t,i,s,l){if(t.tag!==5)throw Error(a(476));var h=sy(t).queue;ay(t,h,i,be,s===null?gw:function(){return oy(t),s(l)})}function sy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:be},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function oy(t){var i=sy(t).next.queue;ol(t,i,{},_n())}function Bf(){return Yt(Cl)}function ly(){return _t().memoizedState}function uy(){return _t().memoizedState}function pw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=_n();t=Or(s);var l=Nr(i,t,s);l!==null&&(an(l,i,s),cl(l,i,s)),i={cache:Af()},t.payload=i;return}i=i.return}}function yw(t,i,s){var l=_n();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},dc(t)?hy(i,s):(s=_f(t,i,s,l),s!==null&&(an(s,t,l),fy(s,i,l)))}function cy(t,i,s){var l=_n();ol(t,i,s,l)}function ol(t,i,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(dc(t))hy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,mn(T,v))return Xu(t,i,h,0),Ze===null&&$u(),!1}catch{}finally{}if(s=_f(t,i,h,l),s!==null)return an(s,t,l),fy(s,i,l),!0}return!1}function Hf(t,i,s,l){if(l={lane:2,revertLane:Md(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(a(479))}else i=_f(t,s,l,2),i!==null&&an(i,t,2)}function dc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function hy(t,i){ks=sc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function fy(t,i,s){if(s&4194176){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,dr(t,s)}}var hi={readContext:Yt,use:uc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};hi.useCacheRefresh=mt,hi.useMemoCache=mt,hi.useHostTransitionStatus=mt,hi.useFormState=mt,hi.useActionState=mt,hi.useOptimistic=mt;var Ua={readContext:Yt,use:uc,useCallback:function(t,i){return ln().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Wp,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,hc(4194308,4,ey.bind(null,i,t),s)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var s=ln();i=i===void 0?null:i;var l=t();if(La){Zn(!0);try{t()}finally{Zn(!1)}}return s.memoizedState=[l,i],l},useReducer:function(t,i,s){var l=ln();if(s!==void 0){var h=s(i);if(La){Zn(!0);try{s(i)}finally{Zn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=yw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=ln();return t={current:t},i.memoizedState=t},useState:function(t){t=kf(t);var i=t.queue,s=cy.bind(null,Ie,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:zf,useDeferredValue:function(t,i){var s=ln();return jf(s,t,i)},useTransition:function(){var t=kf(!1);return t=ay.bind(null,Ie,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var l=Ie,h=ln();if(He){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ze===null)throw Error(a(349));Ue&60||Pp(l,i,s)}h.memoizedState=s;var d={value:s,getSnapshot:i};return h.queue=d,Wp(Lp.bind(null,l,d,t),[t]),l.flags|=2048,Us(9,kp.bind(null,l,d,s,i),{destroy:void 0},null),s},useId:function(){var t=ln(),i=Ze.identifierPrefix;if(He){var s=Pi,l=xi;s=(l&~(1<<32-en(l)-1)).toString(32)+s,i=":"+i+"R"+s,s=oc++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=hw++,i=":"+i+"r"+s.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return ln().memoizedState=pw.bind(null,Ie)}};Ua.useMemoCache=Vf,Ua.useHostTransitionStatus=Bf,Ua.useFormState=Yp,Ua.useActionState=Yp,Ua.useOptimistic=function(t){var i=ln();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Hf.bind(null,Ie,!0,s),s.dispatch=i,[t,i]};var Cr={readContext:Yt,use:uc,useCallback:ny,useContext:Yt,useEffect:Uf,useImperativeHandle:ty,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:iy,useReducer:cc,useRef:Xp,useState:function(){return cc(Li)},useDebugValue:zf,useDeferredValue:function(t,i){var s=_t();return ry(s,$e.memoizedState,t,i)},useTransition:function(){var t=cc(Li)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xp,useId:ly};Cr.useCacheRefresh=uy,Cr.useMemoCache=Vf,Cr.useHostTransitionStatus=Bf,Cr.useFormState=Qp,Cr.useActionState=Qp,Cr.useOptimistic=function(t,i){var s=_t();return jp(s,$e,t,i)};var za={readContext:Yt,use:uc,useCallback:ny,useContext:Yt,useEffect:Uf,useImperativeHandle:ty,useInsertionEffect:Zp,useLayoutEffect:Jp,useMemo:iy,useReducer:Pf,useRef:Xp,useState:function(){return Pf(Li)},useDebugValue:zf,useDeferredValue:function(t,i){var s=_t();return $e===null?jf(s,t,i):ry(s,$e.memoizedState,t,i)},useTransition:function(){var t=Pf(Li)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:xp,useId:ly};za.useCacheRefresh=uy,za.useMemoCache=Vf,za.useHostTransitionStatus=Bf,za.useFormState=$p,za.useActionState=$p,za.useOptimistic=function(t,i){var s=_t();return $e!==null?jp(s,$e,t,i):(s.baseState=t,[t,s.queue.dispatch])};function Ff(t,i,s,l){i=t.memoizedState,s=s(l,i),s=s==null?i:I({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Gf={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,s){t=t._reactInternals;var l=_n(),h=Or(l);h.payload=i,s!=null&&(h.callback=s),i=Nr(t,h,l),i!==null&&(an(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var l=_n(),h=Or(l);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Nr(t,h,l),i!==null&&(an(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=_n(),l=Or(s);l.tag=2,i!=null&&(l.callback=i),i=Nr(t,l,s),i!==null&&(an(i,t,s),cl(i,t,s))}};function dy(t,i,s,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ko(s,l)||!Ko(h,d):!0}function my(t,i,s,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function ja(t,i){var s=i;if("ref"in i){s={};for(var l in i)l!=="ref"&&(s[l]=i[l])}if(t=t.defaultProps){s===i&&(s=I({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gy(t){mc(t)}function py(t){console.error(t)}function yy(t){mc(t)}function gc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function _y(t,i,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,s){return s=Or(s),s.tag=3,s.payload={element:null},s.callback=function(){gc(t,i)},s}function vy(t){return t=Or(t),t.tag=3,t}function Ey(t,i,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){_y(i,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){_y(i,s,l),typeof h!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function _w(t,i,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=s.alternate,i!==null&&ul(i,s,h,!0),s=Mn.current,s!==null){switch(s.tag){case 13:return ci===null?Cd():s.alternate===null&&ht===0&&(ht=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===bf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([l]):i.add(l),Dd(t,l,h)),!1;case 22:return s.flags|=65536,l===bf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([l]):s.add(l)),Dd(t,l,h)),!1}throw Error(a(435,s.tag))}return Dd(t,l,h),Cd(),!1}if(He)return i=Mn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(t=Error(a(422),{cause:l}),Zo(Dn(t,s)))):(l!==Tf&&(i=Error(a(423),{cause:l}),Zo(Dn(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,s),h=Yf(t.stateNode,l,h),od(t,h),ht!==4&&(ht=2)),!1;var d=Error(a(520),{cause:l});if(d=Dn(d,s),_l===null?_l=[d]:_l.push(d),ht!==4&&(ht=2),i===null)return!0;l=Dn(l,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Yf(s.stateNode,l,t),od(s,t),!1;case 1:if(i=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Lr===null||!Lr.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=vy(h),Ey(h,t,s,l),od(s,h),!1}s=s.return}while(s!==null);return!1}var Ty=Error(a(461)),xt=!1;function jt(t,i,s,l){i.child=t===null?Rp(i,null,s,l):Pa(i,t.child,s,l)}function by(t,i,s,l,h){s=s.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Ba(i),l=Df(t,i,s,v,d,h),T=Of(),t!==null&&!xt?(Nf(t,i,h),Ui(t,i,h)):(He&&T&&vf(i),i.flags|=1,jt(t,i,l,h),i.child)}function wy(t,i,s,l,h){if(t===null){var d=s.type;return typeof d=="function"&&!gd(d)&&d.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=d,Sy(t,i,d,l,h)):(t=Ec(s.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!td(t,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:Ko,s(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Pr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Sy(t,i,s,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,td(t,h))t.flags&131072&&(xt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Qf(t,i,s,l,h)}function Ay(t,i,s){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(ll(t,i),l.mode==="hidden"||d){if(i.flags&128){if(l=v!==null?v.baseLanes|s:s,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Ry(t,i,l,s)}if(s&536870912)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ac(i,v!==null?v.cachePool:null),v!==null?Cp(i,v):wf(),Ip(i);else return i.lanes=i.childLanes=536870912,Ry(t,i,v!==null?v.baseLanes|s:s,s)}else v!==null?(ac(i,v.cachePool),Cp(i,v),Ar(),i.memoizedState=null):(t!==null&&ac(i,null),wf(),Ar());return jt(t,i,h,s),i.child}function Ry(t,i,s,l){var h=Cf();return h=h===null?null:{parent:Ct._currentValue,pool:h},i.memoizedState={baseLanes:s,cachePool:h},t!==null&&ac(i,null),wf(),Ip(i),t!==null&&ul(t,i,l,!0),null}function ll(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=2097664)}}function Qf(t,i,s,l,h){return Ba(i),s=Df(t,i,s,l,void 0,h),l=Of(),t!==null&&!xt?(Nf(t,i,h),Ui(t,i,h)):(He&&l&&vf(i),i.flags|=1,jt(t,i,s,h),i.child)}function Cy(t,i,s,l,h,d){return Ba(i),i.updateQueue=null,s=Vp(i,l,s,h),Mp(t),l=Of(),t!==null&&!xt?(Nf(t,i,d),Ui(t,i,d)):(He&&l&&vf(i),i.flags|=1,jt(t,i,s,d),i.child)}function Iy(t,i,s,l,h){if(Ba(i),i.stateNode===null){var d=Ds,v=s.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new s(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ad(i),v=s.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ds,d.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Ff(i,s,v,l),d.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Gf.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,R=ja(s,T);d.props=R;var P=d.context,$=s.contextType;v=Ds,typeof $=="object"&&$!==null&&(v=Yt($));var ne=s.getDerivedStateFromProps;$=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||P!==v)&&my(i,d,l,v),Dr=!1;var H=i.memoizedState;d.state=H,fl(i,l,d,h),hl(),P=i.memoizedState,T||H!==P||Dr?(typeof ne=="function"&&(Ff(i,s,ne,l),P=i.memoizedState),(R=Dr||dy(i,s,R,l,H,P,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=R):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,sd(t,i),v=i.memoizedProps,$=ja(s,v),d.props=$,ne=i.pendingProps,H=d.context,P=s.contextType,R=Ds,typeof P=="object"&&P!==null&&(R=Yt(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ne||H!==R)&&my(i,d,l,R),Dr=!1,H=i.memoizedState,d.state=H,fl(i,l,d,h),hl();var K=i.memoizedState;v!==ne||H!==K||Dr||t!==null&&t.dependencies!==null&&pc(t.dependencies)?(typeof T=="function"&&(Ff(i,s,T,l),K=i.memoizedState),($=Dr||dy(i,s,$,l,H,K,R)||t!==null&&t.dependencies!==null&&pc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,R),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,R)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=R,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ll(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Pa(i,t.child,null,h),i.child=Pa(i,null,s,h)):jt(t,i,s,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function Dy(t,i,s,l){return Wo(),i.flags|=256,jt(t,i,s,l),i.child}var Kf={dehydrated:null,treeContext:null,retryLane:0};function $f(t){return{baseLanes:t,cachePool:Np()}}function Xf(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=kn),t}function Oy(t,i,s){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Rt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?Sr(i):Ar(),He){var T=zt,R;if(R=T){e:{for(R=T,T=ui;R.nodeType!==8;){if(!T){T=null;break e}if(R=Gn(R.nextSibling),R===null){T=null;break e}}T=R}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ma!==null?{id:xi,overflow:Pi}:null,retryLane:536870912},R=Pn(18,null,null,0),R.stateNode=T,R.return=i,i.child=R,rn=i,zt=null,R=!0):R=!1}R||xa(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;ki(i)}return T=l.children,l=l.fallback,h?(Ar(),h=i.mode,T=Zf({mode:"hidden",children:T},h),l=Fa(l,h,s,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=$f(s),h.childLanes=Xf(t,v,s),i.memoizedState=Kf,l):(Sr(i),Wf(i,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(d)i.flags&256?(Sr(i),i.flags&=-257,i=Jf(t,i,s)):i.memoizedState!==null?(Ar(),i.child=t.child,i.flags|=128,i=null):(Ar(),h=l.fallback,T=i.mode,l=Zf({mode:"visible",children:l.children},T),h=Fa(h,T,s,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Pa(i,t.child,null,s),l=i.child,l.memoizedState=$f(s),l.childLanes=Xf(t,v,s),i.memoizedState=Kf,i=h);else if(Sr(i),T.data==="$!"){if(v=T.nextSibling&&T.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(a(419)),l.stack="",l.digest=v,Zo({value:l,source:null,stack:null}),i=Jf(t,i,s)}else if(xt||ul(t,i,s,!1),v=(s&t.childLanes)!==0,xt||v){if(v=Ze,v!==null){if(l=s&-s,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(v.suspendedLanes|s)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,wr(t,l),an(v,t,l),Ty}T.data==="$?"||Cd(),i=Jf(t,i,s)}else T.data==="$?"?(i.flags|=128,i.child=t.child,i=Vw.bind(null,t),T._reactRetry=i,i=null):(t=R.treeContext,zt=Gn(T.nextSibling),rn=i,He=!0,Hn=null,ui=!1,t!==null&&(On[Nn++]=xi,On[Nn++]=Pi,On[Nn++]=Ma,xi=t.id,Pi=t.overflow,Ma=i),i=Wf(i,l.children),i.flags|=4096);return i}return h?(Ar(),h=l.fallback,T=i.mode,R=t.child,P=R.sibling,l=Pr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,P!==null?h=Pr(P,h):(h=Fa(h,T,s,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=$f(s):(R=T.cachePool,R!==null?(P=Ct._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=Np(),T={baseLanes:T.baseLanes|s,cachePool:R}),h.memoizedState=T,h.childLanes=Xf(t,v,s),i.memoizedState=Kf,l):(Sr(i),s=t.child,t=s.sibling,s=Pr(s,{mode:"visible",children:l.children}),s.return=i,s.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=s,i.memoizedState=null,s)}function Wf(t,i){return i=Zf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zf(t,i){return n_(t,i,0,null)}function Jf(t,i,s){return Pa(i,t.child,null,s),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,s){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),id(t.return,i,s)}function ed(t,i,s,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function My(t,i,s){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(jt(t,i,l.children,s),l=Rt.current,l&2)l=l&1|2,i.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,s,i);else if(t.tag===19)Ny(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Rt,l),h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&rc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),ed(i,!1,h,s,d);break;case"backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}ed(i,!0,s,null,d);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,!(s&i.childLanes))if(t!==null){if(ul(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Pr(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Pr(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function td(t,i){return t.lanes&i?!0:(t=t.dependencies,!!(t!==null&&pc(t)))}function vw(t,i,s){switch(i.tag){case 3:or(i,i.stateNode.containerInfo),Ir(i,Ct,t.memoizedState.cache),Wo();break;case 27:case 5:Co(i);break;case 4:or(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Sr(i),i.flags|=128,null):s&i.child.childLanes?Oy(t,i,s):(Sr(i),t=Ui(t,i,s),t!==null?t.sibling:null);Sr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(s&i.childLanes)!==0,l||(ul(t,i,s,!1),l=(s&i.childLanes)!==0),h){if(l)return My(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Rt,Rt.current),l)break;return null;case 22:case 23:return i.lanes=0,Ay(t,i,s);case 24:Ir(i,Ct,t.memoizedState.cache)}return Ui(t,i,s)}function Vy(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!td(t,s)&&!(i.flags&128))return xt=!1,vw(t,i,s);xt=!!(t.flags&131072)}else xt=!1,He&&i.flags&1048576&&yp(i,Ju,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")gd(l)?(t=ja(l,t),i.tag=1,i=Iy(null,i,l,t,s)):(i.tag=0,i=Qf(null,i,l,t,s));else{if(l!=null){if(h=l.$$typeof,h===k){i.tag=11,i=by(null,i,l,t,s);break e}else if(h===G){i.tag=14,i=wy(null,i,l,t,s);break e}}throw i=A(l)||l,Error(a(306,i,""))}}return i;case 0:return Qf(t,i,i.type,i.pendingProps,s);case 1:return l=i.type,h=ja(l,i.pendingProps),Iy(t,i,l,h,s);case 3:e:{if(or(i,i.stateNode.containerInfo),t===null)throw Error(a(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,sd(t,i),fl(i,d,null,s);var v=i.memoizedState;if(d=v.cache,Ir(i,Ct,d),d!==h.cache&&rd(i,[Ct],s,!0),hl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=Dy(t,i,d,s);break e}else if(d!==l){l=Dn(Error(a(424)),i),Zo(l),i=Dy(t,i,d,s);break e}else for(zt=Gn(i.stateNode.containerInfo.firstChild),rn=i,He=!0,Hn=null,ui=!0,s=Rp(i,null,d,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Wo(),d===l){i=Ui(t,i,s);break e}jt(t,i,d,s)}i=i.child}return i;case 26:return ll(t,i),t===null?(s=k_(i.type,null,i.pendingProps,null))?i.memoizedState=s:He||(s=i.type,t=i.pendingProps,l=Mc(Tn.current).createElement(s),l[Nt]=i,l[wt]=t,qt(l,s,t),nt(l),i.stateNode=l):i.memoizedState=k_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Co(i),t===null&&He&&(l=i.stateNode=V_(i.type,i.pendingProps,Tn.current),rn=i,ui=!0,zt=Gn(l.firstChild)),l=i.pendingProps.children,t!==null||He?jt(t,i,l,s):i.child=Pa(i,null,l,s),ll(t,i),i.child;case 5:return t===null&&He&&((h=l=zt)&&(l=$w(l,i.type,i.pendingProps,ui),l!==null?(i.stateNode=l,rn=i,zt=Gn(l.firstChild),ui=!1,h=!0):h=!1),h||xa(i)),Co(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,qd(h,d)?l=null:v!==null&&qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Df(t,i,fw,null,null,s),Cl._currentValue=h),ll(t,i),jt(t,i,l,s),i.child;case 6:return t===null&&He&&((t=s=zt)&&(s=Xw(s,i.pendingProps,ui),s!==null?(i.stateNode=s,rn=i,zt=null,t=!0):t=!1),t||xa(i)),null;case 13:return Oy(t,i,s);case 4:return or(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Pa(i,null,l,s):jt(t,i,l,s),i.child;case 11:return by(t,i,i.type,i.pendingProps,s);case 7:return jt(t,i,i.pendingProps,s),i.child;case 8:return jt(t,i,i.pendingProps.children,s),i.child;case 12:return jt(t,i,i.pendingProps.children,s),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),jt(t,i,l.children,s),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ba(i),h=Yt(h),l=l(h),i.flags|=1,jt(t,i,l,s),i.child;case 14:return wy(t,i,i.type,i.pendingProps,s);case 15:return Sy(t,i,i.type,i.pendingProps,s);case 19:return My(t,i,s);case 22:return Ay(t,i,s);case 24:return Ba(i),l=Yt(Ct),t===null?(h=Cf(),h===null&&(h=Ze,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),i.memoizedState={parent:l,cache:h},ad(i),Ir(i,Ct,h)):(t.lanes&s&&(sd(t,i),fl(i,null,null,s),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Ct,l)):(l=d.cache,Ir(i,Ct,l),l!==h.cache&&rd(i,[Ct],s,!0))),jt(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var nd=qe(null),qa=null,zi=null;function Ir(t,i,s){Qe(nd,i._currentValue),i._currentValue=s}function ji(t){t._currentValue=nd.current,lt(nd)}function id(t,i,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===s)break;t=t.return}}function rd(t,i,s,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var R=0;R<i.length;R++)if(T.context===i[R]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),id(d.return,s,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),id(v,s,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ul(t,i,s,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;mn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===sr.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Cl):t=[Cl])}h=h.return}t!==null&&rd(i,t,s,l),i.flags|=262144}function pc(t){for(t=t.firstContext;t!==null;){if(!mn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ba(t){qa=t,zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return xy(qa,t)}function yc(t,i){return qa===null&&Ba(t),xy(t,i)}function xy(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},zi===null){if(t===null)throw Error(a(308));zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else zi=zi.next=i;return s}var Dr=!1;function ad(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Nr(t,i,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,rt&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),gp(t,null,s),i}return Xu(t,l,i,s),Wu(t)}function cl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,s|=l,i.lanes=s,dr(t,s)}}function od(t,i){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=i:d=d.next=i}else h=d=i;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var ld=!1;function hl(){if(ld){var t=Ps;if(t!==null)throw t}}function fl(t,i,s,l){ld=!1;var h=t.updateQueue;Dr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,v===null?d=P:v.next=P,v=R;var $=t.alternate;$!==null&&($=$.updateQueue,T=$.lastBaseUpdate,T!==v&&(T===null?$.firstBaseUpdate=P:T.next=P,$.lastBaseUpdate=R))}if(d!==null){var ne=h.baseState;v=0,$=P=R=null,T=d;do{var H=T.lane&-536870913,K=H!==T.lane;if(K?(Ue&H)===H:(l&H)===H){H!==0&&H===xs&&(ld=!0),$!==null&&($=$.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Se=T;H=i;var ft=s;switch(Se.tag){case 1:if(fe=Se.payload,typeof fe=="function"){ne=fe.call(ft,ne,H);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Se.payload,H=typeof fe=="function"?fe.call(ft,ne,H):fe,H==null)break e;ne=I({},ne,H);break e;case 2:Dr=!0}}H=T.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},$===null?(P=$=K,R=ne):$=$.next=K,v|=H;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(R=ne),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),kr|=v,t.lanes=v,t.memoizedState=ne}}function Py(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function ky(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Py(s[t],i)}function dl(t,i){try{var s=i.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&t)===t){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){We(i,i.return,T)}}function Mr(t,i,s){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var R=s;try{T()}catch(P){We(h,R,P)}}}l=l.next}while(l!==d)}}catch(P){We(i,i.return,P)}}function Ly(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{ky(i,s)}catch(l){We(t,t.return,l)}}}function Uy(t,i,s){s.props=ja(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){We(t,i,l)}}function Ha(t,i){try{var s=t.ref;if(s!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof s=="function"?t.refCleanup=s(h):s.current=h}}catch(d){We(t,i,d)}}function gn(t,i){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){We(t,i,h)}else s.current=null}function zy(t){var i=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){We(t,t.return,h)}}function jy(t,i,s){try{var l=t.stateNode;Fw(l,t.type,s,i),l[wt]=i}catch(h){We(t,t.return,h)}}function qy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(t,i):s.insertBefore(t,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(t,s)):(i=s,i.appendChild(t)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Nc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cd(t,i,s),t=t.sibling;t!==null;)cd(t,i,s),t=t.sibling}function _c(t,i,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(_c(t,i,s),t=t.sibling;t!==null;)_c(t,i,s),t=t.sibling}var qi=!1,ct=!1,hd=!1,By=typeof WeakSet=="function"?WeakSet:Set,Pt=null,Hy=!1;function Ew(t,i){if(t=t.containerInfo,zd=Uc,t=sp(t),df(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var v=0,T=-1,R=-1,P=0,$=0,ne=t,H=null;t:for(;;){for(var K;ne!==s||h!==0&&ne.nodeType!==3||(T=v+h),ne!==d||l!==0&&ne.nodeType!==3||(R=v+l),ne.nodeType===3&&(v+=ne.nodeValue.length),(K=ne.firstChild)!==null;)H=ne,ne=K;for(;;){if(ne===t)break t;if(H===s&&++P===h&&(T=v),H===d&&++$===l&&(R=v),(K=ne.nextSibling)!==null)break;ne=H,H=ne.parentNode}ne=K}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(jd={focusedElem:t,selectionRange:s},Uc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&d!==null){t=void 0,s=i,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var fe=ja(s.type,h,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){We(s,s.return,Se)}}break;case 3:if(t&1024){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Fd(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}return fe=Hy,Hy=!1,fe}function Fy(t,i,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(t,s),l&4&&dl(5,s);break;case 1:if(Hi(t,s),l&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(T){We(s,s.return,T)}else{var h=ja(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){We(s,s.return,T)}}l&64&&Ly(s),l&512&&Ha(s,s.return);break;case 3:if(Hi(t,s),l&64&&(l=s.updateQueue,l!==null)){if(t=null,s.child!==null)switch(s.child.tag){case 27:case 5:t=s.child.stateNode;break;case 1:t=s.child.stateNode}try{ky(l,t)}catch(T){We(s,s.return,T)}}break;case 26:Hi(t,s),l&512&&Ha(s,s.return);break;case 27:case 5:Hi(t,s),i===null&&l&4&&zy(s),l&512&&Ha(s,s.return);break;case 12:Hi(t,s);break;case 13:Hi(t,s),l&4&&Qy(t,s);break;case 22:if(h=s.memoizedState!==null||qi,!h){i=i!==null&&i.memoizedState!==null||ct;var d=qi,v=ct;qi=h,(ct=i)&&!v?Vr(t,s,(s.subtreeFlags&8772)!==0):Hi(t,s),qi=d,ct=v}l&512&&(s.memoizedProps.mode==="manual"?Ha(s,s.return):gn(s,s.return));break;default:Hi(t,s)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,pn=!1;function Bi(t,i,s){for(s=s.child;s!==null;)Yy(t,i,s),s=s.sibling}function Yy(t,i,s){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(lr,s)}catch{}switch(s.tag){case 26:ct||gn(s,i),Bi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ct||gn(s,i);var l=vt,h=pn;for(vt=s.stateNode,Bi(t,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);va(s),vt=l,pn=h;break;case 5:ct||gn(s,i);case 6:h=vt;var d=pn;if(vt=null,Bi(t,i,s),vt=h,pn=d,vt!==null)if(pn)try{t=vt,l=s.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){We(s,i,v)}else try{vt.removeChild(s.stateNode)}catch(v){We(s,i,v)}break;case 18:vt!==null&&(pn?(i=vt,s=s.stateNode,i.nodeType===8?Hd(i.parentNode,s):i.nodeType===1&&Hd(i,s),Nl(i)):Hd(vt,s.stateNode));break;case 4:l=vt,h=pn,vt=s.stateNode.containerInfo,pn=!0,Bi(t,i,s),vt=l,pn=h;break;case 0:case 11:case 14:case 15:ct||Mr(2,s,i),ct||Mr(4,s,i),Bi(t,i,s);break;case 1:ct||(gn(s,i),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Uy(s,i,l)),Bi(t,i,s);break;case 21:Bi(t,i,s);break;case 22:ct||gn(s,i),ct=(l=ct)||s.memoizedState!==null,Bi(t,i,s),ct=l;break;default:Bi(t,i,s)}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Nl(t)}catch(s){We(i,i.return,s)}}function Tw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new By),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new By),i;default:throw Error(a(435,t.tag))}}function fd(t,i){var s=Tw(t);i.forEach(function(l){var h=xw.bind(null,t,l);s.has(l)||(s.add(l),l.then(h,h))})}function Vn(t,i){var s=i.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:case 5:vt=T.stateNode,pn=!1;break e;case 3:vt=T.stateNode.containerInfo,pn=!0;break e;case 4:vt=T.stateNode.containerInfo,pn=!0;break e}T=T.return}if(vt===null)throw Error(a(160));Yy(d,v,h),vt=null,pn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ky(i,t),i=i.sibling}var Fn=null;function Ky(t,i){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),xn(t),l&4&&(Mr(3,t,t.return),dl(3,t),Mr(5,t,t.return));break;case 1:Vn(i,t),xn(t),l&512&&(ct||s===null||gn(s,s.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Fn;if(Vn(i,t),xn(t),l&512&&(ct||s===null||gn(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gr]||d[Nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,s),d[Nt]=t,nt(d),l=d;break e;case"link":var v=z_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,s),h.head.appendChild(d);break;case"meta":if(v=z_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break t}}d=h.createElement(l),qt(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[Nt]=t,nt(d),l=d}t.stateNode=l}else j_(h,t.type,t.stateNode);else t.stateNode=U_(h,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?j_(h,t.type,t.stateNode):U_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&jy(t,t.memoizedProps,s.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var R=h.firstChild;R;){var P=R.nextSibling,$=R.nodeName;R[gr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&R.rel.toLowerCase()==="stylesheet"||h.removeChild(R),R=P}for(var ne=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);qt(h,ne,d),h[Nt]=t,h[wt]=d}catch(fe){We(t,t.return,fe)}}case 5:if(Vn(i,t),xn(t),l&512&&(ct||s===null||gn(s,s.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(fe){We(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,jy(t,h,s!==null?s.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(Vn(i,t),xn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(fe){We(t,t.return,fe)}}break;case 3:if(Pc=null,h=Fn,Fn=Vc(i.containerInfo),Vn(i,t),Fn=h,xn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Nl(i.containerInfo)}catch(fe){We(t,t.return,fe)}hd&&(hd=!1,$y(t));break;case 4:l=Fn,Fn=Vc(t.stateNode.containerInfo),Vn(i,t),xn(t),Fn=l;break;case 12:Vn(i,t),xn(t);break;case 13:Vn(i,t),xn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Td=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:if(l&512&&(ct||s===null||gn(s,s.return)),R=t.memoizedState!==null,P=s!==null&&s.memoizedState!==null,$=qi,ne=ct,qi=$||R,ct=ne||P,Vn(i,t),ct=ne,qi=$,xn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=R?i._visibility&-2:i._visibility|1,R&&(i=qi||ct,s===null||P||i||zs(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(s=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){P=s=i;try{if(h=P.stateNode,R)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,T=P.memoizedProps.style;var K=T!=null&&T.hasOwnProperty("display")?T.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(fe){We(P,P.return,fe)}}}else if(i.tag===6){if(s===null){P=i;try{P.stateNode.nodeValue=R?"":P.memoizedProps}catch(fe){We(P,P.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,fd(t,s))));break;case 19:Vn(i,t),xn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 21:break;default:Vn(i,t),xn(t)}}function xn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var s=t.return;s!==null;){if(qy(s)){var l=s;break e}s=s.return}throw Error(a(160))}switch(l.tag){case 27:var h=l.stateNode,d=ud(t);_c(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Sn(v,""),l.flags&=-33);var T=ud(t);_c(t,T,v);break;case 3:case 4:var R=l.stateNode.containerInfo,P=ud(t);cd(t,P,R);break;default:throw Error(a(161))}}}catch($){We(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Hi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),zs(i);break;case 1:gn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Uy(i,i.return,s),zs(i);break;case 26:case 27:case 5:gn(i,i.return),zs(i);break;case 22:gn(i,i.return),i.memoizedState===null&&zs(i);break;default:zs(i)}t=t.sibling}}function Vr(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(h,d,s),dl(4,d);break;case 1:if(Vr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){We(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Py(R[h],T)}catch(P){We(l,l.return,P)}}s&&v&64&&Ly(d),Ha(d,d.return);break;case 26:case 27:case 5:Vr(h,d,s),s&&l===null&&v&4&&zy(d),Ha(d,d.return);break;case 12:Vr(h,d,s);break;case 13:Vr(h,d,s),s&&v&4&&Qy(h,d);break;case 22:d.memoizedState===null&&Vr(h,d,s),Ha(d,d.return);break;default:Vr(h,d,s)}i=i.sibling}}function dd(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&il(s))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t))}function xr(t,i,s,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(t,i,s,l),i=i.sibling}function Xy(t,i,s,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:xr(t,i,s,l),h&2048&&dl(9,i);break;case 3:xr(t,i,s,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&il(t)));break;case 12:if(h&2048){xr(t,i,s,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){We(i,i.return,R)}}else xr(t,i,s,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?xr(t,i,s,l):ml(t,i):d._visibility&4?xr(t,i,s,l):(d._visibility|=4,js(t,i,s,l,(i.subtreeFlags&10256)!==0)),h&2048&&dd(i.alternate,i);break;case 24:xr(t,i,s,l),h&2048&&md(i.alternate,i);break;default:xr(t,i,s,l)}}function js(t,i,s,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=s,R=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:js(d,v,T,R,h),dl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?js(d,v,T,R,h):ml(d,v):($._visibility|=4,js(d,v,T,R,h)),h&&P&2048&&dd(v.alternate,v);break;case 24:js(d,v,T,R,h),h&&P&2048&&md(v.alternate,v);break;default:js(d,v,T,R,h)}i=i.sibling}}function ml(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,l=i,h=l.flags;switch(l.tag){case 22:ml(s,l),h&2048&&dd(l.alternate,l);break;case 24:ml(s,l),h&2048&&md(l.alternate,l);break;default:ml(s,l)}i=i.sibling}}var gl=8192;function qs(t){if(t.subtreeFlags&gl)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 26:qs(t),t.flags&gl&&t.memoizedState!==null&&uS(Fn,t.memoizedState,t.memoizedProps);break;case 5:qs(t);break;case 3:case 4:var i=Fn;Fn=Vc(t.stateNode.containerInfo),qs(t),Fn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=gl,gl=16777216,qs(t),gl=i):qs(t));break;default:qs(t)}}function Zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Pt=l,e_(l,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,vc(t)):pl(t);break;default:pl(t)}}function vc(t){var i=t.deletions;if(t.flags&16){if(i!==null)for(var s=0;s<i.length;s++){var l=i[s];Pt=l,e_(l,t)}Zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),vc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,vc(i));break;default:vc(i)}t=t.sibling}}function e_(t,i){for(;Pt!==null;){var s=Pt;switch(s.tag){case 0:case 11:case 15:Mr(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Pt=l;else e:for(s=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Gy(l),l===s){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}function bw(t,i,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,i,s,l){return new bw(t,i,s,l)}function gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pr(t,i){var s=t.alternate;return s===null?(s=Pn(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&31457280,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function t_(t,i){t.flags&=31457282;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ec(t,i,s,l,h,d){var v=0;if(l=t,typeof t=="function")gd(t)&&(v=1);else if(typeof t=="string")v=oS(t,s,Jt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case g:return Fa(s.children,h,d,i);case y:v=8,h|=24;break;case E:return t=Pn(12,s,i,h|2),t.elementType=E,t.lanes=d,t;case q:return t=Pn(13,s,i,h),t.elementType=q,t.lanes=d,t;case j:return t=Pn(19,s,i,h),t.elementType=j,t.lanes=d,t;case te:return n_(s,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case w:case O:v=10;break e;case C:v=9;break e;case k:v=11;break e;case G:v=14;break e;case ee:v=16,l=null;break e}v=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return i=Pn(v,s,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Fa(t,i,s,l){return t=Pn(7,t,l,i),t.lanes=s,t}function n_(t,i,s,l){t=Pn(22,t,l,i),t.elementType=te,t.lanes=s;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(a(456));if(!(h._pendingVisibility&2)){var v=wr(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(a(456));if(h._pendingVisibility&2){var v=wr(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=h,t}function pd(t,i,s){return t=Pn(6,t,null,i),t.lanes=s,t}function yd(t,i,s){return i=Pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Fi(t){t.flags|=4}function i_(t,i){if(i.type!=="stylesheet"||i.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!q_(i)){if(i=Mn.current,i!==null&&((Ue&4194176)===Ue?ci!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||i!==ci))throw el=bf,Ep;t.flags|=8192}}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?hr():536870912,t.lanes|=i,Hs|=i)}function yl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=s,i}function ww(t,i,s){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return s=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ji(Ct),wi(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Xo(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Hn!==null&&(Ad(Hn),Hn=null))),it(i),null;case 26:return s=i.memoizedState,t===null?(Fi(i),s!==null?(it(i),i_(i,s)):(it(i),i.flags&=-16777217)):s?s!==t.memoizedState?(Fi(i),it(i),i_(i,s)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Fi(i),it(i),i.flags&=-16777217),null;case 27:ls(i),s=Tn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return it(i),null}t=Jt.current,Xo(i)?_p(i):(t=V_(h,l,s),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(ls(i),s=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(a(166));return it(i),null}if(t=Jt.current,Xo(i))_p(i);else{switch(h=Mc(Tn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}t[Nt]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(a(166));if(t=Tn.current,Xo(i)){if(t=i.stateNode,s=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Nt]=i,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,s)),t||xa(i)}else t=Mc(t).createTextNode(l),t[Nt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Xo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Nt]=i}else Wo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Hn!==null&&(Ad(Hn),Hn=null),h=!0;if(!h)return i.flags&256?(ki(i),i):(ki(i),null)}if(ki(i),i.flags&128)return i.lanes=s,i;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==t&&s&&(i.child.flags|=8192),Tc(i,i.updateQueue),it(i),null;case 4:return wi(),t===null&&kd(i.stateNode.containerInfo),it(i),null;case 10:return ji(i.type),it(i),null;case 19:if(lt(Rt),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(ht!==0||t!==null&&t.flags&128)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,yl(h,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)t_(s,t),s=s.sibling;return Qe(Rt,Rt.current&1|2),i.child}t=t.sibling}h.tail!==null&&sn()>bc&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304)}else{if(!l)if(t=rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return it(i),null}else 2*sn()-h.renderingStartTime>bc&&s!==536870912&&(i.flags|=128,l=!0,yl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=sn(),i.sibling=null,t=Rt.current,Qe(Rt,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return ki(i),Sf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?s&536870912&&!(i.flags&128)&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),s=i.updateQueue,s!==null&&Tc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==s&&(i.flags|=2048),t!==null&&lt(ka),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),ji(Ct),it(i),null;case 25:return null}throw Error(a(156,i.tag))}function Sw(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ji(Ct),wi(),t=i.flags,t&65536&&!(t&128)?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ls(i),null;case 13:if(ki(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Wo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return lt(Rt),null;case 4:return wi(),null;case 10:return ji(i.type),null;case 22:case 23:return ki(i),Sf(),t!==null&&lt(ka),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ji(Ct),null;case 25:return null;default:return null}}function r_(t,i){switch(Ef(i),i.tag){case 3:ji(Ct),wi();break;case 26:case 27:case 5:ls(i);break;case 4:wi();break;case 13:ki(i);break;case 19:lt(Rt);break;case 10:ji(i.type);break;case 22:case 23:ki(i),Sf(),t!==null&&lt(ka);break;case 24:ji(Ct)}}var Aw={getCacheForType:function(t){var i=Yt(Ct),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s}},Rw=typeof WeakMap=="function"?WeakMap:Map,rt=0,Ze=null,Oe=null,Ue=0,Je=0,yn=null,Gi=!1,Bs=!1,_d=!1,Yi=0,ht=0,kr=0,Ga=0,vd=0,kn=0,Hs=0,_l=null,fi=null,Ed=!1,Td=0,bc=1/0,wc=null,Lr=null,Sc=!1,Ya=null,vl=0,bd=0,wd=null,El=0,Sd=null;function _n(){if(rt&2&&Ue!==0)return Ue&-Ue;if(S.T!==null){var t=xs;return t!==0?t:Md()}return Ou()}function a_(){kn===0&&(kn=!(Ue&536870912)||He?Mo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),kn}function an(t,i,s){(t===Ze&&Je===2||t.cancelPendingCommit!==null)&&(Fs(t,0),Qi(t,Ue,kn,!1)),dt(t,s),(!(rt&2)||t!==Ze)&&(t===Ze&&(!(rt&2)&&(Ga|=s),ht===4&&Qi(t,Ue,kn,!1)),di(t))}function s_(t,i,s){if(rt&6)throw Error(a(327));var l=!s&&(i&60)===0&&(i&t.expiredLanes)===0||cr(t,i),h=l?Dw(t,i):Id(t,i,!0),d=l;do{if(h===0){Bs&&!l&&Qi(t,i,0,!1);break}else if(h===6)Qi(t,i,0,!Gi);else{if(s=t.current.alternate,d&&!Cw(s)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=_l;var R=T.current.memoizedState.isDehydrated;if(R&&(Fs(T,v).flags|=256),v=Id(T,v,!1),v!==2){if(_d&&!R){T.errorRecoveryDisabledLanes|=d,Ga|=d,h=4;break e}d=fi,fi=h,d!==null&&Ad(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Fs(t,0),Qi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Qi(l,i,kn,!Gi);break e}break;case 2:fi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=s,l.finishedLanes=i,(i&62914560)===i&&(d=Td+300-sn(),10<d)){if(Qi(l,i,kn,!Gi),bn(l,0)!==0)break e;l.timeoutHandle=O_(o_.bind(null,l,s,fi,wc,Ed,i,kn,Ga,Hs,Gi,2,-0,0),d);break e}o_(l,s,fi,wc,Ed,i,kn,Ga,Hs,Gi,0,-0,0)}}break}while(!0);di(t)}function Ad(t){fi===null?fi=t:fi.push.apply(fi,t)}function o_(t,i,s,l,h,d,v,T,R,P,$,ne,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:lS},Wy(i),i=cS(),i!==null)){t.cancelPendingCommit=i(m_.bind(null,t,s,l,h,v,T,R,1,ne,H)),Qi(t,d,v,!P);return}m_(t,s,l,h,v,T,R,$,ne,H)}function Cw(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!mn(d(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qi(t,i,s,l){i&=~vd,i&=~Ga,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-en(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&fr(t,s,i)}function Ac(){return rt&6?!0:(Tl(0),!1)}function Rd(){if(Oe!==null){if(Je===0)var t=Oe.return;else t=Oe,zi=qa=null,Mf(t),Ms=null,tl=0,t=Oe;for(;t!==null;)r_(t.alternate,t),t=t.return;Oe=null}}function Fs(t,i){t.finishedWork=null,t.finishedLanes=0;var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,Yw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Rd(),Ze=t,Oe=s=Pr(t.current,null),Ue=i,Je=0,yn=null,Gi=!1,Bs=cr(t,i),_d=!1,Hs=kn=vd=Ga=kr=ht=0,fi=_l=null,Ed=!1,i&8&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-en(l),d=1<<h;i|=t[h],l&=~d}return Yi=i,$u(),s}function l_(t,i){Ie=null,S.H=hi,i===Jo?(i=wp(),Je=3):i===Ep?(i=wp(),Je=4):Je=i===Ty?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Oe===null&&(ht=1,gc(t,Dn(i,t.current)))}function u_(){var t=S.H;return S.H=hi,t===null?hi:t}function c_(){var t=S.A;return S.A=Aw,t}function Cd(){ht=4,Gi||(Ue&4194176)!==Ue&&Mn.current!==null||(Bs=!0),!(kr&134217727)&&!(Ga&134217727)||Ze===null||Qi(Ze,Ue,kn,!1)}function Id(t,i,s){var l=rt;rt|=2;var h=u_(),d=c_();(Ze!==t||Ue!==i)&&(wc=null,Fs(t,i)),i=!1;var v=ht;e:do try{if(Je!==0&&Oe!==null){var T=Oe,R=yn;switch(Je){case 8:Rd(),v=6;break e;case 3:case 2:case 6:Mn.current===null&&(i=!0);var P=Je;if(Je=0,yn=null,Gs(t,T,R,P),s&&Bs){v=0;break e}break;default:P=Je,Je=0,yn=null,Gs(t,T,R,P)}}Iw(),v=ht;break}catch($){l_(t,$)}while(!0);return i&&t.shellSuspendCounter++,zi=qa=null,rt=l,S.H=h,S.A=d,Oe===null&&(Ze=null,Ue=0,$u()),v}function Iw(){for(;Oe!==null;)h_(Oe)}function Dw(t,i){var s=rt;rt|=2;var l=u_(),h=c_();Ze!==t||Ue!==i?(wc=null,bc=sn()+500,Fs(t,i)):Bs=cr(t,i);e:do try{if(Je!==0&&Oe!==null){i=Oe;var d=yn;t:switch(Je){case 1:Je=0,yn=null,Gs(t,i,d,1);break;case 2:if(Tp(d)){Je=0,yn=null,f_(i);break}i=function(){Je===2&&Ze===t&&(Je=7),di(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Tp(d)?(Je=0,yn=null,f_(i)):(Je=0,yn=null,Gs(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var T=Oe;if(!v||q_(v)){Je=0,yn=null;var R=T.sibling;if(R!==null)Oe=R;else{var P=T.return;P!==null?(Oe=P,Rc(P)):Oe=null}break t}}Je=0,yn=null,Gs(t,i,d,5);break;case 6:Je=0,yn=null,Gs(t,i,d,6);break;case 8:Rd(),ht=6;break e;default:throw Error(a(462))}}Ow();break}catch($){l_(t,$)}while(!0);return zi=qa=null,S.H=l,S.A=h,rt=s,Oe!==null?0:(Ze=null,Ue=0,$u(),ht)}function Ow(){for(;Oe!==null&&!tf();)h_(Oe)}function h_(t){var i=Vy(t.alternate,t,Yi);t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function f_(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Cy(s,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Cy(s,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Mf(i);default:r_(s,i),i=Oe=t_(i,Yi),i=Vy(s,i,Yi)}t.memoizedProps=t.pendingProps,i===null?Rc(t):Oe=i}function Gs(t,i,s,l){zi=qa=null,Mf(i),Ms=null,tl=0;var h=i.return;try{if(_w(t,h,i,s,Ue)){ht=1,gc(t,Dn(s,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,gc(t,Dn(s,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:Bs||Ue&536870912?t=!1:(Gi=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),d_(i,t)):Rc(i)}function Rc(t){var i=t;do{if(i.flags&32768){d_(i,Gi);return}t=i.return;var s=ww(i.alternate,i,Yi);if(s!==null){Oe=s;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function d_(t,i){do{var s=Sw(t.alternate,t);if(s!==null){s.flags&=32767,Oe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=s}while(t!==null);ht=6,Oe=null}function m_(t,i,s,l,h,d,v,T,R,P){var $=S.T,ne=re.p;try{re.p=2,S.T=null,Nw(t,i,s,l,ne,h,d,v,T,R,P)}finally{S.T=$,re.p=ne}}function Nw(t,i,s,l,h,d,v,T){do Ys();while(Ya!==null);if(rt&6)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=R.lanes|R.childLanes;if(P|=yf,Iu(t,l,P,d,v,T),t===Ze&&(Oe=Ze=null,Ue=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Sc||(Sc=!0,bd=P,wd=s,Pw(Si,function(){return Ys(),null})),s=(R.flags&15990)!==0,R.subtreeFlags&15990||s?(s=S.T,S.T=null,d=re.p,re.p=2,v=rt,rt|=4,Ew(t,R),Ky(R,t),tw(jd,t.containerInfo),Uc=!!zd,jd=zd=null,t.current=R,Fy(t,R.alternate,R),Io(),rt=v,re.p=d,S.T=s):t.current=R,Sc?(Sc=!1,Ya=t,vl=l):g_(t,P),P=t.pendingLanes,P===0&&(Lr=null),Oo(R.stateNode),di(t),i!==null)for(h=t.onRecoverableError,R=0;R<i.length;R++)P=i[R],h(P.value,{componentStack:P.stack});return vl&3&&Ys(),P=t.pendingLanes,l&4194218&&P&42?t===Sd?El++:(El=0,Sd=t):El=0,Tl(0),null}function g_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,il(i)))}function Ys(){if(Ya!==null){var t=Ya,i=bd;bd=0;var s=Du(vl),l=S.T,h=re.p;try{if(re.p=32>s?32:s,S.T=null,Ya===null)var d=!1;else{s=wd,wd=null;var v=Ya,T=vl;if(Ya=null,vl=0,rt&6)throw Error(a(331));var R=rt;if(rt|=4,Jy(v.current),Xy(v,v.current,T,s),rt=R,Tl(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(lr,v)}catch{}d=!0}return d}finally{re.p=h,S.T=l,g_(t,i)}}return!1}function p_(t,i,s){i=Dn(s,i),i=Yf(t.stateNode,i,2),t=Nr(t,i,2),t!==null&&(dt(t,2),di(t))}function We(t,i,s){if(t.tag===3)p_(t,t,s);else for(;i!==null;){if(i.tag===3){p_(i,t,s);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Lr===null||!Lr.has(l))){t=Dn(s,t),s=vy(2),l=Nr(i,s,2),l!==null&&(Ey(s,l,i,t),dt(l,2),di(l));break}}i=i.return}}function Dd(t,i,s){var l=t.pingCache;if(l===null){l=t.pingCache=new Rw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(s)||(_d=!0,h.add(s),t=Mw.bind(null,t,i,s),i.then(t,t))}function Mw(t,i,s){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ze===t&&(Ue&s)===s&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>sn()-Td?!(rt&2)&&Fs(t,0):vd|=s,Hs===Ue&&(Hs=0)),di(t)}function y_(t,i){i===0&&(i=hr()),t=wr(t,i),t!==null&&(dt(t,i),di(t))}function Vw(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),y_(t,s)}function xw(t,i){var s=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(i),y_(t,s)}function Pw(t,i){return pa(t,i)}var Cc=null,Qs=null,Od=!1,Ic=!1,Nd=!1,Qa=0;function di(t){t!==Qs&&t.next===null&&(Qs===null?Cc=Qs=t:Qs=Qs.next=t),Ic=!0,Od||(Od=!0,Lw(kw))}function Tl(t,i){if(!Nd&&Ic){Nd=!0;do for(var s=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-en(42|t)+1)-1,d&=h&~(v&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(s=!0,E_(l,d))}else d=Ue,d=bn(l,l===Ze?d:0),!(d&3)||cr(l,d)||(s=!0,E_(l,d));l=l.next}while(s);Nd=!1}}function kw(){Ic=Od=!1;var t=0;Qa!==0&&(Gw()&&(t=Qa),Qa=0);for(var i=sn(),s=null,l=Cc;l!==null;){var h=l.next,d=__(l,i);d===0?(l.next=null,s===null?Cc=h:s.next=h,h===null&&(Qs=s)):(s=l,(t!==0||d&3)&&(Ic=!0)),l=h}Tl(t)}function __(t,i){for(var s=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-en(d),T=1<<v,R=h[v];R===-1?(!(T&s)||T&l)&&(h[v]=hs(T,i)):R<=i&&(t.expiredLanes|=T),d&=~T}if(i=Ze,s=Ue,s=bn(t,t===i?s:0),l=t.callbackNode,s===0||t===i&&Je===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&cs(l),t.callbackNode=null,t.callbackPriority=0;if(!(s&3)||cr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(l!==null&&cs(l),Du(s)){case 2:case 8:s=Ot;break;case 32:s=Si;break;case 268435456:s=Do;break;default:s=Si}return l=v_.bind(null,t),s=pa(s,l),t.callbackPriority=i,t.callbackNode=s,i}return l!==null&&l!==null&&cs(l),t.callbackPriority=2,t.callbackNode=null,2}function v_(t,i){var s=t.callbackNode;if(Ys()&&t.callbackNode!==s)return null;var l=Ue;return l=bn(t,t===Ze?l:0),l===0?null:(s_(t,l,i),__(t,sn()),t.callbackNode!=null&&t.callbackNode===s?v_.bind(null,t):null)}function E_(t,i){if(Ys())return null;s_(t,i,!0)}function Lw(t){Qw(function(){rt&6?pa(bt,t):t()})}function Md(){return Qa===0&&(Qa=Mo()),Qa}function T_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function b_(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function Uw(t,i,s,l,h){if(i==="submit"&&s&&s.stateNode===h){var d=T_((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?T_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new _s("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qa!==0){var R=v?b_(h,v):new FormData(h);qf(s,{pending:!0,data:R,method:h.method,action:d},null,R)}}else typeof d=="function"&&(T.preventDefault(),R=v?b_(h,v):new FormData(h),qf(s,{pending:!0,data:R,method:h.method,action:d},d,R))},currentTarget:h}]})}}for(var Vd=0;Vd<mp.length;Vd++){var xd=mp[Vd],zw=xd.toLowerCase(),jw=xd[0].toUpperCase()+xd.slice(1);Bn(zw,"on"+jw)}Bn(up,"onAnimationEnd"),Bn(cp,"onAnimationIteration"),Bn(hp,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(iw,"onTransitionRun"),Bn(rw,"onTransitionStart"),Bn(aw,"onTransitionCancel"),Bn(fp,"onTransitionEnd"),on("onMouseEnter",["mouseout","mouseover"]),on("onMouseLeave",["mouseout","mouseover"]),on("onPointerEnter",["pointerout","pointerover"]),on("onPointerLeave",["pointerout","pointerover"]),fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function w_(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch($){mc($)}h.currentTarget=null,d=R}else for(v=0;v<l.length;v++){if(T=l[v],R=T.instance,P=T.currentTarget,T=T.listener,R!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=P;try{d(h)}catch($){mc($)}h.currentTarget=null,d=R}}}}function xe(t,i){var s=i[_a];s===void 0&&(s=i[_a]=new Set);var l=t+"__bubble";s.has(l)||(S_(i,t,2,!1),s.add(l))}function Pd(t,i,s){var l=0;i&&(l|=4),S_(s,t,l,i)}var Dc="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Dc]){t[Dc]=!0,xo.forEach(function(s){s!=="selectionchange"&&(qw.has(s)||Pd(s,!1,t),Pd(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Dc]||(i[Dc]=!0,Pd("selectionchange",!1,i))}}function S_(t,i,s,l){switch(Q_(i)){case 2:var h=dS;break;case 8:h=mS;break;default:h=$d}s=h.bind(null,i,s,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Ld(t,i,s,l,h){var d=l;if(!(i&1)&&!(i&2)&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&(R=v.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;v=v.return}for(;T!==null;){if(v=qn(T),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=d=v;continue e}T=T.parentNode}}l=l.return}xu(function(){var P=d,$=ys(s),ne=[];e:{var H=dp.get(t);if(H!==void 0){var K=_s,fe=t;switch(t){case"keypress":if(ri(s)===0)break e;case"keydown":case"keyup":K=Ss;break;case"focusin":fe="focus",K=Ts;break;case"focusout":fe="blur",K=Ts;break;case"beforeblur":case"afterblur":K=Ts;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Bu;break;case up:case cp:case hp:K=bs;break;case fp:K=Fu;break;case"scroll":case"scrollend":K=Pu;break;case"wheel":K=As;break;case"copy":case"cut":case"paste":K=ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yo;break;case"toggle":case"beforetoggle":K=Yu}var Se=(i&4)!==0,ft=!Se&&(t==="scroll"||t==="scrollend"),L=Se?H!==null?H+"Capture":null:H;Se=[];for(var V=P,B;V!==null;){var X=V;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=wa(V,L),X!=null&&Se.push(wl(V,X,B))),ft)break;V=V.return}0<Se.length&&(H=new K(H,fe,null,s,$),ne.push({event:H,listeners:Se}))}}if(!(i&7)){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&s!==An&&(fe=s.relatedTarget||s.fromElement)&&(qn(fe)||fe[Ai]))break e;if((K||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,K?(fe=s.relatedTarget||s.toElement,K=P,fe=fe?qn(fe):null,fe!==null&&(ft=de(fe),Se=fe.tag,fe!==ft||Se!==5&&Se!==27&&Se!==6)&&(fe=null)):(K=null,fe=P),K!==fe)){if(Se=Cn,X="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Yo,X="onPointerLeave",L="onPointerEnter",V="pointer"),ft=K==null?H:pr(K),B=fe==null?H:pr(fe),H=new Se(X,V+"leave",K,s,$),H.target=ft,H.relatedTarget=B,X=null,qn($)===P&&(Se=new Se(L,V+"enter",fe,s,$),Se.target=B,Se.relatedTarget=ft,X=Se),ft=X,K&&fe)t:{for(Se=K,L=fe,V=0,B=Se;B;B=Ks(B))V++;for(B=0,X=L;X;X=Ks(X))B++;for(;0<V-B;)Se=Ks(Se),V--;for(;0<B-V;)L=Ks(L),B--;for(;V--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=Ks(Se),L=Ks(L)}Se=null}else Se=null;K!==null&&A_(ne,H,K,Se,!1),fe!==null&&ft!==null&&A_(ne,ft,fe,Se,!0)}}e:{if(H=P?pr(P):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var ce=Zg;else if(At(H))if(Jg)ce=Jb;else{ce=Wb;var De=Xb}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?P&&zo(P.elementType)&&(ce=Zg):ce=Zb;if(ce&&(ce=ce(t,P))){Vi(ne,ce,s,$);break e}De&&De(t,H,P),t==="focusout"&&P&&H.type==="number"&&P.memoizedProps.value!=null&&ps(H,"number",H.value)}switch(De=P?pr(P):window,t){case"focusin":(At(De)||De.contentEditable==="true")&&(Rs=De,mf=P,$o=null);break;case"focusout":$o=mf=Rs=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,op(ne,s,$);break;case"selectionchange":if(nw)break;case"keydown":case"keyup":op(ne,s,$)}var me;if(oi)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?Y(t,s)&&(_e="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_e="onCompositionStart");_e&&(_&&s.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(me=qo()):(ii=$,br="value"in ii?ii.value:ii.textContent,ke=!0)),De=Oc(P,_e),0<De.length&&(_e=new Fo(_e,t,null,s,$),ne.push({event:_e,listeners:De}),me?_e.data=me:(me=ie(s),me!==null&&(_e.data=me)))),(me=p?St(t,s):Le(t,s))&&(_e=Oc(P,"onBeforeInput"),0<_e.length&&(De=new Fo("onBeforeInput","beforeinput",null,s,$),ne.push({event:De,listeners:_e}),De.data=me)),Uw(ne,t,P,s,$)}w_(ne,i)})}function wl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function Oc(t,i){for(var s=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=wa(t,s),h!=null&&l.unshift(wl(t,h,d)),h=wa(t,i),h!=null&&l.push(wl(t,h,d))),t=t.return}return l}function Ks(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,i,s,l,h){for(var d=i._reactName,v=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=wa(s,d),P!=null&&v.unshift(wl(s,P,R))):h||(P=wa(s,d),P!=null&&v.push(wl(s,P,R)))),s=s.return}v.length!==0&&t.push({event:i,listeners:v})}var Bw=/\r\n?/g,Hw=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(Bw,`
`).replace(Hw,"")}function C_(t,i){return i=R_(i),R_(t)===i}function Nc(){}function Xe(t,i,s,l,h,d){switch(s){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Sn(t,""+l);break;case"className":vr(t,"class",l);break;case"tabIndex":vr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vr(t,s,l);break;case"style":Vu(t,l,d);break;case"data":if(i!=="object"){vr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ni(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(i!=="input"&&Xe(t,i,"name",h.name,h,null),Xe(t,i,"formEncType",h.formEncType,h,null),Xe(t,i,"formMethod",h.formMethod,h,null),Xe(t,i,"formTarget",h.formTarget,h,null)):(Xe(t,i,"encType",h.encType,h,null),Xe(t,i,"method",h.method,h,null),Xe(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=ni(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=ni(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":xe("beforetoggle",t),xe("toggle",t),_r(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_r(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=of.get(s)||s,_r(t,s,l))}}function Ud(t,i,s,l,h,d){switch(s){case"style":Vu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&xe("scroll",t);break;case"onScrollEnd":l!=null&&xe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Nc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ms.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),d=t[wt]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,l,h);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):_r(t,s,l)}}}function qt(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",t),xe("load",t);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,d,v,s,null)}}h&&Xe(t,i,"srcSet",s.srcSet,s,null),l&&Xe(t,i,"src",s.src,s,null);return;case"input":xe("invalid",t);var T=d=v=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var $=s[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":R=$;break;case"defaultChecked":P=$;break;case"value":d=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,i));break;default:Xe(t,i,l,$,s,null)}}Ta(t,d,T,R,P,v,h,!1),Ea(t);return;case"select":xe("invalid",t),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Xe(t,i,h,T,s,null)}i=d,s=v,t.multiple=!!l,i!=null?Be(t,!!l,i,!1):s!=null&&Be(t,!!l,s,!0);return;case"textarea":xe("invalid",t),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Xe(t,i,v,T,s,null)}Tr(t,l,h,d),Ea(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xe(t,i,R,l,s,null)}return;case"dialog":xe("cancel",t),xe("close",t);break;case"iframe":case"object":xe("load",t);break;case"video":case"audio":for(l=0;l<bl.length;l++)xe(bl[l],t);break;case"image":xe("error",t),xe("load",t);break;case"details":xe("toggle",t);break;case"embed":case"source":case"link":xe("error",t),xe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Xe(t,i,P,l,s,null)}return;default:if(zo(i)){for($ in s)s.hasOwnProperty($)&&(l=s[$],l!==void 0&&Ud(t,i,$,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Xe(t,i,T,l,s,null))}function Fw(t,i,s,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,R=null,P=null,$=null;for(K in s){var ne=s[K];if(s.hasOwnProperty(K)&&ne!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=ne;default:l.hasOwnProperty(K)||Xe(t,i,K,null,l,ne)}}for(var H in l){var K=l[H];if(ne=s[H],l.hasOwnProperty(H)&&(K!=null||ne!=null))switch(H){case"type":d=K;break;case"name":h=K;break;case"checked":P=K;break;case"defaultChecked":$=K;break;case"value":v=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:K!==ne&&Xe(t,i,H,K,l,ne)}}Er(t,v,T,R,P,$,d,h);return;case"select":K=v=T=H=null;for(d in s)if(R=s[d],s.hasOwnProperty(d)&&R!=null)switch(d){case"value":break;case"multiple":K=R;default:l.hasOwnProperty(d)||Xe(t,i,d,null,l,R)}for(h in l)if(d=l[h],R=s[h],l.hasOwnProperty(h)&&(d!=null||R!=null))switch(h){case"value":H=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==R&&Xe(t,i,h,d,l,R)}i=T,s=v,l=K,H!=null?Be(t,!!s,H,!1):!!l!=!!s&&(i!=null?Be(t,!!s,i,!0):Be(t,!!s,s?[]:"",!1));return;case"textarea":K=H=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xe(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Xe(t,i,v,h,l,d)}ba(t,H,K);return;case"option":for(var fe in s)if(H=s[fe],s.hasOwnProperty(fe)&&H!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Xe(t,i,fe,null,l,H)}for(R in l)if(H=l[R],K=s[R],l.hasOwnProperty(R)&&H!==K&&(H!=null||K!=null))switch(R){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Xe(t,i,R,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in s)H=s[Se],s.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&Xe(t,i,Se,null,l,H);for(P in l)if(H=l[P],K=s[P],l.hasOwnProperty(P)&&H!==K&&(H!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,i));break;default:Xe(t,i,P,H,l,K)}return;default:if(zo(i)){for(var ft in s)H=s[ft],s.hasOwnProperty(ft)&&H!==void 0&&!l.hasOwnProperty(ft)&&Ud(t,i,ft,void 0,l,H);for($ in l)H=l[$],K=s[$],!l.hasOwnProperty($)||H===K||H===void 0&&K===void 0||Ud(t,i,$,H,l,K);return}}for(var L in s)H=s[L],s.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&Xe(t,i,L,null,l,H);for(ne in l)H=l[ne],K=s[ne],!l.hasOwnProperty(ne)||H===K||H==null&&K==null||Xe(t,i,ne,H,l,K)}var zd=null,jd=null;function Mc(t){return t.nodeType===9?t:t.ownerDocument}function I_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function D_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Bd=null;function Gw(){var t=window.event;return t&&t.type==="popstate"?t===Bd?!1:(Bd=t,!0):(Bd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,Qw=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(Kw)}:O_;function Kw(t){setTimeout(function(){throw t})}function Hd(t,i){var s=i,l=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(l===0){t.removeChild(h),Nl(i);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=h}while(s);Nl(i)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Fd(s),va(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function $w(t,i,s,l){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function Xw(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gn(t.nextSibling),t===null))return null;return t}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function M_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return t;i--}else s==="/$"&&i++}t=t.previousSibling}return null}function V_(t,i,s){switch(i=Mc(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Ln=new Map,x_=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ki=re.d;re.d={f:Ww,r:Zw,D:Jw,C:eS,L:tS,m:nS,X:rS,S:iS,M:aS};function Ww(){var t=Ki.f(),i=Ac();return t||i}function Zw(t){var i=Ri(t);i!==null&&i.tag===5&&i.type==="form"?oy(i):Ki.r(t)}var $s=typeof document>"u"?null:document;function P_(t,i,s){var l=$s;if(l&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),x_.has(h)||(x_.add(h),t={rel:t,crossOrigin:s,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function Jw(t){Ki.D(t),P_("dns-prefetch",t,null)}function eS(t,i){Ki.C(t,i),P_("preconnect",t,i)}function tS(t,i,s){Ki.L(t,i,s);var l=$s;if(l&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+ut(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+ut(s.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var d=h;switch(i){case"style":d=Xs(t);break;case"script":d=Ws(t)}Ln.has(d)||(t=I({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function nS(t,i){Ki.m(t,i);var s=$s;if(s&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ws(t)}if(!Ln.has(d)&&(t=I({rel:"modulepreload",href:t},i),Ln.set(d,t),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Al(d)))return}l=s.createElement("link"),qt(l,"link",t),nt(l),s.head.appendChild(l)}}}function iS(t,i,s){Ki.S(t,i,s);var l=$s;if(l&&t){var h=yr(l).hoistableStyles,d=Xs(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Sl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ln.get(d))&&Gd(t,s);var R=v=l.createElement("link");nt(R),qt(R,"link",t),R._p=new Promise(function(P,$){R.onload=P,R.onerror=$}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function rS(t,i){Ki.X(t,i);var s=$s;if(s&&t){var l=yr(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=I({src:t,async:!0},i),(i=Ln.get(h))&&Yd(t,i),d=s.createElement("script"),nt(d),qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function aS(t,i){Ki.M(t,i);var s=$s;if(s&&t){var l=yr(s).hoistableScripts,h=Ws(t),d=l.get(h);d||(d=s.querySelector(Al(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Yd(t,i),d=s.createElement("script"),nt(d),qt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function k_(t,i,s,l){var h=(h=Tn.current)?Vc(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Xs(s.href),s=yr(h).hoistableStyles,l=s.get(i),l||(l={type:"style",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Xs(s.href);var d=yr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(t,s),d||sS(h,t,s,v.state))),i&&l===null)throw Error(a(528,""));return v}if(i&&l!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ws(s),s=yr(h).hoistableScripts,l=s.get(i),l||(l={type:"script",instance:null,count:0,state:null},s.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Xs(t){return'href="'+ut(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function L_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function sS(t,i,s,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",s),nt(i),t.head.appendChild(i))}function Ws(t){return'[src="'+ut(t)+'"]'}function Al(t){return"script[async]"+t}function U_(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(s.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),xc(l,s.precedence,t),i.instance=l;case"stylesheet":h=Xs(s.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=L_(s),(h=Ln.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),qt(d,"link",l),i.state.loading|=4,xc(d,s.precedence,t),i.instance=d;case"script":return d=Ws(s.src),(h=t.querySelector(Al(d)))?(i.instance=h,nt(h),h):(l=s,(h=Ln.get(d))&&(l=I({},s),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,xc(l,s.precedence,t));return i.instance}function xc(t,i,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pc=null;function z_(t,i,s){if(Pc===null){var l=new Map,h=Pc=new Map;h.set(s,l)}else h=Pc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var d=s[h];if(!(d[gr]||d[Nt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function j_(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function oS(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function q_(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function lS(){}function uS(t,i,s){if(Rl===null)throw Error(a(475));var l=Rl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=Xs(s.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=kc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,s=L_(s),(h=Ln.get(h))&&Gd(s,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(T,R){v.onload=T,v.onerror=R}),qt(d,"link",s),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=kc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function cS(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&Qd(t,t.stylesheets),0<t.count?function(i){var s=setTimeout(function(){if(t.stylesheets&&Qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(s)}}:null}function kc(){if(this.count--,this.count===0){if(this.stylesheets)Qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lc=null;function Qd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lc=new Map,i.forEach(hS,t),Lc=null,kc.call(t))}function hS(t,i){if(!(i.state.loading&4)){var s=Lc.get(t);if(s)var l=s.get(null);else{s=new Map,Lc.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Cl={$$typeof:O,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function fS(t,i,s,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fs(0),this.hiddenUpdates=fs(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function B_(t,i,s,l,h,d,v,T,R,P,$,ne){return t=new fS(t,i,s,v,T,R,P,ne),i=1,d===!0&&(i|=24),d=Pn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:i},ad(d),t}function H_(t){return t?(t=Ds,t):Ds}function F_(t,i,s,l,h,d){h=H_(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Nr(t,l,i),s!==null&&(an(s,t,i),cl(s,t,i))}function G_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Kd(t,i){G_(t,i),(t=t.alternate)&&G_(t,i)}function Y_(t){if(t.tag===13){var i=wr(t,67108864);i!==null&&an(i,t,67108864),Kd(t,67108864)}}var Uc=!0;function dS(t,i,s,l){var h=S.T;S.T=null;var d=re.p;try{re.p=2,$d(t,i,s,l)}finally{re.p=d,S.T=h}}function mS(t,i,s,l){var h=S.T;S.T=null;var d=re.p;try{re.p=8,$d(t,i,s,l)}finally{re.p=d,S.T=h}}function $d(t,i,s,l){if(Uc){var h=Xd(l);if(h===null)Ld(t,i,l,zc,s),K_(t,l);else if(pS(h,t,i,s,l))l.stopPropagation();else if(K_(t,l),i&4&&-1<gS.indexOf(t)){for(;h!==null;){var d=Ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=jn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var R=1<<31-en(v);T.entanglements[1]|=R,v&=~R}di(d),!(rt&6)&&(bc=sn()+500,Tl(0))}}break;case 13:T=wr(d,2),T!==null&&an(T,d,2),Ac(),Kd(d,2)}if(d=Xd(l),d===null&&Ld(t,i,l,zc,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Ld(t,i,l,null,s)}}function Xd(t){return t=ys(t),Wd(t)}var zc=null;function Wd(t){if(zc=null,t=qn(t),t!==null){var i=de(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=je(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return zc=t,null}function Q_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case bt:return 2;case Ot:return 8;case Si:case Au:return 32;case Do:return 268435456;default:return 32}default:return 32}}var Zd=!1,Ur=null,zr=null,jr=null,Il=new Map,Dl=new Map,qr=[],gS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,i){switch(t){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Il.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(i.pointerId)}}function Ol(t,i,s,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ri(i),i!==null&&Y_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function pS(t,i,s,l,h){switch(i){case"focusin":return Ur=Ol(Ur,t,i,s,l,h),!0;case"dragenter":return zr=Ol(zr,t,i,s,l,h),!0;case"mouseover":return jr=Ol(jr,t,i,s,l,h),!0;case"pointerover":var d=h.pointerId;return Il.set(d,Ol(Il.get(d)||null,t,i,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Dl.set(d,Ol(Dl.get(d)||null,t,i,s,l,h)),!0}return!1}function $_(t){var i=qn(t.target);if(i!==null){var s=de(i);if(s!==null){if(i=s.tag,i===13){if(i=je(s),i!==null){t.blockedOn=i,mr(t.priority,function(){if(s.tag===13){var l=_n(),h=wr(s,l);h!==null&&an(h,s,l),Kd(s,l)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Xd(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);An=l,s.target.dispatchEvent(l),An=null}else return i=Ri(s),i!==null&&Y_(i),t.blockedOn=s,!1;i.shift()}return!0}function X_(t,i,s){jc(t)&&s.delete(i)}function yS(){Zd=!1,Ur!==null&&jc(Ur)&&(Ur=null),zr!==null&&jc(zr)&&(zr=null),jr!==null&&jc(jr)&&(jr=null),Il.forEach(X_),Dl.forEach(X_)}function qc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yS)))}var Bc=null;function W_(t){Bc!==t&&(Bc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bc===t&&(Bc=null);for(var i=0;i<t.length;i+=3){var s=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||s)===null)continue;break}var d=Ri(s);d!==null&&(t.splice(i,3),i-=3,qf(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Nl(t){function i(R){return qc(R,t)}Ur!==null&&qc(Ur,t),zr!==null&&qc(zr,t),jr!==null&&qc(jr,t),Il.forEach(i),Dl.forEach(i);for(var s=0;s<qr.length;s++){var l=qr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(s=qr[0],s.blockedOn===null);)$_(s),s.blockedOn===null&&qr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[wt]||null;if(typeof d=="function")v||W_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)T=v.formAction;else if(Wd(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),W_(s)}}}function Jd(t){this._internalRoot=t}Hc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,l=_n();F_(s,l,t,i,null,null)},Hc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ys(),F_(t.current,2,null,t,null,null),Ac(),i[Ai]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ou();t={blockedOn:null,target:t,priority:i};for(var s=0;s<qr.length&&i!==0&&i<qr[s].priority;s++);qr.splice(s,0,t),s===0&&$_(t)}};var Z_=e.version;if(Z_!=="19.0.0")throw Error(a(527,Z_,"19.0.0"));re.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=Q(i),t=t!==null?oe(t):null,t=t===null?null:t.stateNode,t};var _S={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:qn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{lr=Fc.inject(_S),Gt=Fc}catch{}}return Vl.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,l="",h=gy,d=py,v=yy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=B_(t,1,!1,null,null,s,l,h,d,v,T,null),t[Ai]=i.current,kd(t.nodeType===8?t.parentNode:t),new Jd(i)},Vl.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var l=!1,h="",d=gy,v=py,T=yy,R=null,P=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(P=s.formState)),i=B_(t,1,!0,i,s??null,l,h,d,v,T,R,P),i.context=H_(null),s=i.current,l=_n(),h=Or(l),h.callback=null,Nr(s,h,l),i.current.lanes=l,dt(i,l),di(i),t[Ai]=i.current,kd(t),new Hc(i)},Vl.version="19.0.0",Vl}var lv;function IS(){if(lv)return nm.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=CS(),nm.exports}var DS=IS(),xl={},uv;function OS(){if(uv)return xl;uv=1,Object.defineProperty(xl,"__esModule",{value:!0}),xl.parse=f,xl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,O){const k=new u,q=C.length;if(q<2)return k;const j=(O==null?void 0:O.decode)||E;let G=0;do{const ee=C.indexOf("=",G);if(ee===-1)break;const te=C.indexOf(";",G),pe=te===-1?q:te;if(ee>pe){G=C.lastIndexOf(";",ee-1)+1;continue}const he=m(C,G,ee),Te=g(C,ee,he),M=C.slice(he,Te);if(k[M]===void 0){let A=m(C,ee+1,pe),S=g(C,pe,A);const I=j(C.slice(A,S));k[M]=I}G=pe+1}while(G<q);return k}function m(C,O,k){do{const q=C.charCodeAt(O);if(q!==32&&q!==9)return O}while(++O<k);return k}function g(C,O,k){for(;O>k;){const q=C.charCodeAt(--O);if(q!==32&&q!==9)return O+1}return k}function y(C,O,k){const q=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=q(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let G=C+"="+j;if(!k)return G;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);G+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);G+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);G+="; Path="+k.path}if(k.expires){if(!w(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);G+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(G+="; HttpOnly"),k.secure&&(G+="; Secure"),k.partitioned&&(G+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return G}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function w(C){return o.call(C)==="[object Date]"}return xl}OS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cv="popstate";function NS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:g=""}=ns(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),bm("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Wl(u))}function a(o,u){Kn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return VS(e,n,a,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Kn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MS(){return Math.random().toString(36).substring(2,10)}function hv(r,e){return{usr:r.state,key:r.key,idx:e}}function bm(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ns(e):e,state:n,key:e&&e.key||a||MS()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ns(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function VS(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let j=E(),G=j==null?null:j-y;y=j,g&&g({action:m,location:q.location,delta:G})}function C(j,G){m="PUSH";let ee=bm(q.location,j,G);n&&n(ee,j),y=E()+1;let te=hv(ee,y),pe=q.createHref(ee);try{f.pushState(te,"",pe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(pe)}u&&g&&g({action:m,location:q.location,delta:1})}function O(j,G){m="REPLACE";let ee=bm(q.location,j,G);n&&n(ee,j),y=E();let te=hv(ee,y),pe=q.createHref(ee);f.replaceState(te,"",pe),u&&g&&g({action:m,location:q.location,delta:0})}function k(j){let G=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof j=="string"?j:Wl(j);return ee=ee.replace(/ $/,"%20"),at(G,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,G)}let q={get action(){return m},get location(){return r(o,f)},listen(j){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(cv,w),g=j,()=>{o.removeEventListener(cv,w),g=null}},createHref(j){return e(o,j)},createURL:k,encodeLocation(j){let G=k(j);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:C,replace:O,go(j){return f.go(j)}};return q}function ZE(r,e,n="/"){return xS(r,e,n,!1)}function xS(r,e,n,a){let o=typeof e=="string"?ns(e):e,u=ra(o.pathname||"/",n);if(u==null)return null;let f=JE(r);PS(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=YS(u);m=FS(f[g],y,a)}return m}function JE(r,e=[],n=[],a=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(at(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=Zi([a,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),JE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:BS(y,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let g of e0(u.path))o(u,f,g)}),e}function e0(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=e0(a.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function PS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:HS(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var kS=/^:[\w-]+$/,LS=3,US=2,zS=1,jS=10,qS=-2,fv=r=>r==="*";function BS(r,e){let n=r.split("/"),a=n.length;return n.some(fv)&&(a+=qS),e&&(a+=US),n.filter(o=>!fv(o)).reduce((o,u)=>o+(kS.test(u)?LS:u===""?zS:jS),a)}function HS(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function FS(r,e,n=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let g=a[m],y=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),C=g.route;if(!w&&y&&n&&!a[a.length-1].route.index&&(w=fh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Zi([u,w.pathname]),pathnameBase:XS(Zi([u,w.pathnameBase])),route:C}),w.pathnameBase!=="/"&&(u=Zi([u,w.pathnameBase]))}return f}function fh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=GS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:w},C)=>{if(E==="*"){let k=m[C]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const O=m[C];return w&&!O?y[E]=void 0:y[E]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function GS(r,e=!1,n=!0){Kn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(a.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function YS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Kn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ra(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}function QS(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?ns(r):r;return{pathname:n?n.startsWith("/")?n:KS(n,e):e,search:WS(a),hash:ZS(o)}}function KS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sm(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function $S(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function t0(r){let e=$S(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function n0(r,e,n,a=!1){let o;typeof r=="string"?o=ns(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),sm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),sm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!a&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),w-=1;o.pathname=C.join("/")}m=w>=0?e[w]:"/"}let g=QS(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),XS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),WS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ZS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function JS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var i0=["POST","PUT","PATCH","DELETE"];new Set(i0);var eA=["GET",...i0];new Set(eA);var _o=F.createContext(null);_o.displayName="DataRouter";var Vh=F.createContext(null);Vh.displayName="DataRouterState";var r0=F.createContext({isTransitioning:!1});r0.displayName="ViewTransition";var tA=F.createContext(new Map);tA.displayName="Fetchers";var nA=F.createContext(null);nA.displayName="Await";var Ti=F.createContext(null);Ti.displayName="Navigation";var cu=F.createContext(null);cu.displayName="Location";var rr=F.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var Zm=F.createContext(null);Zm.displayName="RouteError";function iA(r,{relative:e}={}){at(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=F.useContext(Ti),{hash:o,pathname:u,search:f}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),a.createHref({pathname:m,search:f,hash:o})}function hu(){return F.useContext(cu)!=null}function fa(){return at(hu(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(cu).location}var a0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function s0(r){F.useContext(Ti).static||F.useLayoutEffect(r)}function vo(){let{isDataRoute:r}=F.useContext(rr);return r?pA():rA()}function rA(){at(hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(_o),{basename:e,navigator:n}=F.useContext(Ti),{matches:a}=F.useContext(rr),{pathname:o}=fa(),u=JSON.stringify(t0(a)),f=F.useRef(!1);return s0(()=>{f.current=!0}),F.useCallback((g,y={})=>{if(Kn(f.current,a0),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=n0(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,r])}F.createContext(null);function fu(r,{relative:e}={}){let{matches:n}=F.useContext(rr),{pathname:a}=fa(),o=JSON.stringify(t0(n));return F.useMemo(()=>n0(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function aA(r,e){return o0(r,e)}function o0(r,e,n,a){var ee;at(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=F.useContext(Ti),{matches:f}=F.useContext(rr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let te=w&&w.path||"";l0(y,!w||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let C=fa(),O;if(e){let te=typeof e=="string"?ns(e):e;at(E==="/"||((ee=te.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),O=te}else O=C;let k=O.pathname||"/",q=k;if(E!=="/"){let te=E.replace(/^\//,"").split("/");q="/"+k.replace(/^\//,"").split("/").slice(te.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:ZE(r,{pathname:q});Kn(w||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Kn(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=cA(j&&j.map(te=>Object.assign({},te,{params:Object.assign({},g,te.params),pathname:Zi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Zi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,a);return e&&G?F.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},G):G}function sA(){let r=gA(),e=JS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null,"💿 Hey developer 👋"),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var oA=F.createElement(sA,null),lA=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?F.createElement(rr.Provider,{value:this.props.routeContext},F.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function uA({routeContext:r,match:e,children:n}){let a=F.useContext(_o);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(rr.Provider,{value:r},n)}function cA(r,e=[],n=null,a=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);at(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:w}=n,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let w,C=!1,O=null,k=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,O=y.route.errorElement||oA,f&&(m<0&&E===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,k=null):m===E&&(C=!0,k=y.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),j=()=>{let G;return w?G=O:C?G=k:y.route.Component?G=F.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=g,F.createElement(uA,{match:y,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?F.createElement(lA,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:j(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):j()},null)}function Jm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hA(r){let e=F.useContext(_o);return at(e,Jm(r)),e}function fA(r){let e=F.useContext(Vh);return at(e,Jm(r)),e}function dA(r){let e=F.useContext(rr);return at(e,Jm(r)),e}function eg(r){let e=dA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function mA(){return eg("useRouteId")}function gA(){var a;let r=F.useContext(Zm),e=fA("useRouteError"),n=eg("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[n]}function pA(){let{router:r}=hA("useNavigate"),e=eg("useNavigate"),n=F.useRef(!1);return s0(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{Kn(n.current,a0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var dv={};function l0(r,e,n){!e&&!dv[r]&&(dv[r]=!0,Kn(!1,n))}F.memo(yA);function yA({routes:r,future:e,state:n}){return o0(r,void 0,n,e)}function Ul(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _A({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1}){at(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=ns(n));let{pathname:g="/",search:y="",hash:E="",state:w=null,key:C="default"}=n,O=F.useMemo(()=>{let k=ra(g,f);return k==null?null:{location:{pathname:k,search:y,hash:E,state:w,key:C},navigationType:a}},[f,g,y,E,w,C,a]);return Kn(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:F.createElement(Ti.Provider,{value:m},F.createElement(cu.Provider,{children:e,value:O}))}function vA({children:r,location:e}){return aA(wm(r),e)}function wm(r,e=[]){let n=[];return F.Children.forEach(r,(a,o)=>{if(!F.isValidElement(a))return;let u=[...e,o];if(a.type===F.Fragment){n.push.apply(n,wm(a.props.children,u));return}at(a.type===Ul,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=wm(a.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function EA(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function TA(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function bA(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function wA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function SA(r,e){return r.button===0&&(!e||e==="_self")&&!wA(r)}var Gc=null;function AA(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var RA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!RA.has(r)?(Kn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function CA(r,e){let n,a,o,u,f;if(TA(r)){let m=r.getAttribute("action");a=m?ra(m,e):null,n=r.getAttribute("method")||Jc,o=om(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(EA(r)||bA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(a=g?ra(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!AA()){let{name:y,type:E,value:w}=r;if(E==="image"){let C=y?`${y}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else y&&u.append(y,w)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,a=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:f}}function tg(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function IA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function OA(r,e,n){let a=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await IA(u,n);return f.links?f.links():[]}return[]}));return xA(a.flat(1).filter(DA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(r,e,n,a,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var E;return n[y].pathname!==g.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var w;let E=a.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let C=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function NA(r,e){return MA(r.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let o=[a.module];return a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function MA(r){return[...new Set(r)]}function VA(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function xA(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let u=JSON.stringify(VA(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function PA(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function kA(){let r=F.useContext(_o);return tg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function LA(){let r=F.useContext(Vh);return tg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ng=F.createContext(void 0);ng.displayName="FrameworkContext";function u0(){let r=F.useContext(ng);return tg(r,"You must render this element inside a <HydratedRouter> element"),r}function UA(r,e){let n=F.useContext(ng),[a,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:w}=e,C=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let q=G=>{G.forEach(ee=>{f(ee.isIntersecting)})},j=new IntersectionObserver(q,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[r]),F.useEffect(()=>{if(a){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[a]);let O=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Pl(m,O),onBlur:Pl(g,k),onMouseEnter:Pl(y,O),onMouseLeave:Pl(E,k),onTouchStart:Pl(w,O)}]:[!1,C,{}]}function Pl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function zA({page:r,...e}){let{router:n}=kA(),a=F.useMemo(()=>ZE(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?F.createElement(qA,{page:r,matches:a,...e}):null}function jA(r){let{manifest:e,routeModules:n}=u0(),[a,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return OA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),a}function qA({page:r,matches:e,...n}){let a=fa(),{manifest:o,routeModules:u}=u0(),{loaderData:f,matches:m}=LA(),g=F.useMemo(()=>mv(r,e,m,o,a,"data"),[r,e,m,o,a]),y=F.useMemo(()=>mv(r,e,m,o,a,"assets"),[r,e,m,o,a]),E=F.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let O=new Set,k=!1;if(e.forEach(j=>{var ee;let G=o.routes[j.route.id];!G||!G.hasLoader||(!g.some(te=>te.route.id===j.route.id)&&j.route.id in f&&((ee=u[j.route.id])!=null&&ee.shouldRevalidate)||G.hasClientLoader?k=!0:O.add(j.route.id))}),O.size===0)return[];let q=PA(r);return k&&O.size>0&&q.searchParams.set("_routes",e.filter(j=>O.has(j.route.id)).map(j=>j.route.id).join(",")),[q.pathname+q.search]},[f,a,o,g,e,r,u]),w=F.useMemo(()=>NA(y,o),[y,o]),C=jA(y);return F.createElement(F.Fragment,null,E.map(O=>F.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),w.map(O=>F.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),C.map(({key:O,link:k})=>F.createElement("link",{key:O,...k})))}function BA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var c0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{c0&&(window.__reactRouterVersion="7.1.5")}catch{}function HA({basename:r,children:e,window:n}){let a=F.useRef();a.current==null&&(a.current=NS({window:n,v5Compat:!0}));let o=a.current,[u,f]=F.useState({action:o.action,location:o.location}),m=F.useCallback(g=>{F.startTransition(()=>f(g))},[f]);return F.useLayoutEffect(()=>o.listen(m),[o,m]),F.createElement(_A,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var h0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f0=F.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:w,...C},O){let{basename:k}=F.useContext(Ti),q=typeof y=="string"&&h0.test(y),j,G=!1;if(typeof y=="string"&&q&&(j=y,c0))try{let S=new URL(window.location.href),I=y.startsWith("//")?new URL(S.protocol+y):new URL(y),x=ra(I.pathname,k);I.origin===S.origin&&x!=null?y=x+I.search+I.hash:G=!0}catch{Kn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=iA(y,{relative:o}),[te,pe,he]=UA(a,C),Te=QA(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:w});function M(S){e&&e(S),S.defaultPrevented||Te(S)}let A=F.createElement("a",{...C,...he,href:j||ee,onClick:G||u?e:M,ref:BA(O,pe),target:g,"data-discover":!q&&n==="render"?"true":void 0});return te&&!q?F.createElement(F.Fragment,null,A,F.createElement(zA,{page:ee})):A});f0.displayName="Link";var FA=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let w=fu(f,{relative:y.relative}),C=fa(),O=F.useContext(Vh),{navigator:k,basename:q}=F.useContext(Ti),j=O!=null&&ZA(w)&&m===!0,G=k.encodeLocation?k.encodeLocation(w).pathname:w.pathname,ee=C.pathname,te=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),te=te?te.toLowerCase():null,G=G.toLowerCase()),te&&q&&(te=ra(te,q)||te);const pe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let he=ee===G||!o&&ee.startsWith(G)&&ee.charAt(pe)==="/",Te=te!=null&&(te===G||!o&&te.startsWith(G)&&te.charAt(G.length)==="/"),M={isActive:he,isPending:Te,isTransitioning:j},A=he?e:void 0,S;typeof a=="function"?S=a(M):S=[a,he?"active":null,Te?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return F.createElement(f0,{...y,"aria-current":A,className:S,ref:E,style:I,to:f,viewTransition:m},typeof g=="function"?g(M):g)});FA.displayName="NavLink";var GA=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:f=Jc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:w,...C},O)=>{let k=XA(),q=WA(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&h0.test(m),ee=te=>{if(g&&g(te),te.defaultPrevented)return;te.preventDefault();let pe=te.nativeEvent.submitter,he=(pe==null?void 0:pe.getAttribute("formmethod"))||f;k(pe||te.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:w})};return F.createElement("form",{ref:O,method:j,action:q,onSubmit:a?g:ee,...C,"data-discover":!G&&r==="render"?"true":void 0})});GA.displayName="Form";function YA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d0(r){let e=F.useContext(_o);return at(e,YA(r)),e}function QA(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=vo(),g=fa(),y=fu(r,{relative:u});return F.useCallback(E=>{if(SA(E,e)){E.preventDefault();let w=n!==void 0?n:Wl(g)===Wl(y);m(r,{replace:w,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,a,e,r,o,u,f])}var KA=0,$A=()=>`__${String(++KA)}__`;function XA(){let{router:r}=d0("useSubmit"),{basename:e}=F.useContext(Ti),n=mA();return F.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=CA(a,e);if(o.navigate===!1){let E=o.fetcherKey||$A();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function WA(r,{relative:e}={}){let{basename:n}=F.useContext(Ti),a=F.useContext(rr);at(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...fu(r||".",{relative:e})},f=fa();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),Wl(u)}function ZA(r,e={}){let n=F.useContext(r0);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=d0("useViewTransitionState"),o=fu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ra(n.currentLocation.pathname,a)||n.currentLocation.pathname,f=ra(n.nextLocation.pathname,a)||n.nextLocation.pathname;return fh(o.pathname,f)!=null||fh(o.pathname,u)!=null}new TextEncoder;var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},JA=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},g0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let C=(m&15)<<2|y>>6,O=y&63;g||(O=64,f||(C=64)),a.push(n[E],n[w],n[C],n[O])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(m0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):JA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new eR;const C=u<<2|m>>4;if(a.push(C),y!==64){const O=m<<4&240|y>>2;if(a.push(O),w!==64){const k=y<<6&192|w;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(r){const e=m0(r);return g0.encodeByteArray(e,!0)},dh=function(r){return tR(r).replace(/\./g,"")},p0=function(r){try{return g0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof gv>"u")return;const r=gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&p0(r[1]);return e&&JSON.parse(e)},Ph=()=>{try{return iR()||rR()||aR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},y0=r=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},sR=r=>{const e=y0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},_0=()=>{var r;return(r=Ph())===null||r===void 0?void 0:r.config},v0=r=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function cR(){var r;const e=(r=Ph())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function pR(){try{return typeof indexedDB=="object"}catch{return!1}}function yR(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class ar extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=_R,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?vR(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,a)}}function vR(r,e){return r.replace(ER,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const ER=/\{\$([^}]+)}/g;function TR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function mh(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=r[o],f=e[o];if(pv(u)&&pv(f)){if(!mh(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function pv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,u]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function jl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function bR(r,e){const n=new wR(r,e);return n.subscribe.bind(n)}class wR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");SR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class Wa{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new oR;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CR(e))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(e=Ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ka){return this.instances.has(e)}getOptions(e=Ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),u=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:RR(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ka){return this.component?this.component.multipleInstances?e:Ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function RR(r){return r===Ka?void 0:r}function CR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new AR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const DR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OR=Me.INFO,NR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},MR=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=NR[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ig{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=MR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const VR=(r,e)=>e.some(n=>r instanceof n);let yv,_v;function xR(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E0=new WeakMap,Sm=new WeakMap,T0=new WeakMap,um=new WeakMap,rg=new WeakMap;function kR(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Wr(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&E0.set(n,r)}).catch(()=>{}),rg.set(e,r),e}function LR(r){if(Sm.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Sm.set(r,e)}let Am={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Sm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||T0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function UR(r){Am=r(Am)}function zR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(cm(this),e,...n);return T0.set(a,e.sort?e.sort():[e]),Wr(a)}:PR().includes(r)?function(...e){return r.apply(cm(this),e),Wr(E0.get(this))}:function(...e){return Wr(r.apply(cm(this),e))}}function jR(r){return typeof r=="function"?zR(r):(r instanceof IDBTransaction&&LR(r),VR(r,xR())?new Proxy(r,Am):r)}function Wr(r){if(r instanceof IDBRequest)return kR(r);if(um.has(r))return um.get(r);const e=jR(r);return e!==r&&(um.set(r,e),rg.set(e,r)),e}const cm=r=>rg.get(r);function qR(r,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Wr(f);return a&&f.addEventListener("upgradeneeded",g=>{a(Wr(f.result),g.oldVersion,g.newVersion,Wr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const BR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],hm=new Map;function vv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=HR.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||BR.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return hm.set(e,u),u}UR(r=>({...r,get:(e,n,a)=>vv(e,n)||r.get(e,n,a),has:(e,n)=>!!vv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function GR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rm="@firebase/app",Ev="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new ig("@firebase/app"),YR="@firebase/app-compat",QR="@firebase/analytics-compat",KR="@firebase/analytics",$R="@firebase/app-check-compat",XR="@firebase/app-check",WR="@firebase/auth",ZR="@firebase/auth-compat",JR="@firebase/database",e1="@firebase/data-connect",t1="@firebase/database-compat",n1="@firebase/functions",i1="@firebase/functions-compat",r1="@firebase/installations",a1="@firebase/installations-compat",s1="@firebase/messaging",o1="@firebase/messaging-compat",l1="@firebase/performance",u1="@firebase/performance-compat",c1="@firebase/remote-config",h1="@firebase/remote-config-compat",f1="@firebase/storage",d1="@firebase/storage-compat",m1="@firebase/firestore",g1="@firebase/vertexai",p1="@firebase/firestore-compat",y1="firebase",_1="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="[DEFAULT]",v1={[Rm]:"fire-core",[YR]:"fire-core-compat",[KR]:"fire-analytics",[QR]:"fire-analytics-compat",[XR]:"fire-app-check",[$R]:"fire-app-check-compat",[WR]:"fire-auth",[ZR]:"fire-auth-compat",[JR]:"fire-rtdb",[e1]:"fire-data-connect",[t1]:"fire-rtdb-compat",[n1]:"fire-fn",[i1]:"fire-fn-compat",[r1]:"fire-iid",[a1]:"fire-iid-compat",[s1]:"fire-fcm",[o1]:"fire-fcm-compat",[l1]:"fire-perf",[u1]:"fire-perf-compat",[c1]:"fire-rc",[h1]:"fire-rc-compat",[f1]:"fire-gcs",[d1]:"fire-gcs-compat",[m1]:"fire-fst",[p1]:"fire-fst-compat",[g1]:"fire-vertex","fire-js":"fire-js",[y1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,E1=new Map,Im=new Map;function Tv(r,e){try{r.container.addComponent(e)}catch(n){er.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(Im.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;Im.set(e,r);for(const n of gh.values())Tv(n,r);for(const n of E1.values())Tv(n,r);return!0}function ag(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new du("app","Firebase",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=_1;function b0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Cm,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(n||(n=_0()),!n)throw Zr.create("no-options");const u=gh.get(o);if(u){if(mh(n,u.options)&&mh(a,u.config))return u;throw Zr.create("duplicate-app",{appName:o})}const f=new IR(o);for(const g of Im.values())f.addComponent(g);const m=new b1(n,a,f);return gh.set(o,m),m}function w0(r=Cm){const e=gh.get(r);if(!e&&r===Cm&&_0())return b0();if(!e)throw Zr.create("no-app",{appName:r});return e}function Jr(r,e,n){var a;let o=(a=v1[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(m.join(" "));return}lo(new Wa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="firebase-heartbeat-database",S1=1,Zl="firebase-heartbeat-store";let fm=null;function S0(){return fm||(fm=qR(w1,S1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),fm}async function A1(r){try{const n=(await S0()).transaction(Zl),a=await n.objectStore(Zl).get(A0(r));return await n.done,a}catch(e){if(e instanceof ar)er.warn(e.message);else{const n=Zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(n.message)}}}async function bv(r,e){try{const a=(await S0()).transaction(Zl,"readwrite");await a.objectStore(Zl).put(e,A0(r)),await a.done}catch(n){if(n instanceof ar)er.warn(n.message);else{const a=Zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});er.warn(a.message)}}}function A0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1024,C1=30;class I1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new O1(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>C1){const f=N1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){er.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wv(),{heartbeatsToSend:a,unsentEntries:o}=D1(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return er.warn(n),""}}}function wv(){return new Date().toISOString().substring(0,10)}function D1(r,e=R1){const n=[];let a=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Sv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class O1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pR()?yR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await A1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return bv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sv(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function N1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let a=1;a<r.length;a++)r[a].date<n&&(n=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){lo(new Wa("platform-logger",e=>new FR(e),"PRIVATE")),lo(new Wa("heartbeat",e=>new I1(e),"PRIVATE")),Jr(Rm,Ev,r),Jr(Rm,Ev,"esm2017"),Jr("fire-js","")}M1("");function sg(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function R0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const V1=R0,C0=new du("auth","Firebase",R0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new ig("@firebase/auth");function x1(r,...e){ph.logLevel<=Me.WARN&&ph.warn(`Auth (${Eo}): ${r}`,...e)}function th(r,...e){ph.logLevel<=Me.ERROR&&ph.error(`Auth (${Eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(r,...e){throw og(r,...e)}function gi(r,...e){return og(r,...e)}function I0(r,e,n){const a=Object.assign(Object.assign({},V1()),{[e]:n});return new du("auth","Firebase",a).create(e,{appName:r.name})}function Ji(r){return I0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return C0.create(r,...e)}function ve(r,e,...n){if(!r)throw og(e,...n)}function $i(r){const e="INTERNAL ASSERTION FAILED: "+r;throw th(e),new Error(e)}function tr(r,e){r||$i(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function P1(){return Av()==="http:"||Av()==="https:"}function Av(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P1()||fR()||"connection"in navigator)?navigator.onLine:!0}function L1(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,tr(n>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return k1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(r,e){tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new gu(3e4,6e4);function da(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ma(r,e,n,a,o={}){return O0(r,o,async()=>{let u={},f={};a&&(e==="GET"?f=a:u={body:JSON.stringify(a)});const m=mu(Object.assign({key:r.config.apiKey},f)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return hR()||(y.referrerPolicy="no-referrer"),D0.fetch()(N0(r,r.config.apiHost,n,m),y)})}async function O0(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},U1),e);try{const o=new q1(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Yc(r,"user-disabled",f);const E=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw I0(r,E,y);$n(r,E)}}catch(o){if(o instanceof ar)throw o;$n(r,"network-request-failed",{message:String(o)})}}async function pu(r,e,n,a,o={}){const u=await ma(r,e,n,a,o);return"mfaPendingCredential"in u&&$n(r,"multi-factor-auth-required",{_serverResponse:u}),u}function N0(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?lg(r.config,o):`${r.config.apiScheme}://${o}`}function j1(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(gi(this.auth,"network-request-failed")),z1.get())})}}function Yc(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=gi(r,e,a);return o.customData._tokenResponse=n,o}function Rv(r){return r!==void 0&&r.enterprise!==void 0}class B1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return j1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function H1(r,e){return ma(r,"GET","/v2/recaptchaConfig",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(r,e){return ma(r,"POST","/v1/accounts:delete",e)}async function M0(r,e){return ma(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function G1(r,e=!1){const n=Zt(r),a=await n.getIdToken(e),o=ug(a);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Gl(dm(o.auth_time)),issuedAtTime:Gl(dm(o.iat)),expirationTime:Gl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function ug(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=p0(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Cv(r){const e=ug(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof ar&&Y1(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function Y1({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Jl(r,M0(n,{idToken:a}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?V0(u.providerUserInfo):[],m=$1(r.providerData,f),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Om(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function K1(r){const e=Zt(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $1(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function V0(r){return r.map(e=>{var{providerId:n}=e,a=sg(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(r,e){const n=await O0(r,{},async()=>{const a=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=N0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",D0.fetch()(f,{method:"POST",headers:m,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function W1(r,e){return ma(r,"POST","/v2/accounts:revokeToken",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Cv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Cv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:u}=await X1(e,n);this.updateTokensAndExpiration(a,o,Number(u))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,f=new ro;return a&&(ve(typeof a=="string","internal-error",{appName:e}),f.refreshToken=a),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return $i("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,u=sg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Q1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Om(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return G1(this,e)}reload(){return K1(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Jl(this,F1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,u,f,m,g,y,E;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,C=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,G=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:pe,isAnonymous:he,providerData:Te,stsTokenManager:M}=n;ve(te&&M,e,"internal-error");const A=ro.fromJSON(this.name,M);ve(typeof te=="string",e,"internal-error"),Hr(w,e.name),Hr(C,e.name),ve(typeof pe=="boolean",e,"internal-error"),ve(typeof he=="boolean",e,"internal-error"),Hr(O,e.name),Hr(k,e.name),Hr(q,e.name),Hr(j,e.name),Hr(G,e.name),Hr(ee,e.name);const S=new Xi({uid:te,auth:e,email:C,emailVerified:pe,displayName:w,isAnonymous:he,photoURL:k,phoneNumber:O,tenantId:q,stsTokenManager:A,createdAt:G,lastLoginAt:ee});return Te&&Array.isArray(Te)&&(S.providerData=Te.map(I=>Object.assign({},I))),j&&(S._redirectEventId=j),S}static async _fromIdTokenResponse(e,n,a=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Xi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?V0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(a);const g=new Xi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Om(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;function Wi(r){tr(r instanceof Function,"Expected a class definition");let e=Iv.get(r);return e?(tr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Iv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}x0.type="NONE";const Dv=x0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new ao(Wi(Dv),e,a);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(Dv);const f=nh(a,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){const w=Xi._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new ao(u,e,a):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new ao(u,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(U0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(q0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||L0(e))&&!e.includes("edge/"))return"Chrome";if(z0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function P0(r=Wt()){return/firefox\//i.test(r)}function k0(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L0(r=Wt()){return/crios\//i.test(r)}function U0(r=Wt()){return/iemobile/i.test(r)}function z0(r=Wt()){return/android/i.test(r)}function j0(r=Wt()){return/blackberry/i.test(r)}function q0(r=Wt()){return/webos/i.test(r)}function cg(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Z1(r=Wt()){var e;return cg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function J1(){return mR()&&document.documentMode===10}function B0(r=Wt()){return cg(r)||z0(r)||q0(r)||j0(r)||/windows phone/i.test(r)||U0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r,e=[]){let n;switch(r){case"Browser":n=Ov(Wt());break;case"Worker":n=`${Ov(Wt())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e={}){return ma(r,"GET","/v2/passwordPolicy",da(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC=6;class iC{constructor(e){var n,a,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:nC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,u,f,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(f=g.containsNumericCharacter)!==null&&f!==void 0?f:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new eC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=C0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await M0(this,{idToken:e}),a=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=L1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Ji(this));const n=e?Zt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tC(this),n=new iC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await W1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,a,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&x1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function is(r){return Zt(r)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aC(r){kh=r}function F0(r){return kh.loadJS(r)}function sC(){return kh.recaptchaEnterpriseScript}function oC(){return kh.gapiScript}function lC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class uC{constructor(){this.enterprise=new cC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const hC="recaptcha-enterprise",G0="NO_RECAPTCHA";class fC{constructor(e){this.type=hC,this.auth=is(e)}async verify(e="verify",n=!1){async function a(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{H1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new B1(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,f,m){const g=window.grecaptcha;Rv(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(G0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new uC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{a(this.auth).then(m=>{if(!n&&Rv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=sC();g.length!==0&&(g+=m),F0(g).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function Mv(r,e,n,a=!1,o=!1){const u=new fC(r);let f;if(o)f=G0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return a?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Nm(r,e,n,a,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Mv(r,e,n,n==="getOobCode");return a(r,f)}else return a(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await Mv(r,e,n,n==="getOobCode");return a(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(r,e){const n=ag(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(mh(u,e??{}))return o;$n(o,"already-initialized")}return n.initialize({options:e})}function mC(r,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function gC(r,e,n){const a=is(r);ve(a._canInitEmulator,a,"emulator-config-failed"),ve(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=Y0(e),{host:f,port:m}=pC(e),g=m===null?"":`:${m}`;a.config.emulator={url:`${u}//${f}${g}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),yC()}function Y0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pC(r){const e=Y0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Vv(a.substr(u.length+1))}}else{const[u,f]=a.split(":");return{host:u,port:Vv(f)}}}function Vv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function yC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $i("not implemented")}_getIdTokenResponse(e){return $i("not implemented")}_linkToIdToken(e,n){return $i("not implemented")}_getReauthenticationResolver(e){return $i("not implemented")}}async function _C(r,e){return ma(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(r,e){return pu(r,"POST","/v1/accounts:signInWithPassword",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",da(r,e))}async function TC(r,e){return pu(r,"POST","/v1/accounts:signInWithEmailLink",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends hg{constructor(e,n,a,o=null){super("password",a),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,a=null){return new eu(e,n,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,n,"signInWithPassword",vC);case"emailLink":return EC(e,{email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const a={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Nm(e,a,"signUpPassword",_C);case"emailLink":return TC(e,{idToken:n,email:this._email,oobCode:this._password});default:$n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function so(r,e){return pu(r,"POST","/v1/accounts:signInWithIdp",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="http://localhost";class Za extends hg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Za(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):$n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,u=sg(n,["providerId","signInMethod"]);if(!a||!o)return null;const f=new Za(a,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return so(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,so(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,so(e,n)}buildRequest(){const e={requestUri:bC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SC(r){const e=zl(jl(r)).link,n=e?zl(jl(e)).deep_link_id:null,a=zl(jl(r)).deep_link_id;return(a?zl(jl(a)).link:null)||a||n||e||r}class fg{constructor(e){var n,a,o,u,f,m;const g=zl(jl(e)),y=(n=g.apiKey)!==null&&n!==void 0?n:null,E=(a=g.oobCode)!==null&&a!==void 0?a:null,w=wC((o=g.mode)!==null&&o!==void 0?o:null);ve(y&&E&&w,"argument-error"),this.apiKey=y,this.operation=w,this.code=E,this.continueUrl=(u=g.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=g.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=g.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=SC(e);try{return new fg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const a=fg.parseLink(n);return ve(a,"argument-error"),eu._fromEmailAndCode(e,a.code,a.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Q0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends yu{constructor(){super("facebook.com")}static credential(e){return Za._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Za._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Yr.credential(n,a)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends yu{constructor(){super("github.com")}static credential(e){return Za._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends yu{constructor(){super("twitter.com")}static credential(e,n){return Za._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Kr.credential(n,a)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(r,e){return pu(r,"POST","/v1/accounts:signUp",da(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const u=await Xi._fromIdTokenResponse(e,a,o),f=xv(a);return new Ja({user:u,providerId:f,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=xv(a);return new Ja({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function xv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends ar{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new _h(e,n,a,o)}}function K0(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,a):u})}async function RC(r,e,n=!1){const a=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ja._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(r,e,n=!1){const{auth:a}=r;if(Un(a.app))return Promise.reject(Ji(a));const o="reauthenticate";try{const u=await Jl(r,K0(a,o,e,r),n);ve(u.idToken,a,"internal-error");const f=ug(u.idToken);ve(f,a,"internal-error");const{sub:m}=f;return ve(r.uid===m,a,"user-mismatch"),Ja._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$n(a,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r,e,n=!1){if(Un(r.app))return Promise.reject(Ji(r));const a="signIn",o=await K0(r,a,e),u=await Ja._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(u.user),u}async function IC(r,e){return $0(is(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X0(r){const e=is(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DC(r,e,n){if(Un(r.app))return Promise.reject(Ji(r));const a=is(r),f=await Nm(a,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AC).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&X0(r),g}),m=await Ja._fromIdTokenResponse(a,"signIn",f);return await a._updateCurrentUser(m.user),m}function OC(r,e,n){return Un(r.app)?Promise.reject(Ji(r)):IC(Zt(r),To.credential(e,n)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&X0(r),a})}function NC(r,e,n,a){return Zt(r).onIdTokenChanged(e,n,a)}function MC(r,e,n){return Zt(r).beforeAuthStateChanged(e,n)}function VC(r,e,n,a){return Zt(r).onAuthStateChanged(e,n,a)}function xC(r){return Zt(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=1e3,kC=10;class Z0 extends W0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(a);!n&&this.localCache[a]===f||this.notifyListeners(a,f)},u=this.storage.getItem(a);J1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,kC):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Z0.type="LOCAL";const LC=Z0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0 extends W0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}J0.type="SESSION";const eT=J0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Lh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await UC(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=dg("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},a);f={messageChannel:o,onMessage(w){const C=w;if(C.data.eventId===y)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function jC(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function qC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function HC(){return tT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="firebaseLocalStorageDb",FC=1,Eh="firebaseLocalStorage",iT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function GC(){const r=indexedDB.deleteDatabase(nT);return new _u(r).toPromise()}function Mm(){const r=indexedDB.open(nT,FC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(Eh,{keyPath:iT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(Eh)?e(a):(a.close(),await GC(),e(await Mm()))})})}async function Pv(r,e,n){const a=Uh(r,!0).put({[iT]:e,value:n});return new _u(a).toPromise()}async function YC(r,e){const n=Uh(r,!1).get(e),a=await new _u(n).toPromise();return a===void 0?null:a.value}function kv(r,e){const n=Uh(r,!0).delete(e);return new _u(n).toPromise()}const QC=800,KC=3;class rT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>KC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lh._getInstance(HC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await Pv(e,vh,"1"),await kv(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Pv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>YC(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rT.type="LOCAL";const $C=rT;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(r,e){return e?Wi(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg extends hg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return so(e,this._buildIdpRequest())}_linkToIdToken(e,n){return so(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return so(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WC(r){return $0(r.auth,new mg(r),r.bypassAuthState)}function ZC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),CC(n,new mg(r),r.bypassAuthState)}async function JC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),RC(n,new mg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return JC;case"reauthViaPopup":case"reauthViaRedirect":return ZC;default:$n(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new gu(2e3,1e4);class io extends aT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=dg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(gi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(gi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(gi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eI.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="pendingRedirect",ih=new Map;class nI extends aT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const a=await iI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iI(r,e){const n=sI(e),a=aI(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function rI(r,e){ih.set(r._key(),e)}function aI(r){return Wi(r._redirectPersistence)}function sI(r){return nh(tI,r.config.apiKey,r.name)}async function oI(r,e,n=!1){if(Un(r.app))return Promise.reject(Ji(r));const a=is(r),o=XC(a,e),f=await new nI(a,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await a._persistUserIfCurrent(f.user),await a._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=10*60*1e3;class uI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!sT(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(gi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lv(e))}saveEventToCache(e){this.cachedEventUids.add(Lv(e)),this.lastProcessedEventTime=Date.now()}}function Lv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hI(r,e={}){return ma(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dI=/^https?/;async function mI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await hI(r);for(const n of e)try{if(gI(n))return}catch{}$n(r,"unauthorized-domain")}function gI(r){const e=Dm(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===a}if(!dI.test(n))return!1;if(fI.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new gu(3e4,6e4);function Uv(){const r=pi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function yI(r){return new Promise((e,n)=>{var a,o,u;function f(){Uv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(gi(r,"network-request-failed"))},timeout:pI.get()})}if(!((o=(a=pi().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)f();else{const m=lC("iframefcb");return pi()[m]=()=>{gapi.load?f():n(gi(r,"network-request-failed"))},F0(`${oC()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw rh=null,e})}let rh=null;function _I(r){return rh=rh||yI(r),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new gu(5e3,15e3),EI="__/auth/iframe",TI="emulator/auth/iframe",bI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?lg(e,TI):`https://${r.config.authDomain}/${EI}`,a={apiKey:e.apiKey,appName:r.name,v:Eo},o=wI.get(r.config.apiHost);o&&(a.eid=o);const u=r._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${mu(a).slice(1)}`}async function AI(r){const e=await _I(r),n=pi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:SI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bI,dontclear:!0},a=>new Promise(async(o,u)=>{await a.restyle({setHideOnLeave:!1});const f=gi(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},vI.get());function g(){pi().clearTimeout(m),o(a)}a.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CI=500,II=600,DI="_blank",OI="http://localhost";class zv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NI(r,e,n,a=CI,o=II){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const g=Object.assign(Object.assign({},RI),{width:a.toString(),height:o.toString(),top:u,left:f}),y=Wt().toLowerCase();n&&(m=L0(y)?DI:n),P0(y)&&(e=e||OI,g.scrollbars="yes");const E=Object.entries(g).reduce((C,[O,k])=>`${C}${O}=${k},`,"");if(Z1(y)&&m!=="_self")return MI(e||"",m),new zv(null);const w=window.open(e||"",m,E);ve(w,r,"popup-blocked");try{w.focus()}catch{}return new zv(w)}function MI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="__/auth/handler",xI="emulator/auth/handler",PI=encodeURIComponent("fac");async function jv(r,e,n,a,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Eo,eventId:o};if(e instanceof Q0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",TR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof yu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${PI}=${encodeURIComponent(g)}`:"";return`${kI(r)}?${mu(m).slice(1)}${y}`}function kI({config:r}){return r.emulator?lg(r,xI):`https://${r.authDomain}/${VI}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class LI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eT,this._completeRedirectFn=oI,this._overrideRedirectResult=rI}async _openPopup(e,n,a,o){var u;tr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await jv(e,n,a,Dm(),o);return NI(e,f,dg())}async _openRedirect(e,n,a,o){await this._originValidation(e);const u=await jv(e,n,a,Dm(),o);return jC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(tr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await AI(e),a=new uI(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mm];f!==void 0&&n(!!f),$n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B0()||k0()||cg()}}const UI=LI;var qv="@firebase/auth",Bv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qI(r){lo(new Wa("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=a.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},y=new rC(a,o,u,g);return mC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),lo(new Wa("auth-internal",e=>{const n=is(e.getProvider("auth").getImmediate());return(a=>new zI(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Jr(qv,Bv,jI(r)),Jr(qv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=5*60,HI=v0("authIdTokenMaxAge")||BI;let Hv=null;const FI=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>HI)return;const o=n==null?void 0:n.token;Hv!==o&&(Hv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GI(r=w0()){const e=ag(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dC(r,{popupRedirectResolver:UI,persistence:[$C,LC,eT]}),a=v0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const f=FI(u.toString());MC(n,f,()=>f(n.currentUser)),NC(n,m=>f(m))}}const o=y0("auth");return o&&gC(n,`http://${o}`),n}function YI(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}aC({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const u=gi("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",YI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qI("Browser");var QI="firebase",KI="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(QI,KI,"app");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ea,oT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,A){function S(){}S.prototype=A.prototype,M.D=A.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(I,x,U){for(var D=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)D[tt-2]=arguments[tt];return A.prototype[x].apply(I,D)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,A,S){S||(S=0);var I=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)I[x]=A.charCodeAt(S++)|A.charCodeAt(S++)<<8|A.charCodeAt(S++)<<16|A.charCodeAt(S++)<<24;else for(x=0;16>x;++x)I[x]=A[S++]|A[S++]<<8|A[S++]<<16|A[S++]<<24;A=M.g[0],S=M.g[1],x=M.g[2];var U=M.g[3],D=A+(U^S&(x^U))+I[0]+3614090360&4294967295;A=S+(D<<7&4294967295|D>>>25),D=U+(x^A&(S^x))+I[1]+3905402710&4294967295,U=A+(D<<12&4294967295|D>>>20),D=x+(S^U&(A^S))+I[2]+606105819&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(A^x&(U^A))+I[3]+3250441966&4294967295,S=x+(D<<22&4294967295|D>>>10),D=A+(U^S&(x^U))+I[4]+4118548399&4294967295,A=S+(D<<7&4294967295|D>>>25),D=U+(x^A&(S^x))+I[5]+1200080426&4294967295,U=A+(D<<12&4294967295|D>>>20),D=x+(S^U&(A^S))+I[6]+2821735955&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(A^x&(U^A))+I[7]+4249261313&4294967295,S=x+(D<<22&4294967295|D>>>10),D=A+(U^S&(x^U))+I[8]+1770035416&4294967295,A=S+(D<<7&4294967295|D>>>25),D=U+(x^A&(S^x))+I[9]+2336552879&4294967295,U=A+(D<<12&4294967295|D>>>20),D=x+(S^U&(A^S))+I[10]+4294925233&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(A^x&(U^A))+I[11]+2304563134&4294967295,S=x+(D<<22&4294967295|D>>>10),D=A+(U^S&(x^U))+I[12]+1804603682&4294967295,A=S+(D<<7&4294967295|D>>>25),D=U+(x^A&(S^x))+I[13]+4254626195&4294967295,U=A+(D<<12&4294967295|D>>>20),D=x+(S^U&(A^S))+I[14]+2792965006&4294967295,x=U+(D<<17&4294967295|D>>>15),D=S+(A^x&(U^A))+I[15]+1236535329&4294967295,S=x+(D<<22&4294967295|D>>>10),D=A+(x^U&(S^x))+I[1]+4129170786&4294967295,A=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(A^S))+I[6]+3225465664&4294967295,U=A+(D<<9&4294967295|D>>>23),D=x+(A^S&(U^A))+I[11]+643717713&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^A&(x^U))+I[0]+3921069994&4294967295,S=x+(D<<20&4294967295|D>>>12),D=A+(x^U&(S^x))+I[5]+3593408605&4294967295,A=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(A^S))+I[10]+38016083&4294967295,U=A+(D<<9&4294967295|D>>>23),D=x+(A^S&(U^A))+I[15]+3634488961&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^A&(x^U))+I[4]+3889429448&4294967295,S=x+(D<<20&4294967295|D>>>12),D=A+(x^U&(S^x))+I[9]+568446438&4294967295,A=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(A^S))+I[14]+3275163606&4294967295,U=A+(D<<9&4294967295|D>>>23),D=x+(A^S&(U^A))+I[3]+4107603335&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^A&(x^U))+I[8]+1163531501&4294967295,S=x+(D<<20&4294967295|D>>>12),D=A+(x^U&(S^x))+I[13]+2850285829&4294967295,A=S+(D<<5&4294967295|D>>>27),D=U+(S^x&(A^S))+I[2]+4243563512&4294967295,U=A+(D<<9&4294967295|D>>>23),D=x+(A^S&(U^A))+I[7]+1735328473&4294967295,x=U+(D<<14&4294967295|D>>>18),D=S+(U^A&(x^U))+I[12]+2368359562&4294967295,S=x+(D<<20&4294967295|D>>>12),D=A+(S^x^U)+I[5]+4294588738&4294967295,A=S+(D<<4&4294967295|D>>>28),D=U+(A^S^x)+I[8]+2272392833&4294967295,U=A+(D<<11&4294967295|D>>>21),D=x+(U^A^S)+I[11]+1839030562&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^A)+I[14]+4259657740&4294967295,S=x+(D<<23&4294967295|D>>>9),D=A+(S^x^U)+I[1]+2763975236&4294967295,A=S+(D<<4&4294967295|D>>>28),D=U+(A^S^x)+I[4]+1272893353&4294967295,U=A+(D<<11&4294967295|D>>>21),D=x+(U^A^S)+I[7]+4139469664&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^A)+I[10]+3200236656&4294967295,S=x+(D<<23&4294967295|D>>>9),D=A+(S^x^U)+I[13]+681279174&4294967295,A=S+(D<<4&4294967295|D>>>28),D=U+(A^S^x)+I[0]+3936430074&4294967295,U=A+(D<<11&4294967295|D>>>21),D=x+(U^A^S)+I[3]+3572445317&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^A)+I[6]+76029189&4294967295,S=x+(D<<23&4294967295|D>>>9),D=A+(S^x^U)+I[9]+3654602809&4294967295,A=S+(D<<4&4294967295|D>>>28),D=U+(A^S^x)+I[12]+3873151461&4294967295,U=A+(D<<11&4294967295|D>>>21),D=x+(U^A^S)+I[15]+530742520&4294967295,x=U+(D<<16&4294967295|D>>>16),D=S+(x^U^A)+I[2]+3299628645&4294967295,S=x+(D<<23&4294967295|D>>>9),D=A+(x^(S|~U))+I[0]+4096336452&4294967295,A=S+(D<<6&4294967295|D>>>26),D=U+(S^(A|~x))+I[7]+1126891415&4294967295,U=A+(D<<10&4294967295|D>>>22),D=x+(A^(U|~S))+I[14]+2878612391&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~A))+I[5]+4237533241&4294967295,S=x+(D<<21&4294967295|D>>>11),D=A+(x^(S|~U))+I[12]+1700485571&4294967295,A=S+(D<<6&4294967295|D>>>26),D=U+(S^(A|~x))+I[3]+2399980690&4294967295,U=A+(D<<10&4294967295|D>>>22),D=x+(A^(U|~S))+I[10]+4293915773&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~A))+I[1]+2240044497&4294967295,S=x+(D<<21&4294967295|D>>>11),D=A+(x^(S|~U))+I[8]+1873313359&4294967295,A=S+(D<<6&4294967295|D>>>26),D=U+(S^(A|~x))+I[15]+4264355552&4294967295,U=A+(D<<10&4294967295|D>>>22),D=x+(A^(U|~S))+I[6]+2734768916&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~A))+I[13]+1309151649&4294967295,S=x+(D<<21&4294967295|D>>>11),D=A+(x^(S|~U))+I[4]+4149444226&4294967295,A=S+(D<<6&4294967295|D>>>26),D=U+(S^(A|~x))+I[11]+3174756917&4294967295,U=A+(D<<10&4294967295|D>>>22),D=x+(A^(U|~S))+I[2]+718787259&4294967295,x=U+(D<<15&4294967295|D>>>17),D=S+(U^(x|~A))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+A&4294967295,M.g[1]=M.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+U&4294967295}a.prototype.u=function(M,A){A===void 0&&(A=M.length);for(var S=A-this.blockSize,I=this.B,x=this.h,U=0;U<A;){if(x==0)for(;U<=S;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<A;)if(I[x++]=M.charCodeAt(U++),x==this.blockSize){o(this,I),x=0;break}}else for(;U<A;)if(I[x++]=M[U++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=A},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var A=1;A<M.length-8;++A)M[A]=0;var S=8*this.o;for(A=M.length-8;A<M.length;++A)M[A]=S&255,S/=256;for(this.u(M),M=Array(16),A=S=0;4>A;++A)for(var I=0;32>I;I+=8)M[S++]=this.g[A]>>>I&255;return M};function u(M,A){var S=m;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=A(M)}function f(M,A){this.h=A;for(var S=[],I=!0,x=M.length-1;0<=x;x--){var U=M[x]|0;I&&U==A||(S[x]=U,I=!1)}this.g=S}var m={};function g(M){return-128<=M&&128>M?u(M,function(A){return new f([A|0],0>A?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return w;if(0>M)return j(y(-M));for(var A=[],S=1,I=0;M>=S;I++)A[I]=M/S|0,S*=4294967296;return new f(A,0)}function E(M,A){if(M.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M.charAt(0)=="-")return j(E(M.substring(1),A));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=y(Math.pow(A,8)),I=w,x=0;x<M.length;x+=8){var U=Math.min(8,M.length-x),D=parseInt(M.substring(x,x+U),A);8>U?(U=y(Math.pow(A,U)),I=I.j(U).add(y(D))):(I=I.j(S),I=I.add(y(D)))}return I}var w=g(0),C=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(q(this))return-j(this).m();for(var M=0,A=1,S=0;S<this.g.length;S++){var I=this.i(S);M+=(0<=I?I:4294967296+I)*A,A*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(k(this))return"0";if(q(this))return"-"+j(this).toString(M);for(var A=y(Math.pow(M,6)),S=this,I="";;){var x=pe(S,A).g;S=G(S,x.j(A));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=x,k(S))return U+I;for(;6>U.length;)U="0"+U;I=U+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function k(M){if(M.h!=0)return!1;for(var A=0;A<M.g.length;A++)if(M.g[A]!=0)return!1;return!0}function q(M){return M.h==-1}r.l=function(M){return M=G(this,M),q(M)?-1:k(M)?0:1};function j(M){for(var A=M.g.length,S=[],I=0;I<A;I++)S[I]=~M.g[I];return new f(S,~M.h).add(C)}r.abs=function(){return q(this)?j(this):this},r.add=function(M){for(var A=Math.max(this.g.length,M.g.length),S=[],I=0,x=0;x<=A;x++){var U=I+(this.i(x)&65535)+(M.i(x)&65535),D=(U>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);I=D>>>16,U&=65535,D&=65535,S[x]=D<<16|U}return new f(S,S[S.length-1]&-2147483648?-1:0)};function G(M,A){return M.add(j(A))}r.j=function(M){if(k(this)||k(M))return w;if(q(this))return q(M)?j(this).j(j(M)):j(j(this).j(M));if(q(M))return j(this.j(j(M)));if(0>this.l(O)&&0>M.l(O))return y(this.m()*M.m());for(var A=this.g.length+M.g.length,S=[],I=0;I<2*A;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<M.g.length;x++){var U=this.i(I)>>>16,D=this.i(I)&65535,tt=M.i(x)>>>16,ot=M.i(x)&65535;S[2*I+2*x]+=D*ot,ee(S,2*I+2*x),S[2*I+2*x+1]+=U*ot,ee(S,2*I+2*x+1),S[2*I+2*x+1]+=D*tt,ee(S,2*I+2*x+1),S[2*I+2*x+2]+=U*tt,ee(S,2*I+2*x+2)}for(I=0;I<A;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=A;I<2*A;I++)S[I]=0;return new f(S,0)};function ee(M,A){for(;(M[A]&65535)!=M[A];)M[A+1]+=M[A]>>>16,M[A]&=65535,A++}function te(M,A){this.g=M,this.h=A}function pe(M,A){if(k(A))throw Error("division by zero");if(k(M))return new te(w,w);if(q(M))return A=pe(j(M),A),new te(j(A.g),j(A.h));if(q(A))return A=pe(M,j(A)),new te(j(A.g),A.h);if(30<M.g.length){if(q(M)||q(A))throw Error("slowDivide_ only works with positive integers.");for(var S=C,I=A;0>=I.l(M);)S=he(S),I=he(I);var x=Te(S,1),U=Te(I,1);for(I=Te(I,2),S=Te(S,2);!k(I);){var D=U.add(I);0>=D.l(M)&&(x=x.add(S),U=D),I=Te(I,1),S=Te(S,1)}return A=G(M,x.j(A)),new te(x,A)}for(x=w;0<=M.l(A);){for(S=Math.max(1,Math.floor(M.m()/A.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),U=y(S),D=U.j(A);q(D)||0<D.l(M);)S-=I,U=y(S),D=U.j(A);k(U)&&(U=C),x=x.add(U),M=G(M,D)}return new te(x,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var A=Math.max(this.g.length,M.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)&M.i(I);return new f(S,this.h&M.h)},r.or=function(M){for(var A=Math.max(this.g.length,M.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)|M.i(I);return new f(S,this.h|M.h)},r.xor=function(M){for(var A=Math.max(this.g.length,M.g.length),S=[],I=0;I<A;I++)S[I]=this.i(I)^M.i(I);return new f(S,this.h^M.h)};function he(M){for(var A=M.g.length+1,S=[],I=0;I<A;I++)S[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(S,M.h)}function Te(M,A){var S=A>>5;A%=32;for(var I=M.g.length-S,x=[],U=0;U<I;U++)x[U]=0<A?M.i(U+S)>>>A|M.i(U+S+1)<<32-A:M.i(U+S);return new f(x,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,oT=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ea=f}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lT,ql,uT,ah,Vm,cT,hT,fT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=n(this);function o(c,p){if(p)e:{var _=a;c=c.split(".");for(var b=0;b<c.length-1;b++){var z=c[b];if(!(z in _))break e;_=_[z]}c=c[c.length-1],b=_[c],p=p(b),p!=b&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,b=!1,z={next:function(){if(!b&&_<c.length){var Y=_++;return{value:p(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function w(c,p,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,b),c.apply(p,z)}}return function(){return c.apply(p,arguments)}}function C(c,p,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,C.apply(null,arguments)}function O(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function k(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,z,Y){for(var ie=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)ie[ke-2]=arguments[ke];return p.prototype[z].apply(b,ie)}}function q(c){const p=c.length;if(0<p){const _=Array(p);for(let b=0;b<p;b++)_[b]=c[b];return _}return[]}function j(c,p){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(g(b)){const z=c.length||0,Y=b.length||0;c.length=z+Y;for(let ie=0;ie<Y;ie++)c[z+ie]=b[ie]}else c.push(b)}}class G{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var he=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function Te(c,p,_){for(const b in c)p.call(_,c[b],b,c)}function M(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function A(c){const p={};for(const _ in c)p[_]=c[_];return p}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,p){let _,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(_ in b)c[_]=b[_];for(let Y=0;Y<S.length;Y++)_=S[Y],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function x(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function D(){var c=je;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class tt{constructor(){this.h=this.g=null}add(p,_){const b=ot.get();b.set(p,_),this.h?this.h.next=b:this.g=b,this.h=b}}var ot=new G(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,de=!1,je=new tt,N=()=>{const c=m.Promise.resolve(void 0);ye=()=>{c.then(Q)}};var Q=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){U(_)}var p=ot;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var re=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function be(c,p){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(he){e:{try{pe(p.nodeName);var z=!0;break e}catch{}z=!1}z||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}k(be,se);var Re={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(c,p,_,b,z){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!b,this.ha=z,this.key=++qe,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,p,_,b,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ie=Tn(c,p,b,z);return-1<ie?(p=c[ie],_||(p.fa=!1)):(p=new lt(p,this.src,Y,!!b,z),p.fa=_,c.push(p)),p};function bi(c,p){var _=p.type;if(_ in c.g){var b=c.g[_],z=Array.prototype.indexOf.call(b,p,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(b,z,1),Y&&(Qe(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,p,_,b){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==p&&Y.capture==!!_&&Y.ha==b)return z}return-1}var sr="closure_lm_"+(1e6*Math.random()|0),or={};function wi(c,p,_,b,z){if(Array.isArray(p)){for(var Y=0;Y<p.length;Y++)wi(c,p[Y],_,b,z);return null}return _=Su(_),c&&c[pt]?c.K(p,_,y(b)?!!b.capture:!1,z):Co(c,p,_,!1,b,z)}function Co(c,p,_,b,z,Y){if(!p)throw Error("Invalid event type");var ie=y(z)?!!z.capture:!!z,ke=Io(c);if(ke||(c[sr]=ke=new Jt(c)),_=ke.add(p,_,b,ie,Y),_.proxy)return _;if(b=ls(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)re||(z=ie),z===void 0&&(z=!1),c.addEventListener(p.toString(),b,z);else if(c.attachEvent)c.attachEvent(cs(p.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ls(){function c(_){return p.call(c.src,c.listener,_)}const p=tf;return c}function us(c,p,_,b,z){if(Array.isArray(p))for(var Y=0;Y<p.length;Y++)us(c,p[Y],_,b,z);else b=y(b)?!!b.capture:!!b,_=Su(_),c&&c[pt]?(c=c.i,p=String(p).toString(),p in c.g&&(Y=c.g[p],_=Tn(Y,_,b,z),-1<_&&(Qe(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[p],c.h--)))):c&&(c=Io(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Tn(p,_,b,z)),(_=-1<c?p[c]:null)&&pa(_))}function pa(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[pt])bi(p.i,c);else{var _=c.type,b=c.proxy;p.removeEventListener?p.removeEventListener(_,b,c.capture):p.detachEvent?p.detachEvent(cs(_),b):p.addListener&&p.removeListener&&p.removeListener(b),(_=Io(p))?(bi(_,c),_.h==0&&(_.src=null,p[sr]=null)):Qe(c)}}}function cs(c){return c in or?or[c]:or[c]="on"+c}function tf(c,p){if(c.da)c=!0;else{p=new be(p,this);var _=c.listener,b=c.ha||c.src;c.fa&&pa(c),c=_.call(b,p)}return c}function Io(c){return c=c[sr],c instanceof Jt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(p){return c.handleEvent(p)}),c[sn])}function bt(){oe.call(this),this.i=new Jt(this),this.M=this,this.F=null}k(bt,oe),bt.prototype[pt]=!0,bt.prototype.removeEventListener=function(c,p,_,b){us(this,c,p,_,b)};function Ot(c,p){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=p.type||p,typeof p=="string")p=new se(p,c);else if(p instanceof se)p.target=p.target||c;else{var z=p;p=new se(b,c),I(p,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ie=p.g=_[Y];z=Si(ie,b,!0,p)&&z}if(ie=p.g=c,z=Si(ie,b,!0,p)&&z,z=Si(ie,b,!1,p)&&z,_)for(Y=0;Y<_.length;Y++)ie=p.g=_[Y],z=Si(ie,b,!1,p)&&z}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],b=0;b<_.length;b++)Qe(_[b]);delete c.g[p],c.h--}}this.F=null},bt.prototype.K=function(c,p,_,b){return this.i.add(String(c),p,!1,_,b)},bt.prototype.L=function(c,p,_,b){return this.i.add(String(c),p,!0,_,b)};function Si(c,p,_,b){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var z=!0,Y=0;Y<p.length;++Y){var ie=p[Y];if(ie&&!ie.da&&ie.capture==_){var ke=ie.listener,St=ie.ha||ie.src;ie.fa&&bi(c.i,ie),z=ke.call(St,b)!==!1&&z}}return z&&!b.defaultPrevented}function Au(c,p,_){if(typeof c=="function")_&&(c=C(c,_));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function Do(c){c.g=Au(()=>{c.g=null,c.i&&(c.i=!1,Do(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class nf extends oe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:Do(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ya(c){oe.call(this),this.h=c,this.g={}}k(ya,oe);var lr=[];function Gt(c){Te(c.g,function(p,_){this.g.hasOwnProperty(_)&&pa(p)},c),c.g={}}ya.prototype.N=function(){ya.aa.N.call(this),Gt(this)},ya.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oo=m.JSON.stringify,Zn=m.JSON.parse,en=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Cu(){}var Jn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ur(){se.call(this,"d")}k(ur,se);function jn(){se.call(this,"c")}k(jn,se);var bn={},cr=null;function hs(){return cr=cr||new bt}bn.La="serverreachability";function Mo(c){se.call(this,bn.La,c)}k(Mo,se);function hr(c){const p=hs();Ot(p,new Mo(p))}bn.STAT_EVENT="statevent";function fs(c,p){se.call(this,bn.STAT_EVENT,c),this.stat=p}k(fs,se);function dt(c){const p=hs();Ot(p,new fs(p,c))}bn.Ma="timingevent";function Iu(c,p){se.call(this,bn.Ma,c),this.size=p}k(Iu,se);function fr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function dr(){this.g=!0}dr.prototype.xa=function(){this.g=!1};function Du(c,p,_,b,z,Y){c.info(function(){if(c.g)if(Y)for(var ie="",ke=Y.split("&"),St=0;St<ke.length;St++){var Le=ke[St].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var At=Vt.split("_");ie=2<=At.length&&At[1]=="type"?ie+(Vt+"="+Le+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=Y;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+p+`
`+_+`
`+ie})}function Ou(c,p,_,b,z,Y,ie){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+p+`
`+_+`
`+Y+" "+ie})}function mr(c,p,_,b){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Nt(c,_)+(b?" "+b:"")})}function ei(c,p){c.info(function(){return"TIMEOUT: "+p})}dr.prototype.info=function(){};function Nt(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var z=b[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Oo(_)}catch{return p}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_a;function ds(){}k(ds,No),ds.prototype.g=function(){return new XMLHttpRequest},ds.prototype.i=function(){return{}},_a=new ds;function ti(c,p,_,b){this.j=c,this.i=p,this.l=_,this.R=b||1,this.U=new ya(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vo}function Vo(){this.i=null,this.g="",this.h=!1}var gr={},va={};function qn(c,p,_){c.L=1,c.v=ba(ut(p)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,p){c.F=Date.now(),nt(c),c.A=ut(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Di(_.i,"t",b),c.C=0,_=c.j.J,c.h=new Vo,c.g=Fu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new nf(C(c.Y,c,c.g),c.O)),p=c.U,_=c.g,b=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(lr[0]=z.toString()),z=lr);for(var Y=0;Y<z.length;Y++){var ie=wi(_,z[Y],b||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),hr(),Du(c.i,c.u,c.A,c.l,c.R,c.m)}ti.prototype.ca=function(c){c=c.target;const p=this.M;p&&Cn(c)==3?p.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)e:{const At=Cn(this.g);var p=this.g.Ba();const Vi=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||ku(this.g)))){this.J||At!=4||p==7||(p==8||0>=Vi?hr(3):hr(2)),ms(this);var _=this.g.Z();this.X=_;t:if(pr(this)){var b=ku(this.g);c="";var z=b.length,Y=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){on(this),fn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(p=0;p<z;p++)this.h.h=!0,c+=this.h.i.decode(b[p],{stream:!(Y&&p==z-1)});b.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Ou(this.i,this.u,this.A,this.l,this.R,At,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,St=this.g;if((ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ke)){var Le=ke;break t}}Le=null}if(_=Le)mr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dn(this,_);else{this.o=!1,this.s=3,dt(12),on(this),fn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<ie.length;)if(Ut=yr(this,ie),Ut==va){At==4&&(this.s=4,dt(14),_=!1),mr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==gr){this.s=4,dt(15),mr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else mr(this.i,this.l,Ut,null),dn(this,Ut);if(pr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)mr(this.i,this.l,ie,"[Invalid Chunked Response]"),on(this),fn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Da(Vt),Vt.M=!0,dt(11))}}else mr(this.i,this.l,ie,null),dn(this,ie);At==4&&on(this),this.o&&!this.J&&(At==4?qu(this.j,this):(this.o=!1,nt(this)))}else uf(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),on(this),fn(this)}}}catch{}finally{}};function pr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function yr(c,p){var _=c.C,b=p.indexOf(`
`,_);return b==-1?va:(_=Number(p.substring(_,b)),isNaN(_)?gr:(b+=1,b+_>p.length?va:(p=p.slice(b,b+_),c.C=b+_,p)))}ti.prototype.cancel=function(){this.J=!0,on(this)};function nt(c){c.S=Date.now()+c.I,xo(c,c.I)}function xo(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=fr(C(c.ba,c),p)}function ms(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ti.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ei(this.i,this.A),this.L!=2&&(hr(),dt(17)),on(this),this.s=2,fn(this)):xo(this,this.S-c)};function fn(c){c.j.G==0||c.J||qu(c.j,c)}function on(c){ms(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,Gt(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function dn(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||_r(_.h,c))){if(!c.K&&_r(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ss(_),bs(_);else break e;Go(_),dt(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=fr(C(_.Za,_),6e3));if(1>=Nu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Ss(_),!ee(p))for(z=_.Da.g.parse(p),p=0;p<z.length;p++){let Le=z[p];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Vt=Le[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const At=Le[4];At!=null&&(_.Aa=At,_.j.info("SVER="+_.Aa));const Vi=Le[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(b=1.5*Vi,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ut=c.g;if(Ut){const li=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var Y=b.h;Y.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(vr(Y,Y.h),Y.h=null))}if(b.D){const Qo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(b.ya=Qo,Be(b.I,b.D,Qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var ie=c;if(b.qa=Hu(b,b.J?b.ia:null,b.W),ie.K){wn(b.h,ie);var ke=ie,St=b.L;St&&(ke.I=St),ke.B&&(ms(ke),nt(ke)),b.g=ie}else zu(b);0<_.i.length&&ws(_)}else Le[0]!="stop"&&Le[0]!="close"||Mi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mi(_,7):Ho(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}hr(4)}catch{}}var rf=class{constructor(c,p){this.g=c,this.map=p}};function Po(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nu(c){return c.h?1:c.g?c.g.size:0}function _r(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function vr(c,p){c.g?c.g.add(p):c.h=p}function wn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Po.prototype.cancel=function(){if(this.i=tn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function tn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return q(c.i)}function Mu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,b=0;b<_;b++)p.push(c[b]);return p}p=[],_=0;for(b in c)p[_++]=c[b];return p}function af(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const b in c)p[_++]=b;return p}}}function Ea(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=af(c),b=Mu(c),z=b.length,Y=0;Y<z;Y++)p.call(void 0,b[Y],_&&_[Y],c)}var Lo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gs(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),z=null;if(0<=b){var Y=c[_].substring(0,b);z=c[_].substring(b+1)}else Y=c[_];p(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,Er(this,c.j),this.o=c.o,this.g=c.g,Ta(this,c.s),this.l=c.l;var p=c.i,_=new ni;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),ps(this,_),this.m=c.m}else c&&(p=String(c).match(Lo))?(this.h=!1,Er(this,p[1]||"",!0),this.o=Tr(p[2]||""),this.g=Tr(p[3]||"",!0),Ta(this,p[4]),this.l=Tr(p[5]||"",!0),ps(this,p[6]||"",!0),this.m=Tr(p[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Ci.prototype.toString=function(){var c=[],p=this.j;p&&c.push(Sn(p,Uo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Sn(p,Uo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Sn(_,_.charAt(0)=="/"?zo:Vu,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Sn(_,lf)),c.join("")};function ut(c){return new Ci(c)}function Er(c,p,_){c.j=_?Tr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Ta(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function ps(c,p,_){p instanceof ni?(c.i=p,jo(c.i,c.h)):(_||(p=Sn(p,of)),c.i=new ni(p,c.h))}function Be(c,p,_){c.i.set(p,_)}function ba(c){return Be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Sn(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,sf),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function sf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Uo=/[#\/\?@]/g,Vu=/[#\?:]/g,zo=/[#\?]/g,of=/[#\?@]/g,lf=/#/g;function ni(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&gs(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=ni.prototype,r.add=function(c,p){An(this),this.i=null,c=Oi(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function ys(c,p){An(c),p=Oi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Ii(c,p){return An(c),p=Oi(c,p),c.g.has(p)}r.forEach=function(c,p){An(this),this.g.forEach(function(_,b){_.forEach(function(z){c.call(p,z,b,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let b=0;b<p.length;b++){const z=c[b];for(let Y=0;Y<z.length;Y++)_.push(p[b])}return _},r.V=function(c){An(this);let p=[];if(typeof c=="string")Ii(this,c)&&(p=p.concat(this.g.get(Oi(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return An(this),this.i=null,c=Oi(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Di(c,p,_){ys(c,p),0<_.length&&(c.i=null,c.g.set(Oi(c,p),q(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var b=p[_];const Y=encodeURIComponent(String(b)),ie=this.V(b);for(b=0;b<ie.length;b++){var z=Y;ie[b]!==""&&(z+="="+encodeURIComponent(String(ie[b]))),c.push(z)}}return this.i=c.join("&")};function Oi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function jo(c,p){p&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,b){var z=b.toLowerCase();b!=z&&(ys(this,b),Di(this,z,_))},c)),c.j=p}function xu(c,p){const _=new dr;if(m.Image){const b=new Image;b.onload=O(Rn,_,"TestLoadImage: loaded",!0,p,b),b.onerror=O(Rn,_,"TestLoadImage: error",!1,p,b),b.onabort=O(Rn,_,"TestLoadImage: abort",!1,p,b),b.ontimeout=O(Rn,_,"TestLoadImage: timeout",!1,p,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else p(!1)}function wa(c,p){const _=new dr,b=new AbortController,z=setTimeout(()=>{b.abort(),Rn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(z),Y.ok?Rn(_,"TestPingServer: ok",!0,p):Rn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(z),Rn(_,"TestPingServer: error",!1,p)})}function Rn(c,p,_,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(_)}catch{}}function Sa(){this.g=new en}function ii(c,p,_){const b=_||"";try{Ea(c,function(z,Y){let ie=z;y(z)&&(ie=Oo(z)),p.push(b+Y+"="+encodeURIComponent(ie))})}catch(z){throw p.push(b+"type="+encodeURIComponent("_badmap")),z}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}k(br,No),br.prototype.g=function(){return new Ni(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function Ni(c,p){bt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Ni,bt),r=Ni.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ai(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ai(this)),this.g&&(this.readyState=3,ai(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ri(this):ai(this),this.readyState==3&&qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ri(this))},r.Qa=function(c){this.g&&(this.response=c,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ai(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ai(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let p="";return Te(c,function(_,b){p+=b,p+=":",p+=_,p+=`\r
`}),p}function Mt(c,p,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Bo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Be(c,p,_))}function Ge(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ge,bt);var _s=/^https?$/i,Aa=["POST","PUT"];r=Ge.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_a.g(),this.v=this.o?Ru(this.o):Ru(_a),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Y){Pu(this,Y);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)_.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())_.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Aa,p,void 0))||b||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ie]of _)this.g.setRequestHeader(Y,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ra(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Pu(this,Y)}};function Pu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,vs(c),si(c)}function vs(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),si(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),Ge.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Es(this):this.bb())},r.bb=function(){Es(this)};function Es(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Au(c.Ea,0,c);else if(Ot(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var b;if(b=ie===0){var z=String(c.D).match(Lo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),b=!_s.test(z?z.toLowerCase():"")}_=b}if(_)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var Y=2<Cn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",vs(c)}}finally{si(c)}}}}function si(c,p){if(c.g){Ra(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Ot(c,"ready");try{_.onreadystatechange=b}catch{}}}function Ra(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Zn(p)}};function ku(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const p={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(ee(c[b]))continue;var _=x(c[b]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=p[z]||[];p[z]=Y,Y.push(_)}M(p,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ca(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function Ts(c){this.Aa=0,this.i=[],this.j=new dr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ca("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ca("baseRetryDelayMs",5e3,c),this.cb=Ca("retryDelaySeedMs",1e4,c),this.Wa=Ca("forwardChannelMaxRetries",2,c),this.wa=Ca("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Po(c&&c.concurrentRequestLimit),this.Da=new Sa,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ts.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,b){dt(0),this.W=c,this.H=p||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=Hu(this,null,this.W),ws(this)};function Ho(c){if(Lu(c),c.G==3){var p=c.U++,_=ut(c.I);if(Be(_,"SID",c.K),Be(_,"RID",p),Be(_,"TYPE","terminate"),Ia(c,_),p=new ti(c,c.j,p),p.L=2,p.v=ba(ut(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Fu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),nt(p)}Bu(c)}function bs(c){c.g&&(Da(c),c.g.cancel(),c.g=null)}function Lu(c){bs(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ss(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ws(c){if(!ko(c.h)&&!c.s){c.s=!0;var p=c.Ga;ye||N(),de||(ye(),de=!0),je.add(p,c),c.B=0}}function cf(c,p){return Nu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=fr(C(c.Ga,c,p),Yo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ti(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Uu(this,z,p),_=ut(this.I),Be(_,"RID",c),Be(_,"CVER",22),this.D&&Be(_,"X-HTTP-Session-Id",this.D),Ia(this,_),Y&&(this.O?p="headers="+encodeURIComponent(String(Bo(Y)))+"&"+p:this.m&&Mt(_,this.m,Y)),vr(this.h,z),this.Ua&&Be(_,"TYPE","init"),this.P?(Be(_,"$req",p),Be(_,"SID","null"),z.T=!0,qn(z,_,null)):qn(z,_,p),this.G=2}}else this.G==3&&(c?Fo(this,c):this.i.length==0||ko(this.h)||Fo(this))};function Fo(c,p){var _;p?_=p.l:_=c.U++;const b=ut(c.I);Be(b,"SID",c.K),Be(b,"RID",_),Be(b,"AID",c.T),Ia(c,b),c.m&&c.o&&Mt(b,c.m,c.o),_=new ti(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Uu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),vr(c.h,_),qn(_,b,p)}function Ia(c,p){c.H&&Te(c.H,function(_,b){Be(p,b,_)}),c.l&&Ea({},function(_,b){Be(p,b,_)})}function Uu(c,p,_){_=Math.min(c.i.length,_);var b=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const ie=["count="+_];Y==-1?0<_?(Y=z[0].g,ie.push("ofs="+Y)):Y=0:ie.push("ofs="+Y);let ke=!0;for(let St=0;St<_;St++){let Le=z[St].g;const Vt=z[St].map;if(Le-=Y,0>Le)Y=Math.max(0,z[St].g-100),ke=!1;else try{ii(Vt,ie,"req"+Le+"_")}catch{b&&b(Vt)}}if(ke){b=ie.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,b}function zu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ye||N(),de||(ye(),de=!0),je.add(p,c),c.v=0}}function Go(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=fr(C(c.Fa,c),Yo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,ju(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=fr(C(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),bs(this),ju(this))};function Da(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function ju(c){c.g=new ti(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=ut(c.qa);Be(p,"RID","rpc"),Be(p,"SID",c.K),Be(p,"AID",c.T),Be(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Be(p,"TO",c.ja),Be(p,"TYPE","xmlhttp"),Ia(c,p),c.m&&c.o&&Mt(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ba(ut(p)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,bs(this),Go(this),dt(19))};function Ss(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,p){var _=null;if(c.g==p){Ss(c),Da(c),c.g=null;var b=2}else if(_r(c.h,p))_=p.D,wn(c.h,p),b=1;else return;if(c.G!=0){if(p.o)if(b==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var z=c.B;b=hs(),Ot(b,new Iu(b,_)),ws(c)}else zu(c);else if(z=p.s,z==3||z==0&&0<p.X||!(b==1&&cf(c,p)||b==2&&Go(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),z){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function Yo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Mi(c,p){if(c.j.info("Error code "+p),p==2){var _=C(c.fb,c),b=c.Xa;const z=!b;b=new Ci(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Er(b,"https"),ba(b),z?xu(b.toString(),_):wa(b.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(p),Bu(c),Lu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Bu(c){if(c.G=0,c.ka=[],c.l){const p=tn(c.h);(p.length!=0||c.i.length!=0)&&(j(c.ka,p),j(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function Hu(c,p,_){var b=_ instanceof Ci?ut(_):new Ci(_);if(b.g!="")p&&(b.g=p+"."+b.g),Ta(b,b.s);else{var z=m.location;b=z.protocol,p=p?p+"."+z.hostname:z.hostname,z=+z.port;var Y=new Ci(null);b&&Er(Y,b),p&&(Y.g=p),z&&Ta(Y,z),_&&(Y.l=_),b=Y}return _=c.D,p=c.ya,_&&p&&Be(b,_,p),Be(b,"VER",c.la),Ia(c,b),b}function Fu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new br({eb:_})):new Ge(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function As(){}As.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){bt.call(this),this.g=new Ts(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ee(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ee(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new oi(this)}k(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Ho(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Oo(c),c=_);p.i.push(new rf(p.Ya++,c)),p.G==3&&ws(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,nn.aa.N.call(this)};function Yu(c){ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}k(Yu,ur);function Qu(){jn.call(this),this.status=1}k(Qu,jn);function oi(c){this.g=c}k(oi,Gu),oi.prototype.ua=function(){Ot(this.g,"a")},oi.prototype.ta=function(c){Ot(this.g,new Yu(c))},oi.prototype.sa=function(c){Ot(this.g,new Qu)},oi.prototype.ra=function(){Ot(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,fT=function(){return new As},hT=function(){return hs()},cT=bn,Vm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,ah=wt,Ai.COMPLETE="complete",uT=Ai,Cu.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",bt.prototype.listen=bt.prototype.K,ql=Cu,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,lT=Ge}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const Gv="@firebase/firestore",Yv="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new ig("@firebase/firestore");function Js(){return es.logLevel}function le(r,...e){if(es.logLevel<=Me.DEBUG){const n=e.map(gg);es.debug(`Firestore (${bo}): ${r}`,...n)}}function nr(r,...e){if(es.logLevel<=Me.ERROR){const n=e.map(gg);es.error(`Firestore (${bo}): ${r}`,...n)}}function uo(r,...e){if(es.logLevel<=Me.WARN){const n=e.map(gg);es.warn(`Firestore (${bo}): ${r}`,...n)}}function gg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+r;throw nr(e),new Error(e)}function Ye(r,e){r||Ee()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $I{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class XI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class WI{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0);let a=this.i;const o=g=>this.i!==a?(a=this.i,n(g)):Promise.resolve();let u=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ta,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ta)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(a=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ye(typeof a.accessToken=="string"),new dT(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new $t(e)}}class ZI{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class JI{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new ZI(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eD{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0);const a=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>a(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Qv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new Qv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=tD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Pe(r,e){return r<e?-1:r>e?1:0}function co(r,e,n){return r.length===e.length&&r.every((a,o)=>n(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-62135596800,$v=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*$v);return new It(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Kv)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Kv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new It(0,0))}static max(){return new we(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="__name__";class mi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Ee(),a===void 0?a=e.length-n:a>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mi?e.forEach(a=>{n.push(a)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=mi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const a=mi.isNumericId(e),o=mi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?mi.extractNumericId(e).compare(mi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ea.fromString(e.substring(4,e.length-2))}}class et extends mi{construct(e,n,a){return new et(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ue(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const nD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends mi{construct(e,n,a){return new Ht(e,n,a)}static isValidIdentifier(e){return nD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xv}static keyField(){return new Ht([Xv])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new ue(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(et.fromString(e))}static fromName(e){return new ge(et.fromString(e).popFirst(5))}static empty(){return new ge(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function iD(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(a===1e9?new It(n+1,0):new It(n,a));return new aa(o,ge.empty(),e)}function rD(r){return new aa(r.readTime,r.key,tu)}class aa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new aa(we.min(),ge.empty(),tu)}static max(){return new aa(we.max(),ge.empty(),tu)}}function aD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==sD)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,a)=>{n(e)})}static reject(e){return new W((n,a)=>{a(e)})}static waitFor(e){return new W((n,a)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>a(g))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const a of e)n=n.next(o=>o?W.resolve(o):a());return n}static forEach(e,n){const a=[];return e.forEach((o,u)=>{a.push(n.call(this,o,u))}),this.waitFor(a)}static mapArray(e,n){return new W((a,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&a(f)},E=>o(E))}})}static doWhile(e,n){return new W((a,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):a()};u()})}}function lD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function So(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.oe(a),this._e=a=>n.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}zh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function jh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function uD(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function cD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Wv(e)),e=hD(r.get(n),e);return Wv(e)}function hD(r,e){let n=e;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function Wv(r){return r+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function rs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function pT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,a)=>(e(n,a),!1))}toString(){const e=[];return this.inorderTraversal((n,a)=>(e.push(`${n}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a??Bt.RED,this.left=o??Bt.EMPTY,this.right=u??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Bt(e??this.key,n??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,a,o,u){return this}insert(e,n,a){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,a)=>(e(n),!1))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jv(this.data.getIterator())}getIteratorFrom(e){return new Jv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(a=>{n=n.add(a)}),n}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Dt(this.comparator);return n.data=e,n}}class Jv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Dt(Ht.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,a)=>n.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const fD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(r){if(Ye(!!r),typeof r=="string"){let e=0;const n=fD.exec(r);if(Ye(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function oa(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="server_timestamp",vT="__type__",ET="__previous_value__",TT="__local_write_time__";function yg(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[vT])===null||n===void 0?void 0:n.stringValue)===_T}function qh(r){const e=r.mapValue.fields[ET];return yg(e)?qh(e):e}function nu(r){const e=sa(r.mapValue.fields[TT].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n,a,o,u,f,m,g,y){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const bh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",mD="__max__",$c={mapValue:{}},wT="__vector__",wh="value";function la(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?yg(r)?4:pD(r)?9007199254740991:gD(r)?10:11:Ee()}function Ei(r,e){if(r===e)return!0;const n=la(r);if(n!==la(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=sa(o.timestampValue),m=sa(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return oa(o.bytesValue).isEqual(oa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Zv(f)!==Zv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Ei(f[g],m[g])))return!1;return!0}(r,e);default:return Ee()}}function ru(r,e){return(r.values||[]).find(n=>Ei(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=la(r),a=la(e);if(n!==a)return Pe(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),g=gt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return eE(r.timestampValue,e.timestampValue);case 4:return eE(nu(r),nu(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=oa(u),g=oa(f);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Pe(m[y],g[y]);if(E!==0)return E}return Pe(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(gt(u.latitude),gt(f.latitude));return m!==0?m:Pe(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return tE(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,g,y,E;const w=u.fields||{},C=f.fields||{},O=(m=w[wh])===null||m===void 0?void 0:m.arrayValue,k=(g=C[wh])===null||g===void 0?void 0:g.arrayValue,q=Pe(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:tE(O,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const C=Pe(g[w],E[w]);if(C!==0)return C;const O=ho(m[g[w]],y[E[w]]);if(O!==0)return O}return Pe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function eE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=sa(r),a=sa(e),o=Pe(n.seconds,a.seconds);return o!==0?o:Pe(n.nanos,a.nanos)}function tE(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=ho(n[o],a[o]);if(u)return u}return Pe(n.length,a.length)}function fo(r){return xm(r)}function xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const a=sa(n);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return oa(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=xm(u);return a+"]"}(r.arrayValue):"mapValue"in r?function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function sh(r){switch(la(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return oa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,u)=>o+sh(u),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return rs(a.fields,(u,f)=>{o+=u.length+sh(f)}),o}(r.mapValue);default:throw Ee()}}function nE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function iE(r){return!!r&&"nullValue"in r}function rE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oh(r){return!!r&&"mapValue"in r}function gD(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||n===void 0?void 0:n.stringValue)===wT}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return rs(r.mapValue.fields,(n,a)=>e.mapValue.fields[n]=Yl(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function pD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Ht.emptyPath(),a={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,a,o),a={},o=[],n=m.popLast()}f?a[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){rs(n,(o,u)=>e[o]=u);for(const o of a)delete e[o]}clone(){return new zn(Yl(this.value))}}function ST(r){const e=[];return rs(r.fields,(n,a)=>{const o=new Ht([n]);if(oh(a)){const u=ST(a.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,a,o,u,f,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,we.min(),we.min(),we.min(),zn.empty(),0)}static newFoundDocument(e,n,a,o){return new Xt(e,1,n,we.min(),a,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,we.min(),we.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,we.min(),we.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function aE(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?a=ge.comparator(ge.fromName(f.referenceValue),n.key):a=ho(f,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function sE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function yD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{}class Tt extends AT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new vD(e,n,a):n==="array-contains"?new bD(e,a):n==="in"?new wD(e,a):n==="not-in"?new SD(e,a):n==="array-contains-any"?new AD(e,a):new Tt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new ED(e,a):new TD(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&la(this.value)===la(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends AT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Xn(e,n)}matches(e){return RT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function RT(r){return r.op==="and"}function CT(r){return _D(r)&&RT(r)}function _D(r){for(const e of r.filters)if(e instanceof Xn)return!1;return!0}function km(r){if(r instanceof Tt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(CT(r))return r.filters.map(e=>km(e)).join(",");{const e=r.filters.map(n=>km(n)).join(",");return`${r.op}(${e})`}}function IT(r,e){return r instanceof Tt?function(a,o){return o instanceof Tt&&a.op===o.op&&a.field.isEqual(o.field)&&Ei(a.value,o.value)}(r,e):r instanceof Xn?function(a,o){return o instanceof Xn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((u,f,m)=>u&&IT(f,o.filters[m]),!0):!1}(r,e):void Ee()}function DT(r){return r instanceof Tt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(r):r instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(r):"Filter"}class vD extends Tt{constructor(e,n,a){super(e,n,a),this.key=ge.fromName(a.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class ED extends Tt{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TD extends Tt{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(a=>ge.fromName(a.referenceValue))}class bD extends Tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _g(n)&&ru(n.arrayValue,this.value)}}class wD extends Tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class SD extends Tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class AD extends Tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(a=>ru(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n=null,a=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function oE(r,e=null,n=[],a=[],o=null,u=null,f=null){return new RD(r,e,n,a,o,u,f)}function vg(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(a=>km(a)).join(","),n+="|ob:",n+=e.orderBy.map(a=>function(u){return u.field.canonicalString()+u.dir}(a)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(a=>fo(a)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(a=>fo(a)).join(",")),e.le=n}return e.le}function Eg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!yD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!IT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!sE(r.startAt,e.startAt)&&sE(r.endAt,e.endAt)}function Lm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,a=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CD(r,e,n,a,o,u,f,m){return new Ao(r,e,n,a,o,u,f,m)}function Tg(r){return new Ao(r)}function lE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NT(r){return r.collectionGroup!==null}function Ql(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Dt(Ht.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new au(u,a))}),n.has(Ht.keyField().canonicalString())||e.he.push(new au(Ht.keyField(),a))}return e.he}function yi(r){const e=Ae(r);return e.Pe||(e.Pe=ID(e,Ql(r))),e.Pe}function ID(r,e){if(r.limitType==="F")return oE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new au(o.field,u)});const n=r.endAt?new Sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Sh(r.startAt.position,r.startAt.inclusive):null;return oE(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function Um(r,e){const n=r.filters.concat([e]);return new Ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function zm(r,e,n){return new Ao(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Bh(r,e){return Eg(yi(r),yi(e))&&r.limitType===e.limitType}function MT(r){return`${vg(yi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map(o=>DT(o)).join(", ")}]`),jh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(o=>fo(o)).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(o=>fo(o)).join(",")),`Target(${a})`}(yi(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):ge.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)}(r,e)&&function(a,o){for(const u of Ql(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(f,m,g){const y=aE(f,m,g);return f.inclusive?y<=0:y<0}(a.startAt,Ql(a),o)||a.endAt&&!function(f,m,g){const y=aE(f,m,g);return f.inclusive?y>=0:y>0}(a.endAt,Ql(a),o))}(r,e)}function DD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function VT(r){return(e,n)=>{let a=!1;for(const o of Ql(r)){const u=OD(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function OD(r,e,n){const a=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ho(g,y):Ee()}(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,a)=>{for(const[o,u]of a)e(o,u)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND=new st(ge.comparator);function ir(){return ND}const xT=new st(ge.comparator);function Bl(...r){let e=xT;for(const n of r)e=e.insert(n.key,n);return e}function PT(r){let e=xT;return r.forEach((n,a)=>e=e.insert(n,a.overlayedDocument)),e}function Xa(){return Kl()}function kT(){return Kl()}function Kl(){return new as(r=>r.toString(),(r,e)=>r.isEqual(e))}const MD=new st(ge.comparator),VD=new Dt(ge.comparator);function Ve(...r){let e=VD;for(const n of r)e=e.add(n);return e}const xD=new Dt(Pe);function PD(){return xD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function LT(r){return{integerValue:""+r}}function kD(r,e){return uD(e)?LT(e):bg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function LD(r,e,n){return r instanceof su?function(o,u){const f={fields:{[vT]:{stringValue:_T},[TT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&yg(u)&&(u=qh(u)),u&&(f.fields[ET]=u),{mapValue:f}}(n,e):r instanceof ou?zT(r,e):r instanceof lu?jT(r,e):function(o,u){const f=UT(o,u),m=uE(f)+uE(o.Ie);return Pm(f)&&Pm(o.Ie)?LT(m):bg(o.serializer,m)}(r,e)}function UD(r,e,n){return r instanceof ou?zT(r,e):r instanceof lu?jT(r,e):n}function UT(r,e){return r instanceof Ah?function(a){return Pm(a)||function(u){return!!u&&"doubleValue"in u}(a)}(e)?e:{integerValue:0}:null}class su extends Fh{}class ou extends Fh{constructor(e){super(),this.elements=e}}function zT(r,e){const n=qT(e);for(const a of r.elements)n.some(o=>Ei(o,a))||n.push(a);return{arrayValue:{values:n}}}class lu extends Fh{constructor(e){super(),this.elements=e}}function jT(r,e){let n=qT(e);for(const a of r.elements)n=n.filter(o=>!Ei(o,a));return{arrayValue:{values:n}}}class Ah extends Fh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function uE(r){return gt(r.integerValue||r.doubleValue)}function qT(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e,n){this.field=e,this.transform=n}}function jD(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof ou&&o instanceof ou||a instanceof lu&&o instanceof lu?co(a.elements,o.elements,Ei):a instanceof Ah&&o instanceof Ah?Ei(a.Ie,o.Ie):a instanceof su&&o instanceof su}(r.transform,e.transform)}class qD{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function BT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wg(r.key,_i.none()):new vu(r.key,r.data,_i.none());{const n=r.data,a=zn.empty();let o=new Dt(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new ss(r.key,a,new Qn(o.toArray()),_i.none())}}function BD(r,e,n){r instanceof vu?function(o,u,f){const m=o.value.clone(),g=hE(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ss?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=hE(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(HT(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function $l(r,e,n,a){return r instanceof vu?function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=u.value.clone(),E=fE(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,a):r instanceof ss?function(u,f,m,g){if(!lh(u.precondition,f))return m;const y=fE(u.fieldTransforms,g,f),E=f.data;return E.setAll(HT(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,a):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function HD(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),u=UT(a.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(a.field,u))}return n||null}function cE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&co(a,o,(u,f)=>jD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class vu extends Gh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ss extends Gh{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function HT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}}),e}function hE(r,e,n){const a=new Map;Ye(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);a.set(u.field,UD(f,m,n[o]))}return a}function fE(r,e,n){const a=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);a.set(o.field,LD(u,f,e))}return a}class wg extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BD(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=$l(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=kT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=BT(f,m);g!==null&&a.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),a}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,a)=>cE(n,a))&&co(this.baseMutations,e.baseMutations,(n,a)=>cE(n,a))}}class Sg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Ye(e.mutations.length===a.length);let o=function(){return MD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Sg(e,n,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ze;function KD(r){switch(r){case J.OK:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee()}}function FT(r){if(r===void 0)return nr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Et.OK:return J.OK;case Et.CANCELLED:return J.CANCELLED;case Et.UNKNOWN:return J.UNKNOWN;case Et.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Et.INTERNAL:return J.INTERNAL;case Et.UNAVAILABLE:return J.UNAVAILABLE;case Et.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Et.NOT_FOUND:return J.NOT_FOUND;case Et.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Et.ABORTED:return J.ABORTED;case Et.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Et.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(ze=Et||(Et={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new ea([4294967295,4294967295],0);function dE(r){const e=$D().encode(r),n=new oT;return n.update(e),new Uint8Array(n.digest())}function mE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ea([n,a],0),new ea([o,u],0)]}class Ag{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(a<0)throw new Hl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ea.fromNumber(this.Ee)}Ae(e,n,a){let o=e.add(n.multiply(ea.fromNumber(a)));return o.compare(XD)===1&&(o=new ea([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=dE(e),[a,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ag(u,o,n);return a.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=dE(e),[a,o]=mE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(a,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Eu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Yh(we.min(),o,new st(Pe),ir(),Ve())}}class Eu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Eu(a,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,a,o){this.me=e,this.removedTargetIds=n,this.key=a,this.fe=o}}class GT{constructor(e,n){this.targetId=e,this.ge=n}}class YT{constructor(e,n,a=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class gE{constructor(){this.pe=0,this.ye=pE(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),a=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Ee()}}),new Eu(this.we,this.Se,e,n,a)}Me(){this.be=!1,this.ye=pE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ye(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class WD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new st(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const a=this.He(n);switch(e.state){case 0:this.Je(n)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(n);break;case 3:this.Je(n)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),a.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((a,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,a=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Lm(u))if(a===0){const f=new ge(u.path);this.ze(n,f,Xt.newNoDocument(f,we.min()))}else Ye(a===1);else{const f=this.et(n);if(f!==a){const m=this.tt(e),g=m?this.nt(m,e,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=oa(a).toUint8Array()}catch(g){if(g instanceof yT)return uo("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Ag(f,o,u)}catch(g){return uo(g instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(e,n,a){return n.ge.count===a-this.st(e,n.targetId)?0:2}st(e,n){const a=this.ke.getRemoteKeysForTarget(n);let o=0;return a.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Lm(m.target)){const g=new ge(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,Xt.newNoDocument(g,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let a=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(a=a.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Yh(e,n,this.Ue,this.Qe,a);return this.Qe=ir(),this.$e=Xc(),this.Ke=Xc(),this.Ue=new st(Pe),o}Ge(e,n){if(!this.Je(e))return;const a=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,a),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),a&&(this.Qe=this.Qe.insert(n,a))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new gE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Dt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Dt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new st(ge.comparator)}function pE(){return new st(ge.comparator)}const ZD={asc:"ASCENDING",desc:"DESCENDING"},JD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e2={and:"AND",or:"OR"};class t2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(r,e){return r.useProto3Json||jh(e)?e:{value:e}}function Rh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function QT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function n2(r,e){return Rh(r,e.toTimestamp())}function vi(r){return Ye(!!r),we.fromTimestamp(function(n){const a=sa(n);return new It(a.seconds,a.nanos)}(r))}function Rg(r,e){return qm(r,e).canonicalString()}function qm(r,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function KT(r){const e=et.fromString(r);return Ye(JT(e)),e}function Bm(r,e){return Rg(r.databaseId,e.path)}function gm(r,e){const n=KT(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(XT(n))}function $T(r,e){return Rg(r.databaseId,e)}function i2(r){const e=KT(r);return e.length===4?et.emptyPath():XT(e)}function Hm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function XT(r){return Ye(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function yE(r,e,n){return{name:Bm(r,e),fields:n.value.mapValue.fields}}function r2(r,e){let n;if("targetChange"in e){e.targetChange;const a=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ye(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(Ye(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:FT(y.code);return new ue(E,y.message||"")}(f);n=new YT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=gm(r,a.document.name),u=vi(a.document.updateTime),f=a.document.createTime?vi(a.document.createTime):we.min(),m=new zn({mapValue:{fields:a.document.fields}}),g=Xt.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];n=new uh(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=gm(r,a.document),u=a.readTime?vi(a.readTime):we.min(),f=Xt.newNoDocument(o,u),m=a.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=gm(r,a.document),u=a.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new QD(o,u),m=a.targetId;n=new GT(m,f)}}return n}function a2(r,e){let n;if(e instanceof vu)n={update:yE(r,e.key,e.value)};else if(e instanceof wg)n={delete:Bm(r,e.key)};else if(e instanceof ss)n={update:yE(r,e.key,e.data),updateMask:m2(e.fieldMask)};else{if(!(e instanceof FD))return Ee();n={verify:Bm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(a=>function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ah)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,a))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:n2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),n}function s2(r,e){return r&&r.length>0?(Ye(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(we.min())&&(f=vi(u)),new qD(f,o.transformResults||[])}(n,e))):[]}function o2(r,e){return{documents:[$T(r,e.path)]}}function l2(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=$T(r,o);const u=function(y){if(y.length!==0)return ZT(Xn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:to(C.field),direction:h2(C.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function u2(r){let e=i2(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Ye(a===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const C=WT(w);return C instanceof Xn&&CT(C)?C.getFilters():[C]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(C=>function(k){return new au(no(k.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(C))}(n.orderBy));let m=null;n.limit&&(m=function(w){let C;return C=typeof w=="object"?w.value:w,jh(C)?null:C}(n.limit));let g=null;n.startAt&&(g=function(w){const C=!!w.before,O=w.values||[];return new Sh(O,C)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const C=!w.before,O=w.values||[];return new Sh(O,C)}(n.endAt)),CD(e,o,f,u,m,"F",g,y)}function c2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=no(n.unaryFilter.field);return Tt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Tt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Tt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(n){return Tt.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(a=>WT(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(r):Ee()}function h2(r){return ZD[r]}function f2(r){return JD[r]}function d2(r){return e2[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Ht.fromServerFormat(r.fieldPath)}function ZT(r){return r instanceof Tt?function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(iE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(iE(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:f2(n.op),value:n.value}}}(r):r instanceof Xn?function(n){const a=n.getFilters().map(o=>ZT(o));return a.length===1?a[0]:{compositeFilter:{op:d2(n.op),filters:a}}}(r):Ee()}function m2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,n,a,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.Tt=e}}function p2(r){const e=u2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.Tn=new _2}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(aa.min())}updateCollectionGroup(e,n,a){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class _2{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Dt(et.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eb=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(eb,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new mo(0)}static Un(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",v2=1048576;function EE([r,e],[n,a]){const o=Pe(r,n);return o===0?Pe(e,a):o}class E2{constructor(e){this.Hn=e,this.buffer=new Dt(EE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();EE(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class T2{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(vE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){So(n)?le(vE,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.er(3e5)})}}class b2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(a=>Math.floor(n/100*a))}nthSequenceNumber(e,n){if(n===0)return W.resolve(zh.ae);const a=new E2(n);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,n,a){return this.tr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(_E)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_E):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let a,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(a=w,m=Date.now(),this.removeTargets(e,a,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,a))).next(w=>(y=Date.now(),Js()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function w2(r,e){return new b2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(){this.changes=new as(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?W.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(a!==null&&$l(a.mutation,o,Qn.empty(),It.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.getLocalViewOfDocuments(e,a,Ve()).next(()=>a))}getLocalViewOfDocuments(e,n,a=Ve()){const o=Xa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,a).next(u=>{let f=Bl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const a=Xa();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,Ve()))}populateOverlays(e,n,a){const o=[];return a.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,a,o){let u=ir();const f=Kl(),m=function(){return Kl()}();return n.forEach((g,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof ss)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),$l(E.mutation,y,E.mutation.getFieldMask(),It.now())):f.set(y.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new A2(E,(w=f.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const a=Kl();let o=new st((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=a.get(g)||Qn.empty();E=m.applyToLocalView(y,E),a.set(g,E);const w=(o.get(m.batchId)||Ve()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,w=kT();E.forEach(C=>{if(!u.has(C)){const O=BT(n.get(C),a.get(C));O!==null&&w.set(C,O),u=u.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,w))}return W.waitFor(f)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,n,a,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):W.resolve(Xa());let m=tu,g=u;return f.next(y=>W.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{g=g.insert(E,C)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ve())).next(E=>({batchId:m,changes:PT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(a=>{let o=Bl();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,g=>{const y=function(w,C){return new Ao(C,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,a,o).next(E=>{E.forEach((w,C)=>{f=f.insert(w,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Bl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&$l(E.mutation,y,Qn.empty(),It.now()),Hh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:p2(o.bundledQuery),readTime:vi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.overlays=new st(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Xa();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&a.set(o,u)})).next(()=>a)}saveOverlays(e,n,a){return a.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(a)),W.resolve()}getOverlaysForCollection(e,n,a){const o=Xa(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>a&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new st((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Xa(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Xa(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new YD(n,a));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.Vr=new Dt(Lt.mr),this.gr=new Dt(Lt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const a=new Lt(e,n);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,n){e.forEach(a=>this.addReference(a,n))}removeReference(e,n){this.wr(new Lt(e,n))}Sr(e,n){e.forEach(a=>this.removeReference(a,n))}br(e){const n=new ge(new et([])),a=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.gr.forEachInRange([a,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new et([])),a=new Lt(n,e),o=new Lt(n,e+1);let u=Ve();return this.gr.forEachInRange([a,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),a=this.Vr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Lt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(Lt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new GD(u,n,a,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Nr(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pg:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([a,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Dt(Pe);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{a=a.add(m.Cr)})}),W.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;ge.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new ge(u),0);let m=new Dt(Pe);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ye(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return W.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,n){const a=new Lt(n,0),o=this.Mr.firstAfterOrEqual(a);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.kr=e,this.docs=function(){return new st(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return W.resolve(a?a.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let a=ir();return n.forEach(o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),W.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=ir();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||aD(rD(E),a)<=0||(o.has(E.key)||Hh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Ee()}qr(e,n){return W.forEach(this.docs,a=>n(a))}newChangeBuffer(e){return new M2(this)}getSize(e){return W.resolve(this.size)}}class M2 extends S2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.persistence=e,this.Qr=new as(n=>vg(n),Eg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Cg,this.targetCount=0,this.Ur=mo.Kn()}forEachTarget(e,n){return this.Qr.forEach((a,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const a=this.Qr.get(n)||null;return W.resolve(a)}addMatchingKeys(e,n,a){return this.Kr.yr(n,a),W.resolve()}removeMatchingKeys(e,n,a){this.Kr.Sr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),W.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Kr.vr(n);return W.resolve(a)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new zh(0),this.zr=!1,this.zr=!0,this.jr=new D2,this.referenceDelegate=e(this),this.Hr=new V2(this),this.indexManager=new y2,this.remoteDocumentCache=function(o){return new N2(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new g2(n),this.Yr=new C2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.Wr[e.toKey()];return a||(a=new O2(n,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,a){le("MemoryPersistence","Starting transaction:",e);const o=new x2(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,n)))}}class x2 extends oD{constructor(e){super(),this.currentSequenceNumber=e}}class Ig{constructor(e){this.persistence=e,this.ti=new Cg,this.ni=null}static ri(e){return new Ig(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,a){return this.ti.addReference(a,n),this.ii.delete(a.toString()),W.resolve()}removeReference(e,n,a){return this.ti.removeReference(a,n),this.ii.add(a.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>a.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,a=>{const o=ge.fromPath(a);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(a=>{a?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.oi=new as(a=>cD(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=w2(this,n)}static ri(e,n){return new Ch(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>n.next(o=>a+o))}sr(e){let n=0;return this.rr(e,a=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(a++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),W.resolve()}removeReference(e,n,a){return this.oi.set(a,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ar(e,n,a){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Hi=a,this.Ji=o}static Yi(e,n){let a=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Dg(e,n.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gR()?8:lD(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,a).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new P2;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,a,o){return a.documentReadCount<this.es?(Js()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Js()<=Me.DEBUG&&le("QueryEngine","Query:",eo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(Js()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):W.resolve())}rs(e,n){if(lE(n))return W.resolve(null);let a=yi(n);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=zm(n,null,"F"),a=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,a).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(e,zm(n,null,"F")):this.hs(e,y,n,g)}))})))}ss(e,n,a,o){return lE(n)||o.isEqual(we.min())?W.resolve(null):this.ns.getDocuments(e,a).next(u=>{const f=this.cs(n,u);return this.ls(n,f,a,o)?W.resolve(null):(Js()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.hs(e,f,n,iD(o,tu)).next(m=>m))})}cs(e,n){let a=new Dt(VT(e));return n.forEach((o,u)=>{Hh(e,u)&&(a=a.add(u))}),a}ls(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,a){return Js()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ns.getDocumentsMatchingQuery(e,n,aa.min(),a)}hs(e,n,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Og="LocalStore",L2=3e8;class U2{constructor(e,n,a,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Pe),this.Is=new as(u=>vg(u),Eg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function z2(r,e,n,a){return new U2(r,e,n,a)}async function nb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(a))).next(u=>{const f=[],m=[];let g=Ve();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(a,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function j2(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const w=y.batch,C=w.keys();let O=W.resolve();return C.forEach(k=>{O=O.next(()=>E.getEntry(g,k)).next(q=>{const j=y.docVersions.get(k);Ye(j!==null),q.version.compareTo(j)<0&&(w.applyToRemoteDocument(q,y),q.isValidDocument()&&(q.setReadTime(y.commitVersion),E.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,a,e,u).next(()=>u.apply(a)).next(()=>n.mutationQueue.performConsistencyCheck(a)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(m){let g=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(a,o))})}function ib(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function q2(r,e){const n=Ae(r),a=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const C=o.get(w);if(!C)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let O=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,a)),o=o.insert(w,O),function(q,j,G){return q.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=L2?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(C,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let g=ir(),y=Ve();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(B2(u,f,e.documentUpdates).next(E=>{g=E.Vs,y=E.fs})),!a.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,a));m.push(E)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=o,u))}function B2(r,e,n){let a=Ve(),o=Ve();return n.forEach(u=>a=a.add(u)),e.getEntries(r,a).next(u=>{let f=ir();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Og,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:o}})}function H2(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=pg),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function F2(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return n.Hr.getTargetData(a,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(a).next(f=>(o=new Xr(e,f,"TargetPurposeListen",a.currentSequenceNumber),n.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=n.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(a.targetId,a),n.Is.set(e,a.targetId)),a})}async function Fm(r,e,n){const a=Ae(r),o=a.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",u,f=>a.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!So(f))throw f;le(Og,`Failed to update sequence numbers for target ${e}: ${f}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function TE(r,e,n){const a=Ae(r);let o=we.min(),u=Ve();return a.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const w=Ae(g),C=w.Is.get(E);return C!==void 0?W.resolve(w.Ts.get(C)):w.Hr.getTargetData(y,E)}(a,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>a.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(G2(a,DD(e),m),{documents:m,gs:u})))}function G2(r,e,n){let a=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)}),r.Es.set(e,a)}class bE{constructor(){this.activeTargetIds=PD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Y2{constructor(){this.ho=new bE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,a){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new bE,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class SE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(wE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(wE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function Gm(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",K2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===bh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,n,a,o,u){const f=Gm(),m=this.bo(e,n.toUriEncodedString());le(pm,`Sending RPC '${e}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,o,u),this.vo(e,m,g,a).then(y=>(le(pm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw uo(pm,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",a),y})}Co(e,n,a,o,u,f){return this.So(e,n,a,o,u)}Do(e,n,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),a&&a.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const a=K2[e];return`${this.po}/v1/${n}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class W2 extends $2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,a,o){const u=Gm();return new Promise((f,m)=>{const g=new lT;g.setWithCredentials(!0),g.listenOnce(uT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ah.NO_ERROR:const E=g.getResponseJson();le(Kt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case ah.TIMEOUT:le(Kt,`RPC '${e}' ${u} timed out`),m(new ue(J.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const w=g.getStatus();if(le(Kt,`RPC '${e}' ${u} failed with status:`,w,"response text:",g.getResponseText()),w>0){let C=g.getResponseJson();Array.isArray(C)&&(C=C[0]);const O=C==null?void 0:C.error;if(O&&O.status&&O.message){const k=function(j){const G=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN}(O.status);m(new ue(k,O.message))}else m(new ue(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ue(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{le(Kt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);le(Kt,`RPC '${e}' ${u} sending request:`,o),g.send(n,"POST",y,a,15)})}Wo(e,n,a){const o=Gm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=fT(),m=hT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,a),g.encodeInitMessageHeaders=!0;const E=u.join("");le(Kt,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=f.createWebChannel(E,g);let C=!1,O=!1;const k=new X2({Fo:j=>{O?le(Kt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(C||(le(Kt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),C=!0),le(Kt,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Mo:()=>w.close()}),q=(j,G,ee)=>{j.listen(G,te=>{try{ee(te)}catch(pe){setTimeout(()=>{throw pe},0)}})};return q(w,ql.EventType.OPEN,()=>{O||(le(Kt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),q(w,ql.EventType.CLOSE,()=>{O||(O=!0,le(Kt,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),q(w,ql.EventType.ERROR,j=>{O||(O=!0,uo(Kt,`RPC '${e}' stream ${o} transport errored:`,j),k.Ko(new ue(J.UNAVAILABLE,"The operation could not be completed")))}),q(w,ql.EventType.MESSAGE,j=>{var G;if(!O){const ee=j.data[0];Ye(!!ee);const te=ee,pe=(te==null?void 0:te.error)||((G=te[0])===null||G===void 0?void 0:G.error);if(pe){le(Kt,`RPC '${e}' stream ${o} received error:`,pe);const he=pe.status;let Te=function(S){const I=Et[S];if(I!==void 0)return FT(I)}(he),M=pe.message;Te===void 0&&(Te=J.INTERNAL,M="Unknown error status: "+he+" with message "+pe.message),O=!0,k.Ko(new ue(Te,M)),w.close()}else le(Kt,`RPC '${e}' stream ${o} received:`,ee),k.Uo(ee)}}),q(m,cT.STAT_EVENT,j=>{j.stat===Vm.PROXY?le(Kt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Vm.NOPROXY&&le(Kt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(r){return new t2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=a,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-a);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class ab{constructor(e,n,a,o,u,f,m,g){this.Ti=e,this.n_=a,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new rb(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===n&&this.V_(a,o)},a=>{e(()=>{const o=new ue(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,n){const a=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z2 extends ab{constructor(e,n,a,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=r2(this.serializer,e),a=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?vi(f.readTime):we.min()}(e);return this.listener.p_(n,a)}y_(e){const n={};n.database=Hm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Lm(g)?{documents:o2(u,g)}:{query:l2(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=QT(u,f.resumeToken);const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Rh(u,f.snapshotVersion.toTimestamp());const y=jm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const a=c2(this.serializer,e);a&&(n.labels=a),this.I_(n)}w_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.I_(n)}}class J2 extends ab{constructor(e,n,a,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=s2(e.writeResults,e.commitTime),a=vi(e.commitTime);return this.listener.v_(a,n)}C_(){const e={};e.database=Hm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(a=>a2(this.serializer,a))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{}class tO extends eO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,qm(n,a),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(J.UNKNOWN,u.toString())})}Co(e,n,a,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,qm(n,a),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class nO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="RemoteStore";class iO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{a.enqueueAndForget(async()=>{os(this)&&(le(ts,"Restarting streams for network reachability change."),await async function(g){const y=Ae(g);y.W_.add(4),await Tu(y),y.j_.set("Unknown"),y.W_.delete(4),await Kh(y)}(this))})}),this.j_=new nO(a,o)}}async function Kh(r){if(os(r))for(const e of r.G_)await e(!0)}async function Tu(r){for(const e of r.G_)await e(!1)}function sb(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),xg(n)?Vg(n):Ro(n).c_()&&Mg(n,e))}function Ng(r,e){const n=Ae(r),a=Ro(n);n.U_.delete(e),a.c_()&&ob(n,e),n.U_.size===0&&(a.c_()?a.P_():os(n)&&n.j_.set("Unknown"))}function Mg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ro(r).y_(e)}function ob(r,e){r.H_.Ne(e),Ro(r).w_(e)}function Vg(r){r.H_=new WD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ro(r).start(),r.j_.B_()}function xg(r){return os(r)&&!Ro(r).u_()&&r.U_.size>0}function os(r){return Ae(r).W_.size===0}function lb(r){r.H_=void 0}async function rO(r){r.j_.set("Online")}async function aO(r){r.U_.forEach((e,n)=>{Mg(r,e)})}async function sO(r,e){lb(r),xg(r)?(r.j_.q_(e),Vg(r)):r.j_.set("Unknown")}async function oO(r,e,n){if(r.j_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(a){le(ts,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ih(r,a)}else if(e instanceof uh?r.H_.We(e):e instanceof GT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const a=await ib(r.localStore);n.compareTo(a)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.U_.get(y);E&&u.U_.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.U_.get(g);if(!E)return;u.U_.set(g,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),ob(u,g);const w=new Xr(E.target,g,y,E.sequenceNumber);Mg(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(a){le(ts,"Failed to raise snapshot:",a),await Ih(r,a)}}async function Ih(r,e,n){if(!So(e))throw e;r.W_.add(1),await Tu(r),r.j_.set("Offline"),n||(n=()=>ib(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(ts,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Kh(r)})}function ub(r,e){return e().catch(n=>Ih(r,n,e))}async function $h(r){const e=Ae(r),n=ua(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:pg;for(;lO(e);)try{const o=await H2(e.localStore,a);if(o===null){e.K_.length===0&&n.P_();break}a=o.batchId,uO(e,o)}catch(o){await Ih(e,o)}cb(e)&&hb(e)}function lO(r){return os(r)&&r.K_.length<10}function uO(r,e){r.K_.push(e);const n=ua(r);n.c_()&&n.S_&&n.b_(e.mutations)}function cb(r){return os(r)&&!ua(r).u_()&&r.K_.length>0}function hb(r){ua(r).start()}async function cO(r){ua(r).C_()}async function hO(r){const e=ua(r);for(const n of r.K_)e.b_(n.mutations)}async function fO(r,e,n){const a=r.K_.shift(),o=Sg.from(a,e,n);await ub(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $h(r)}async function dO(r,e){e&&ua(r).S_&&await async function(a,o){if(function(f){return KD(f)&&f!==J.ABORTED}(o.code)){const u=a.K_.shift();ua(a).h_(),await ub(a,()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o)),await $h(a)}}(r,e),cb(r)&&hb(r)}async function RE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),le(ts,"RemoteStore received new credentials");const a=os(n);n.W_.add(3),await Tu(n),a&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Kh(n)}async function mO(r,e){const n=Ae(r);e?(n.W_.delete(2),await Kh(n)):e||(n.W_.add(2),await Tu(n),n.j_.set("Unknown"))}function Ro(r){return r.J_||(r.J_=function(n,a,o){const u=Ae(n);return u.M_(),new Z2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:rO.bind(null,r),No:aO.bind(null,r),Lo:sO.bind(null,r),p_:oO.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),xg(r)?Vg(r):r.j_.set("Unknown")):(await r.J_.stop(),lb(r))})),r.J_}function ua(r){return r.Y_||(r.Y_=function(n,a,o){const u=Ae(n);return u.M_(),new J2(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:cO.bind(null,r),Lo:dO.bind(null,r),D_:hO.bind(null,r),v_:fO.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await $h(r)):(await r.Y_.stop(),r.K_.length>0&&(le(ts,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const f=Date.now()+a,m=new Pg(e,n,f,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(r,e){if(nr("AsyncQueue",`${e}: ${r}`),So(r))return new ue(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||ge.comparator(n.key,a.key):(n,a)=>ge.comparator(n.key,a.key),this.keyedMap=Bl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,a)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new oo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(){this.Z_=new st(ge.comparator)}track(e){const n=e.doc.key,a=this.Z_.get(n);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(n):e.type===1&&a.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,a)=>{e.push(a)}),e}}class go{constructor(e,n,a,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,a,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new go(e,n,oo.emptySet(n),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class pO{constructor(){this.queries=IE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,a){const o=Ae(n),u=o.queries;o.queries=IE(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(a)})})(this,new ue(J.ABORTED,"Firestore shutting down"))}}function IE(){return new as(r=>MT(r),Bh)}async function fb(r,e){const n=Ae(r);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(a=2):(u=new gO,a=e.ra()?0:1);try{switch(a){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kg(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Lg(n)}async function db(r,e){const n=Ae(r),a=e.query;let o=3;const u=n.queries.get(a);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yO(r,e){const n=Ae(r);let a=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(a=!0);f.ea=o}}a&&Lg(n)}function _O(r,e,n){const a=Ae(r),o=a.queries.get(e);if(o)for(const u of o.ta)u.onError(n);a.queries.delete(e)}function Lg(r){r.ia.forEach(e=>{e.next()})}var Ym,DE;(DE=Ym||(Ym={}))._a="default",DE.Cache="cache";class mb{constructor(e,n,a){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new go(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const a=n!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class vO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=VT(e),this.wa=new oo(this.ya)}get Sa(){return this.fa}ba(e,n){const a=n?n.Da:new CE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const C=o.get(E),O=Hh(this.query,w)?w:null,k=!!C&&this.mutatedKeys.has(C.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;C&&O?C.data.isEqual(O.data)?k!==q&&(a.track({type:3,doc:O}),j=!0):this.va(C,O)||(a.track({type:2,doc:O}),j=!0,(g&&this.ya(O,g)>0||y&&this.ya(O,y)<0)&&(m=!0)):!C&&O?(a.track({type:0,doc:O}),j=!0):C&&!O&&(a.track({type:1,doc:C}),j=!0,(g||y)&&(m=!0)),j&&(O?(f=f.add(O),u=q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{wa:f,Da:a,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(O,k){const q=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return q(O)-q(k)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(a),o=o!=null&&o;const m=n&&!o?this.Fa():[],g=this.pa.size===0&&this.current&&!o?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new go(this.query,e.wa,u,f,e.mutatedKeys,g===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new CE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const n=[];return e.forEach(a=>{this.pa.has(a)||n.push(new pb(a))}),this.pa.forEach(a=>{e.has(a)||n.push(new gb(a))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return go.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ug="SyncEngine";class EO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class TO{constructor(e){this.key=e,this.Ba=!1}}class bO{constructor(e,n,a,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new as(m=>MT(m),Bh),this.qa=new Map,this.Qa=new Set,this.$a=new st(ge.comparator),this.Ka=new Map,this.Ua=new Cg,this.Wa={},this.Ga=new Map,this.za=mo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wO(r,e,n=!0){const a=bb(r);let o;const u=a.ka.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await yb(a,e,n,!0),o}async function SO(r,e){const n=bb(r);await yb(n,e,!0,!1)}async function yb(r,e,n,a){const o=await F2(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=await AO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sb(r.remoteStore,o),m}async function AO(r,e,n,a,o){r.Ha=(w,C,O)=>async function(q,j,G,ee){let te=j.view.ba(G);te.ls&&(te=await TE(q.localStore,j.query,!1).then(({documents:M})=>j.view.ba(M,te)));const pe=ee&&ee.targetChanges.get(j.targetId),he=ee&&ee.targetMismatches.get(j.targetId)!=null,Te=j.view.applyChanges(te,q.isPrimaryClient,pe,he);return NE(q,j.targetId,Te.Ma),Te.snapshot}(r,w,C,O);const u=await TE(r.localStore,e,!0),f=new vO(e,u.gs),m=f.ba(u.documents),g=Eu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,g);NE(r,n,y.Ma);const E=new EO(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function RO(r,e,n){const a=Ae(r),o=a.ka.get(e),u=a.qa.get(o.targetId);if(u.length>1)return a.qa.set(o.targetId,u.filter(f=>!Bh(f,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Fm(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),n&&Ng(a.remoteStore,o.targetId),Qm(a,o.targetId)}).catch(wo)):(Qm(a,o.targetId),await Fm(a.localStore,o.targetId,!0))}async function CO(r,e){const n=Ae(r),a=n.ka.get(e),o=n.qa.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),Ng(n.remoteStore,a.targetId))}async function IO(r,e,n){const a=PO(r);try{const o=await function(f,m){const g=Ae(f),y=It.now(),E=m.reduce((O,k)=>O.add(k.key),Ve());let w,C;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let k=ir(),q=Ve();return g.ds.getEntries(O,E).next(j=>{k=j,k.forEach((G,ee)=>{ee.isValidDocument()||(q=q.add(G))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,k)).next(j=>{w=j;const G=[];for(const ee of m){const te=HD(ee,w.get(ee.key).overlayedDocument);te!=null&&G.push(new ss(ee.key,te,ST(te.value.mapValue),_i.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,G,m)}).next(j=>{C=j;const G=j.applyToLocalDocumentSet(w,q);return g.documentOverlayCache.saveOverlays(O,j.batchId,G)})}).then(()=>({batchId:C.batchId,changes:PT(w)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new st(Pe)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(a,o.batchId,n),await bu(a,o.changes),await $h(a.remoteStore)}catch(o){const u=kg(o,"Failed to persist write");n.reject(u)}}async function _b(r,e){const n=Ae(r);try{const a=await q2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ye(f.Ba):o.removedDocuments.size>0&&(Ye(f.Ba),f.Ba=!1))}),await bu(n,a,e)}catch(a){await wo(a)}}function OE(r,e,n){const a=Ae(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach((E,w)=>{for(const C of w.ta)C.sa(m)&&(y=!0)}),y&&Lg(g)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function DO(r,e,n){const a=Ae(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Ka.get(e),u=o&&o.key;if(u){let f=new st(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,we.min()));const m=Ve().add(u),g=new Yh(we.min(),new Map,new st(Pe),f,m);await _b(a,g),a.$a=a.$a.remove(u),a.Ka.delete(e),zg(a)}else await Fm(a.localStore,e,!1).then(()=>Qm(a,e,n)).catch(wo)}async function OO(r,e){const n=Ae(r),a=e.batch.batchId;try{const o=await j2(n.localStore,e);Eb(n,a,null),vb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await bu(n,o)}catch(o){await wo(o)}}async function NO(r,e,n){const a=Ae(r);try{const o=await function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ye(w!==null),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(a.localStore,e);Eb(a,e,n),vb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await bu(a,o)}catch(o){await wo(o)}}function vb(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function Eb(r,e,n){const a=Ae(r);let o=a.Wa[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function Qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),n&&r.La.Ja(a,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.br(e).forEach(a=>{r.Ua.containsKey(a)||Tb(r,a)})}function Tb(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Ng(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),zg(r))}function NE(r,e,n){for(const a of n)a instanceof gb?(r.Ua.addReference(a.key,e),MO(r,a)):a instanceof pb?(le(Ug,"Document no longer in limbo: "+a.key),r.Ua.removeReference(a.key,e),r.Ua.containsKey(a.key)||Tb(r,a.key)):Ee()}function MO(r,e){const n=e.key,a=n.path.canonicalString();r.$a.get(n)||r.Qa.has(a)||(le(Ug,"New document in limbo: "+n),r.Qa.add(a),zg(r))}function zg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(et.fromString(e)),a=r.za.next();r.Ka.set(a,new TO(n)),r.$a=r.$a.insert(n,a),sb(r.remoteStore,new Xr(yi(Tg(n.path)),a,"TargetPurposeLimboResolution",zh.ae))}}async function bu(r,e,n){const a=Ae(r),o=[],u=[],f=[];a.ka.isEmpty()||(a.ka.forEach((m,g)=>{f.push(a.Ha(g,e,n).then(y=>{var E;if((y||n)&&a.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=Dg.Yi(g.targetId,y);u.push(w)}}))}),await Promise.all(f),a.La.p_(o),await async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(y,C=>W.forEach(C.Hi,O=>E.persistence.referenceDelegate.addReference(w,C.targetId,O)).next(()=>W.forEach(C.Ji,O=>E.persistence.referenceDelegate.removeReference(w,C.targetId,O)))))}catch(w){if(!So(w))throw w;le(Og,"Failed to update sequence numbers: "+w)}for(const w of y){const C=w.targetId;if(!w.fromCache){const O=E.Ts.get(C),k=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(k);E.Ts=E.Ts.insert(C,q)}}}(a.localStore,u))}async function VO(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){le(Ug,"User change. New user:",e.toKey());const a=await nb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ue(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await bu(n,a.Rs)}}function xO(r,e){const n=Ae(r),a=n.Ka.get(e);if(a&&a.Ba)return Ve().add(a.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function bb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DO.bind(null,e),e.La.p_=yO.bind(null,e.eventManager),e.La.Ja=_O.bind(null,e.eventManager),e}function PO(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=NO.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return z2(this.persistence,new k2,e.initialUser,this.serializer)}Xa(e){return new tb(Ig.ri,this.serializer)}Za(e){return new Y2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class kO extends Dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ye(this.persistence.referenceDelegate instanceof Ch);const a=this.persistence.referenceDelegate.garbageCollector;return new T2(a,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new tb(a=>Ch.ri(a,n),this.serializer)}}class Km{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>OE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=VO.bind(null,this.syncEngine),await mO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pO}()}createDatastore(e){const n=Qh(e.databaseInfo.databaseId),a=function(u){return new W2(u)}(e.databaseInfo);return function(u,f,m,g){return new tO(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return function(a,o,u,f,m){return new iO(a,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>OE(this.syncEngine,n,0),function(){return SE.D()?new SE:new Q2}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const w=new bO(o,u,f,m,g,y);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);le(ts,"RemoteStore shutting down."),u.W_.add(5),await Tu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Km.provider={build:()=>new Km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="FirestoreClient";class LO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=mT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,async f=>{le(ca,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(a,f=>(le(ca,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=kg(n,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function _m(r,e){r.asyncQueue.verifyOperationInProgress(),le(ca,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await nb(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function ME(r,e){r.asyncQueue.verifyOperationInProgress();const n=await UO(r);le(ca,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(a=>RE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>RE(e.remoteStore,o)),r._onlineComponents=e}async function UO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ca,"Using user provided OfflineComponentProvider");try{await _m(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await _m(r,new Dh)}}else le(ca,"Using default OfflineComponentProvider"),await _m(r,new kO(void 0));return r._offlineComponents}async function Sb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ca,"Using user provided OnlineComponentProvider"),await ME(r,r._uninitializedComponentsProvider._online)):(le(ca,"Using default OnlineComponentProvider"),await ME(r,new Km))),r._onlineComponents}function zO(r){return Sb(r).then(e=>e.syncEngine)}async function $m(r){const e=await Sb(r),n=e.eventManager;return n.onListen=wO.bind(null,e.syncEngine),n.onUnlisten=RO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=CO.bind(null,e.syncEngine),n}function jO(r,e,n={}){const a=new ta;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new wb({next:C=>{E.su(),f.enqueueAndForget(()=>db(u,w)),C.fromCache&&g.source==="server"?y.reject(new ue(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),w=new mb(m,E,{includeMetadataChanges:!0,Ta:!0});return fb(u,w)}(await $m(r),r.asyncQueue,e,n,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r,e,n){if(!n)throw new ue(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qO(r,e,n,a){if(e===!0&&a===!0)throw new ue(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function xE(r){if(!ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function PE(r){if(ge.isDocumentKey(r))throw new ue(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function na(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xh(r);throw new ue(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="firestore.googleapis.com",kE=!0;class LE{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=kE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:kE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<v2)throw new ue(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new $I;switch(a.type){case"firstParty":return new JI(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ue(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=VE.get(n);a&&(le("ComponentProvider","Removing Datastore"),VE.delete(n),a.terminate())}(this),Promise.resolve()}}function BO(r,e,n,a={}){var o;const u=(r=na(r,Wh))._getSettings(),f=`${e}:${n}`;if(u.host!==Cb&&u.host!==f&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),a.mockUserToken){let m,g;if(typeof a.mockUserToken=="string")m=a.mockUserToken,g=$t.MOCK_USER;else{m=lR(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const y=a.mockUserToken.sub||a.mockUserToken.user_id;if(!y)throw new ue(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new $t(y)}r._authCredentials=new XI(new dT(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ga(this.firestore,e,this._query)}}class En{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class ia extends ga{constructor(e,n,a){super(e,n,Tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new ia(this.firestore,e,this._path)}}function Xl(r,e,...n){if(r=Zt(r),Rb("collection","path",e),r instanceof Wh){const a=et.fromString(e,...n);return PE(a),new ia(r,null,a)}{if(!(r instanceof En||r instanceof ia))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(et.fromString(e,...n));return PE(a),new ia(r.firestore,null,a)}}function ch(r,e,...n){if(r=Zt(r),arguments.length===1&&(e=mT.newId()),Rb("doc","path",e),r instanceof Wh){const a=et.fromString(e,...n);return xE(a),new En(r,null,new ge(a))}{if(!(r instanceof En||r instanceof ia))throw new ue(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(et.fromString(e,...n));return xE(a),new En(r.firestore,r instanceof ia?r.converter:null,new ge(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="AsyncQueue";class zE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new rb(this,"async_queue_retry"),this.Su=()=>{const a=ym();a&&le(UE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ta;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!So(e))throw e;le(UE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(a);throw nr("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=n,n}enqueueAfterDelay(e,n,a){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Pg.createAndSchedule(this,e,n,a,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,a)=>n.targetTimeMs-a.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function jE(r){return function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class po extends Wh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new zE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zE(e),this._firestoreClient=void 0,await e}}}function HO(r,e){const n=typeof r=="object"?r:w0(),a=typeof r=="string"?r:bh,o=ag(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=sR("firestore");u&&BO(o,...u)}return o}function jg(r){if(r._terminated)throw new ue(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||FO(r),r._firestoreClient}function FO(r){var e,n,a;const o=r._freezeSettings(),u=function(m,g,y,E){return new dD(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ab(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new LO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yo(Ft.fromBase64String(e))}catch(n){throw new ue(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yo(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=/^__.*__$/;class YO{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new vu(e,this.data,n,this.fieldTransforms)}}function Ib(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Gg{constructor(e,n,a,o,u,f){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ib(this.Lu)&&GO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class QO{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Qh(e)}ju(e,n,a,o=!1){return new Gg({Lu:e,methodName:n,zu:a,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Db(r){const e=r._freezeSettings(),n=Qh(r._databaseId);return new QO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function KO(r,e,n,a,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Mb("Data must be an object, but it was:",f,a);const m=Ob(a,f);let g,y;if(u.merge)g=new Qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const C=XO(e,w,n);if(!f.contains(C))throw new ue(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);ZO(E,C)||E.push(C)}g=new Qn(E),y=f.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=f.fieldTransforms;return new YO(new zn(m),g,y)}class Yg extends Bg{_toFieldTransform(e){return new zD(e.path,new su)}isEqual(e){return e instanceof Yg}}function $O(r,e,n,a=!1){return Qg(n,r.ju(a?4:3,e))}function Qg(r,e){if(Nb(r=Zt(r)))return Mb("Unsupported field value:",e,r),Ob(r,e);if(r instanceof Bg)return function(a,o){if(!Ib(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const u=[];let f=0;for(const m of a){let g=Qg(m,o.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,e)}return function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return kD(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=It.fromDate(a);return{timestampValue:Rh(o.serializer,u)}}if(a instanceof It){const u=new It(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Rh(o.serializer,u)}}if(a instanceof Hg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof yo)return{bytesValue:QT(o.serializer,a._byteString)};if(a instanceof En){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Rg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Fg)return function(f,m){return{mapValue:{fields:{[bT]:{stringValue:wT},[wh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return bg(m.serializer,y)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Xh(a)}`)}(r,e)}function Ob(r,e){const n={};return pT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(r,(a,o)=>{const u=Qg(o,e.qu(a));u!=null&&(n[a]=u)}),{mapValue:{fields:n}}}function Nb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof It||r instanceof Hg||r instanceof yo||r instanceof En||r instanceof Bg||r instanceof Fg)}function Mb(r,e,n){if(!Nb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const a=Xh(n);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function XO(r,e,n){if((e=Zt(e))instanceof qg)return e._internalPath;if(typeof e=="string")return Vb(r,e);throw Oh("Field path arguments must be of type string or ",r,!1,void 0,n)}const WO=new RegExp("[~\\*/\\[\\]]");function Vb(r,e,n){if(e.search(WO)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new qg(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Oh(r,e,n,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${a}`),f&&(g+=` in document ${o}`),g+=")"),new ue(J.INVALID_ARGUMENT,m+r+g)}function ZO(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new JO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class JO extends xb{data(){return super.data()}}function Zh(r,e){return typeof e=="string"?Vb(r,e):e instanceof qg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kg{}class kb extends Kg{}function Xm(r,e,...n){let a=[];e instanceof Kg&&a.push(e),a=a.concat(n),function(u){const f=u.filter(g=>g instanceof $g).length,m=u.filter(g=>g instanceof Jh).length;if(f>1||f>0&&m>0)throw new ue(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)r=o._apply(r);return r}class Jh extends kb{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Jh(e,n,a)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new ga(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Db(e.firestore);return function(u,f,m,g,y,E,w){let C;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){HE(w,E);const k=[];for(const q of w)k.push(BE(g,u,q));C={arrayValue:{values:k}}}else C=BE(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||HE(w,E),C=$O(m,f,w,E==="in"||E==="not-in");return Tt.create(y,E,C)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nh(r,e,n){const a=e,o=Zh("where",r);return Jh._create(o,a,n)}class $g extends Kg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $g(e,n)}_parse(e){const n=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return n.length===1?n[0]:Xn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)Lb(f,g),f=Um(f,g)}(e._query,n),new ga(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xg extends kb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Xg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(u,f)}(e._query,this._field,this._direction);return new ga(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function qE(r,e="asc"){const n=e,a=Zh("orderBy",r);return Xg._create(a,n)}function BE(r,e,n){if(typeof(n=Zt(n))=="string"){if(n==="")throw new ue(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!NT(e)&&n.indexOf("/")!==-1)throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(et.fromString(n));if(!ge.isDocumentKey(a))throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return nE(r,new ge(a))}if(n instanceof En)return nE(r,n._key);throw new ue(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xh(n)}.`)}function HE(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class eN{convertValue(e,n="none"){switch(la(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return rs(e,(o,u)=>{a[o]=this.convertValue(u,n)}),a}convertVectorValue(e){var n,a,o;const u=(o=(a=(n=e.fields)===null||n===void 0?void 0:n[wh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new Fg(u)}convertGeoPoint(e){return new Hg(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(a=>this.convertValue(a,n))}convertServerTimestamp(e,n){switch(n){case"previous":const a=qh(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=sa(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=et.fromString(e);Ye(JT(a));const o=new iu(a.get(1),a.get(3)),u=new ge(a.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r,e,n){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ub extends xb{constructor(e,n,a,o,u,f){super(e,n,a,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(Zh("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class hh extends Ub{data(e={}){return super.data(e)}}class zb{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(a=>{e.call(n,new hh(this._firestore,this._userDataWriter,a.key,a,new Fl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:nN(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}class Wg extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new yo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function iN(r){r=na(r,ga);const e=na(r.firestore,po),n=jg(e),a=new Wg(e);return Pb(r._query),jO(n,r._query).then(o=>new zb(e,a,r,o))}function vm(r){return qb(na(r.firestore,po),[new wg(r._key,_i.none())])}function jb(r,e){const n=na(r.firestore,po),a=ch(r),o=tN(r.converter,e);return qb(n,[KO(Db(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,_i.exists(!1))]).then(()=>a)}function FE(r,...e){var n,a,o;r=Zt(r);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||jE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(jE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,y,E;if(r instanceof En)y=na(r.firestore,po),E=Tg(r._key.path),g={next:w=>{e[f]&&e[f](rN(y,r,w))},error:e[f+1],complete:e[f+2]};else{const w=na(r,ga);y=na(w.firestore,po),E=w._query;const C=new Wg(y);g={next:O=>{e[f]&&e[f](new zb(y,C,w,O))},error:e[f+1],complete:e[f+2]},Pb(r._query)}return function(C,O,k,q){const j=new wb(q),G=new mb(O,j,k);return C.asyncQueue.enqueueAndForget(async()=>fb(await $m(C),G)),()=>{j.su(),C.asyncQueue.enqueueAndForget(async()=>db(await $m(C),G))}}(jg(y),E,m,g)}function qb(r,e){return function(a,o){const u=new ta;return a.asyncQueue.enqueueAndForget(async()=>IO(await zO(a),o,u)),u.promise}(jg(r),e)}function rN(r,e,n){const a=n.docs.get(e._key),o=new Wg(r);return new Ub(r,o,e._key,a,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}function Bb(){return new Yg("serverTimestamp")}(function(e,n=!0){(function(o){bo=o})(Eo),lo(new Wa("firestore",(a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new po(new WI(a.getProvider("auth-internal")),new eD(f,a.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(y.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Jr(Gv,Yv,e),Jr(Gv,Yv,"esm2017")})();const aN={apiKey:"AIzaSyBf0Z_4rCN15Q3yi75-N7G6hqbNqE8Stdg",authDomain:"gerenciador-financas-3e4a8.firebaseapp.com",projectId:"gerenciador-financas-3e4a8",storageBucket:"gerenciador-financas-3e4a8.firebasestorage.app",messagingSenderId:"294482753657",appId:"1:294482753657:web:91103363a63ae12e0a3ca8",measurementId:"G-TDT747E3V4"},Hb=b0(aN),$r=HO(Hb),Zc=GI(Hb),Fb=F.createContext(),wu=()=>F.useContext(Fb),sN=({children:r})=>{const[e,n]=F.useState(null),[a,o]=F.useState(!0);F.useEffect(()=>{const g=VC(Zc,y=>{n(y),o(!1)});return()=>g()},[]);const u=async(g,y)=>{try{return(await OC(Zc,g,y)).user}catch(E){throw console.error("Erro ao fazer login:",E.message),E}},f=async(g,y)=>{try{return(await DC(Zc,g,y)).user}catch(E){throw console.error("Erro ao registrar usuário:",E.message),E}},m=async()=>{try{await xC(Zc)}catch(g){throw console.error("Erro ao fazer logout:",g.message),g}};return Z.jsx(Fb.Provider,{value:{user:e,login:u,register:f,logout:m},children:!a&&r})},oN="_container_voo2q_1",lN="_titulo1_voo2q_13",uN="_form_voo2q_25",cN="_email_voo2q_35",hN="_label_voo2q_46",fN="_input_voo2q_55",dN="_senha_voo2q_66",mN="_botoes_voo2q_78",gN="_botaoregistrar_voo2q_85",pN="_botaoentrar_voo2q_95",yN="_msgbtn_voo2q_105",_N="_erro_voo2q_116",un={container:oN,titulo1:lN,form:uN,email:cN,label:hN,input:fN,senha:dN,botoes:mN,botaoregistrar:gN,botaoentrar:pN,msgbtn:yN,erro:_N},vN=()=>{const{user:r,login:e}=wu(),n=F.useRef();F.useEffect(()=>{r&&w("/controle"),n.current&&n.current.focus()},[]);const[a,o]=F.useState(""),u=G=>o(G.target.value),[f,m]=F.useState(""),g=G=>m(G.target.value),[y,E]=F.useState(""),w=vo(),C=G=>{G.preventDefault(),w("/registro")},O=G=>({"auth/email-already-in-use":"Este e-mail já está em uso. Tente outro ou faça login.","auth/invalid-email":"O e-mail informado não é válido. Verifique e tente novamente.","auth/user-not-found":"Nenhum usuário encontrado com este e-mail. Verifique ou registre-se.","auth/wrong-password":"Senha incorreta. Verifique e tente novamente.","auth/weak-password":"A senha deve ter pelo menos 6 caracteres.","auth/network-request-failed":"Falha de conexão. Verifique sua internet.","auth/too-many-requests":"Muitas tentativas seguidas. Aguarde um momento e tente novamente.","auth/invalid-credential":"Possível e-mail ou senha inválidos, verifique."})[G]||"Ocorreu um erro inesperado. Tente novamente mais tarde.",[k,q]=F.useState(!1),j=async G=>{G.preventDefault(),q(!0),E("");try{await e(a,f)&&(o(""),m(""),w("/controle"),q(!1))}catch(ee){console.log(ee.code),E(O(ee.code)),q(!1)}};return Z.jsxs("main",{className:un.container,children:[Z.jsx("h1",{className:un.titulo1,children:"Efetue a entrada"}),Z.jsxs("form",{className:un.form,onSubmit:j,children:[Z.jsxs("div",{className:un.email,children:[Z.jsx("label",{htmlFor:"email",className:un.label,children:"E-mail"}),Z.jsx("input",{type:"email",value:a,onChange:u,id:"email",name:"email",className:un.input,ref:n})]}),Z.jsxs("div",{className:un.senha,children:[Z.jsx("label",{htmlFor:"senha",className:un.label,children:"Senha"}),Z.jsx("input",{type:"password",value:f,onChange:g,id:"senha",name:"senha",className:un.input})]}),k?Z.jsx("p",{className:un.msgbtn,children:"Aguarde por favor..."}):Z.jsxs("div",{className:un.botoes,children:[Z.jsx("button",{className:un.botaoregistrar,onClick:C,type:"button",children:"Fazer o registro"}),Z.jsx("input",{className:un.botaoentrar,type:"submit",value:"Entrar"})]}),y&&Z.jsx("p",{className:un.erro,children:y})]})]})},EN="_container_voo2q_1",TN="_titulo1_voo2q_13",bN="_form_voo2q_25",wN="_email_voo2q_35",SN="_label_voo2q_46",AN="_input_voo2q_55",RN="_senha_voo2q_66",CN="_botoes_voo2q_78",IN="_botaoregistrar_voo2q_85",DN="_botaoentrar_voo2q_95",ON="_msgbtn_voo2q_105",NN="_erro_voo2q_116",cn={container:EN,titulo1:TN,form:bN,email:wN,label:SN,input:AN,senha:RN,botoes:CN,botaoregistrar:IN,botaoentrar:DN,msgbtn:ON,erro:NN},MN=()=>{const{user:r,register:e}=wu(),n=F.useRef();F.useEffect(()=>{r&&w("/controle"),n.current&&n.current.focus()},[]);const[a,o]=F.useState(""),u=G=>o(G.target.value),[f,m]=F.useState(""),g=G=>m(G.target.value),[y,E]=F.useState(""),w=vo(),C=G=>{G.preventDefault(),w("/")},O=G=>({"auth/email-already-in-use":"Este e-mail já está em uso. Tente outro ou faça login.","auth/invalid-email":"O e-mail informado não é válido. Verifique e tente novamente.","auth/user-not-found":"Nenhum usuário encontrado com este e-mail. Verifique ou registre-se.","auth/wrong-password":"Senha incorreta. Verifique e tente novamente.","auth/weak-password":"A senha deve ter pelo menos 6 caracteres.","auth/network-request-failed":"Falha de conexão. Verifique sua internet.","auth/too-many-requests":"Muitas tentativas seguidas. Aguarde um momento e tente novamente.","auth/invalid-credential":"Possível e-mail ou senha inválidos, verifique."})[G]||"Ocorreu um erro inesperado. Tente novamente mais tarde.",[k,q]=F.useState(!1),j=async G=>{G.preventDefault(),q(!0),E("");try{await e(a,f)&&(o(""),m(""),w("/controle"),q(!1))}catch(ee){E(O(ee.code)),q(!1)}};return Z.jsxs("main",{className:cn.container,children:[Z.jsx("h1",{className:cn.titulo1,children:"Efetue o registro"}),Z.jsxs("form",{className:cn.form,onSubmit:j,children:[Z.jsxs("div",{className:cn.email,children:[Z.jsx("label",{htmlFor:"email",className:cn.label,children:"E-mail"}),Z.jsx("input",{type:"email",value:a,onChange:u,id:"email",name:"email",className:cn.input,ref:n})]}),Z.jsxs("div",{className:cn.senha,children:[Z.jsx("label",{htmlFor:"senha",className:cn.label,children:"Senha"}),Z.jsx("input",{type:"password",value:f,onChange:g,id:"senha",name:"senha",className:cn.input})]}),k?Z.jsx("p",{className:cn.msgbtn,children:"Aguarde por favor..."}):Z.jsxs("div",{className:cn.botoes,children:[Z.jsx("button",{className:cn.botaoentrar,onClick:C,type:"button",children:"Fazer o login"}),Z.jsx("input",{className:cn.botaoregistrar,type:"submit",value:"Registrar"})]}),y&&Z.jsx("p",{className:cn.erro,children:y})]})]})},VN="_container_858sk_1",xN="_titulo1_858sk_13",PN="_paragrafo_858sk_23",Em={container:VN,titulo1:xN,paragrafo:PN},kN=()=>{const r=vo();return F.useEffect(()=>{const e=setTimeout(()=>{r("/")},2500);return()=>clearTimeout(e)},[]),Z.jsxs("main",{className:Em.container,children:[Z.jsx("h1",{className:Em.titulo1,children:"A página não existe"}),Z.jsx("p",{className:Em.paragrafo,children:"Redirecionando para a página de login..."})]})},Gb=6048e5,LN=864e5,GE=Symbol.for("constructDateFrom");function ha(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&GE in r?r[GE](e):r instanceof Date?new r.constructor(e):new Date(e)}function Wn(r,e){return ha(e||r,r)}let UN={};function ef(){return UN}function uu(r,e){var m,g,y,E;const n=ef(),a=(e==null?void 0:e.weekStartsOn)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((E=(y=n.locale)==null?void 0:y.options)==null?void 0:E.weekStartsOn)??0,o=Wn(r,e==null?void 0:e.in),u=o.getDay(),f=(u<a?7:0)+u-a;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Mh(r,e){return uu(r,{...e,weekStartsOn:1})}function Yb(r,e){const n=Wn(r,e==null?void 0:e.in),a=n.getFullYear(),o=ha(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=Mh(o),f=ha(n,0);f.setFullYear(a,0,4),f.setHours(0,0,0,0);const m=Mh(f);return n.getTime()>=u.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function YE(r){const e=Wn(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function zN(r,...e){const n=ha.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function QE(r,e){const n=Wn(r,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function jN(r,e,n){const[a,o]=zN(n==null?void 0:n.in,r,e),u=QE(a),f=QE(o),m=+u-YE(u),g=+f-YE(f);return Math.round((m-g)/LN)}function qN(r,e){const n=Yb(r,e),a=ha(r,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Mh(a)}function BN(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function HN(r){return!(!BN(r)&&typeof r!="number"||isNaN(+Wn(r)))}function FN(r,e){const n=Wn(r,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const GN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},YN=(r,e,n)=>{let a;const o=GN[r];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Tm(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const QN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},KN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$N={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},XN={date:Tm({formats:QN,defaultWidth:"full"}),time:Tm({formats:KN,defaultWidth:"full"}),dateTime:Tm({formats:$N,defaultWidth:"full"})},WN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ZN=(r,e,n,a)=>WN[r];function kl(r){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n!=null&&n.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n!=null&&n.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const JN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},iM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},rM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},aM=(r,e)=>{const n=Number(r),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},sM={ordinalNumber:aM,era:kl({values:JN,defaultWidth:"wide"}),quarter:kl({values:eM,defaultWidth:"wide",argumentCallback:r=>r-1}),month:kl({values:tM,defaultWidth:"wide"}),day:kl({values:nM,defaultWidth:"wide"}),dayPeriod:kl({values:iM,defaultWidth:"wide",formattingValues:rM,defaultFormattingWidth:"wide"})};function Ll(r){return(e,n={})=>{const a=n.width,o=a&&r.matchPatterns[a]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=a&&r.parsePatterns[a]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(m)?lM(m,w=>w.test(f)):oM(m,w=>w.test(f));let y;y=r.valueCallback?r.valueCallback(g):g,y=n.valueCallback?n.valueCallback(y):y;const E=e.slice(f.length);return{value:y,rest:E}}}function oM(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function lM(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function uM(r){return(e,n={})=>{const a=e.match(r.matchPattern);if(!a)return null;const o=a[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const cM=/^(\d+)(th|st|nd|rd)?/i,hM=/\d+/i,fM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dM={any:[/^b/i,/^(a|c)/i]},mM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gM={any:[/1/i,/2/i,/3/i,/4/i]},pM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_M={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},EM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bM={ordinalNumber:uM({matchPattern:cM,parsePattern:hM,valueCallback:r=>parseInt(r,10)}),era:Ll({matchPatterns:fM,defaultMatchWidth:"wide",parsePatterns:dM,defaultParseWidth:"any"}),quarter:Ll({matchPatterns:mM,defaultMatchWidth:"wide",parsePatterns:gM,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Ll({matchPatterns:pM,defaultMatchWidth:"wide",parsePatterns:yM,defaultParseWidth:"any"}),day:Ll({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:vM,defaultParseWidth:"any"}),dayPeriod:Ll({matchPatterns:EM,defaultMatchWidth:"any",parsePatterns:TM,defaultParseWidth:"any"})},wM={code:"en-US",formatDistance:YN,formatLong:XN,formatRelative:ZN,localize:sM,match:bM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function SM(r,e){const n=Wn(r,e==null?void 0:e.in);return jN(n,FN(n))+1}function AM(r,e){const n=Wn(r,e==null?void 0:e.in),a=+Mh(n)-+qN(n);return Math.round(a/Gb)+1}function Qb(r,e){var E,w,C,O;const n=Wn(r,e==null?void 0:e.in),a=n.getFullYear(),o=ef(),u=(e==null?void 0:e.firstWeekContainsDate)??((w=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??o.firstWeekContainsDate??((O=(C=o.locale)==null?void 0:C.options)==null?void 0:O.firstWeekContainsDate)??1,f=ha((e==null?void 0:e.in)||r,0);f.setFullYear(a+1,0,u),f.setHours(0,0,0,0);const m=uu(f,e),g=ha((e==null?void 0:e.in)||r,0);g.setFullYear(a,0,u),g.setHours(0,0,0,0);const y=uu(g,e);return+n>=+m?a+1:+n>=+y?a:a-1}function RM(r,e){var m,g,y,E;const n=ef(),a=(e==null?void 0:e.firstWeekContainsDate)??((g=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:g.firstWeekContainsDate)??n.firstWeekContainsDate??((E=(y=n.locale)==null?void 0:y.options)==null?void 0:E.firstWeekContainsDate)??1,o=Qb(r,e),u=ha((e==null?void 0:e.in)||r,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),uu(u,e)}function CM(r,e){const n=Wn(r,e==null?void 0:e.in),a=+uu(n,e)-+RM(n,e);return Math.round(a/Gb)+1}function Ke(r,e){const n=r<0?"-":"",a=Math.abs(r).toString().padStart(e,"0");return n+a}const Fr={y(r,e){const n=r.getFullYear(),a=n>0?n:1-n;return Ke(e==="yy"?a%100:a,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Ke(n+1,2)},d(r,e){return Ke(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Ke(r.getHours()%12||12,e.length)},H(r,e){return Ke(r.getHours(),e.length)},m(r,e){return Ke(r.getMinutes(),e.length)},s(r,e){return Ke(r.getSeconds(),e.length)},S(r,e){const n=e.length,a=r.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return Ke(o,e.length)}},Zs={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},KE={G:function(r,e,n){const a=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const a=r.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return Fr.y(r,e)},Y:function(r,e,n,a){const o=Qb(r,a),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Ke(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ke(u,e.length)},R:function(r,e){const n=Yb(r);return Ke(n,e.length)},u:function(r,e){const n=r.getFullYear();return Ke(n,e.length)},Q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return Ke(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(r,e,n){const a=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return Ke(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(r,e,n){const a=r.getMonth();switch(e){case"M":case"MM":return Fr.M(r,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(r,e,n){const a=r.getMonth();switch(e){case"L":return String(a+1);case"LL":return Ke(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(r,e,n,a){const o=CM(r,a);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ke(o,e.length)},I:function(r,e,n){const a=AM(r);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):Ke(a,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Fr.d(r,e)},D:function(r,e,n){const a=SM(r);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ke(a,e.length)},E:function(r,e,n){const a=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(r,e,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ke(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});case"eeee":default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,a){const o=r.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ke(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});case"cccc":default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const a=r.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return Ke(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(r,e,n){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,n){const a=r.getHours();let o;switch(a===12?o=Zs.noon:a===0?o=Zs.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const a=r.getHours();let o;switch(a>=17?o=Zs.evening:a>=12?o=Zs.afternoon:a>=4?o=Zs.morning:o=Zs.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let a=r.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Fr.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Fr.H(r,e)},K:function(r,e,n){const a=r.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ke(a,e.length)},k:function(r,e,n){let a=r.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ke(a,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Fr.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Fr.s(r,e)},S:function(r,e){return Fr.S(r,e)},X:function(r,e,n){const a=r.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return XE(a);case"XXXX":case"XX":return $a(a);case"XXXXX":case"XXX":default:return $a(a,":")}},x:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"x":return XE(a);case"xxxx":case"xx":return $a(a);case"xxxxx":case"xxx":default:return $a(a,":")}},O:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$E(a,":");case"OOOO":default:return"GMT"+$a(a,":")}},z:function(r,e,n){const a=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$E(a,":");case"zzzz":default:return"GMT"+$a(a,":")}},t:function(r,e,n){const a=Math.trunc(+r/1e3);return Ke(a,e.length)},T:function(r,e,n){return Ke(+r,e.length)}};function $E(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+e+Ke(u,2)}function XE(r,e){return r%60===0?(r>0?"-":"+")+Ke(Math.abs(r)/60,2):$a(r,e)}function $a(r,e=""){const n=r>0?"-":"+",a=Math.abs(r),o=Ke(Math.trunc(a/60),2),u=Ke(a%60,2);return n+o+e+u}const WE=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Kb=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},IM=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return WE(r,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;case"PPPP":default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",WE(a,e)).replace("{{time}}",Kb(o,e))},DM={p:Kb,P:IM},OM=/^D+$/,NM=/^Y+$/,MM=["D","DD","YY","YYYY"];function VM(r){return OM.test(r)}function xM(r){return NM.test(r)}function PM(r,e,n){const a=kM(r,e,n);if(console.warn(a),MM.includes(r))throw new RangeError(a)}function kM(r,e,n){const a=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const LM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,UM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zM=/^'([^]*?)'?$/,jM=/''/g,qM=/[a-zA-Z]/;function $b(r,e,n){var E,w,C,O;const a=ef(),o=a.locale??wM,u=a.firstWeekContainsDate??((w=(E=a.locale)==null?void 0:E.options)==null?void 0:w.firstWeekContainsDate)??1,f=a.weekStartsOn??((O=(C=a.locale)==null?void 0:C.options)==null?void 0:O.weekStartsOn)??0,m=Wn(r,n==null?void 0:n.in);if(!HN(m))throw new RangeError("Invalid time value");let g=e.match(UM).map(k=>{const q=k[0];if(q==="p"||q==="P"){const j=DM[q];return j(k,o.formatLong)}return k}).join("").match(LM).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const q=k[0];if(q==="'")return{isToken:!1,value:BM(k)};if(KE[q])return{isToken:!0,value:k};if(q.match(qM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return{isToken:!1,value:k}});o.localize.preprocessor&&(g=o.localize.preprocessor(m,g));const y={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return g.map(k=>{if(!k.isToken)return k.value;const q=k.value;(xM(q)||VM(q))&&PM(q,e,String(r));const j=KE[q[0]];return j(m,q,o.localize,y)}).join("")}function BM(r){const e=r.match(zM);return e?e[1].replace(jM,"'"):r}const HM="_container_categoria_1j9of_1",FM="_titulo1_1j9of_7",GM="_titulo1c1_1j9of_19",YM="_titulo1cat_1j9of_29",QM="_titulo1but1_1j9of_42",KM="_removebutt_1j9of_53",$M="_titulo1valor_1j9of_62",XM="_titulo1data_1j9of_74",WM="_itemlinhad_1j9of_85",ZM="_itemlinhar_1j9of_98",JM="_itemlinha1_1j9of_111",eV="_itemlinha2_1j9of_121",tV="_itemlinha3_1j9of_132",nV="_removereg_1j9of_141",iV="_estaregistrando_1j9of_152",rV="_adicao_1j9of_165",aV="_adicaoh2_1j9of_174",sV="_formadicao_1j9of_185",oV="_descricao_1j9of_197",lV="_descricaolabel_1j9of_212",uV="_descricaoinput_1j9of_221",cV="_tipogasto_1j9of_232",hV="_tipogastoinput_1j9of_246",fV="_label_1j9of_256",dV="_input_1j9of_265",mV="_valor_1j9of_275",gV="_valorlabel_1j9of_290",pV="_valorinput_1j9of_299",yV="_submit_1j9of_309",_V="_submitsubmit_1j9of_324",vV="_total_1j9of_336",EV="_totaltitulo_1j9of_345",TV="_totalvalorp_1j9of_355",bV="_totalvalorn_1j9of_366",Ne={container_categoria:HM,titulo1:FM,titulo1c1:GM,titulo1cat:YM,titulo1but1:QM,removebutt:KM,titulo1valor:$M,titulo1data:XM,itemlinhad:WM,itemlinhar:ZM,itemlinha1:JM,itemlinha2:eV,itemlinha3:tV,removereg:nV,estaregistrando:iV,adicao:rV,adicaoh2:aV,formadicao:sV,descricao:oV,descricaolabel:lV,descricaoinput:uV,tipogasto:cV,tipogastoinput:hV,label:fV,input:dV,valor:mV,valorlabel:gV,valorinput:pV,submit:yV,submitsubmit:_V,total:vV,totaltitulo:EV,totalvalorp:TV,totalvalorn:bV},wV=({idcategoria:r,nomecategoria:e,data:n,registros:a})=>{const{user:o}=wu(),[u,f]=F.useState(""),[m,g]=F.useState(""),[y,E]=F.useState(""),[w,C]=F.useState([]),[O,k]=F.useState("");F.useEffect(()=>{f(r),g(e),E(n);const Q=a.filter(se=>se.idcategoria==r);C(Q);const oe=Q.reduce((se,re)=>{const be=re.tipogasto===0?-re.valor:re.valor;return se+be},0);k(oe.toFixed(2))},[r,e,n,a]);const[q,j]=F.useState(!1),G=()=>j(!q);F.useEffect(()=>{ee.current&&(pe(""),M("Despesa"),I(""),ee.current.focus())},[q]);const ee=F.useRef(),[te,pe]=F.useState(""),he=Q=>pe(Q.target.value),[Te,M]=F.useState("Despesa"),A=Q=>M(Q.target.value),[S,I]=F.useState(""),x=Q=>{const oe=Q.target.value;/^\d*(,\d{0,2})?$/.test(oe)&&I(oe)},U=Q=>{Q.preventDefault(),D()},D=async()=>{if(!o)return;const oe=$b(new Date,"dd/MM/yyyy"),se=Te==="Despesa"?0:1;let re="";S==""||S==","?re="0":re=S,re=re.replace(",",".");try{await jb(Xl($r,"registros"),{idusuario:o.uid,descricao:te,tipogasto:se,valor:parseFloat(re),data:oe,idcategoria:u,ordem:Bb()}),j(!q)}catch(be){console.error("Erro ao adicionar item:",be)}},[tt,ot]=F.useState(!1),ae=Q=>{Q.preventDefault(),ot(!tt)},ye=Q=>{window.confirm("Gostaria de remover a categoria juntamente com todos os seus registros?")&&de(Q)},de=async Q=>{try{if(!o){console.error("Usuário não autenticado.");return}const oe=Xm(Xl($r,"registros"),Nh("idcategoria","==",Q),Nh("idusuario","==",o.uid)),re=(await iN(oe)).docs.map(be=>vm(ch($r,"registros",be.id)));await Promise.all(re),await vm(ch($r,"categorias",Q))}catch(oe){console.error("Erro ao deletar categoria e registros:",oe)}},je=Q=>{window.confirm("Gostaria de remover esse registro?")&&N(Q)},N=async Q=>{try{await vm(ch($r,"registros",Q)),console.log("Registro deletado com sucesso!")}catch(oe){console.error("Erro ao deletar registro:",oe)}};return Z.jsxs("section",{className:Ne.container_categoria,children:[Z.jsxs("div",{className:Ne.titulo1,children:[Z.jsxs("div",{className:Ne.titulo1c1,children:[Z.jsx("strong",{className:Ne.titulo1cat,children:m}),Z.jsx("button",{className:Ne.titulo1but1,onClick:ae,children:"-"}),tt&&Z.jsx("button",{className:Ne.removebutt,onClick:()=>ye(u),children:"Remover tudo"})]}),Z.jsx("span",{className:Ne.titulo1valor,children:"Valor"}),Z.jsx("span",{className:Ne.titulo1data,children:y})]}),w.map(Q=>Z.jsxs("div",{className:Q.tipogasto?Ne.itemlinhar:Ne.itemlinhad,children:[Z.jsx("span",{className:Ne.itemlinha1,children:Q.descricao}),Z.jsxs("span",{className:Ne.itemlinha2,children:["R$ ",Q.valor.toFixed(2).replace(".",",")]}),Z.jsx("span",{className:Ne.itemlinha3,children:Q.data}),tt&&Z.jsx("button",{className:Ne.removereg,onClick:()=>je(Q.id),children:"-"})]},Q.id)),Z.jsx("button",{onClick:()=>G(),className:Ne.estaregistrando,children:"Novo Registro"}),q&&Z.jsxs("div",{className:Ne.adicao,children:[Z.jsx("h2",{className:Ne.adicaoh2,children:"Nova Receita/Despesa"}),Z.jsxs("form",{className:Ne.formadicao,onSubmit:U,children:[Z.jsxs("div",{className:Ne.descricao,children:[Z.jsx("label",{htmlFor:"descricao",className:Ne.descricaolabel,children:"Descrição"}),Z.jsx("input",{type:"text",id:"descricao",name:"descricao",value:te,onChange:he,className:Ne.descricaoinput,ref:ee})]}),Z.jsxs("div",{className:Ne.tipogasto,children:[Z.jsx("label",{htmlFor:"tipogastoinput",className:Ne.label,children:"Tipo de registro"}),Z.jsxs("div",{className:Ne.tipogastoinput,id:"tipogastoinput",children:[Z.jsx("label",{htmlFor:"tipogastodespesa",className:Ne.label,children:"Despesa"}),Z.jsx("input",{type:"radio",value:"Despesa",name:"tipo",checked:Te==="Despesa",onChange:A,id:"tipogastodespesa",className:Ne.input}),Z.jsx("label",{htmlFor:"tipogastoreceita",className:Ne.label,children:"Receita"}),Z.jsx("input",{type:"radio",value:"Receita",name:"tipo",checked:Te==="Receita",onChange:A,id:"tipogastoreceita",className:Ne.input})]})]}),Z.jsxs("div",{className:Ne.valor,children:[Z.jsx("label",{htmlFor:"valor",className:Ne.valorlabel,children:"Valor R$"}),Z.jsx("input",{type:"text",id:"valor",name:"valor",value:S,onChange:x,className:Ne.valorinput})]}),Z.jsx("div",{className:Ne.submit,children:Z.jsx("input",{type:"submit",value:"Registrar",className:Ne.submitsubmit})})]})]}),Z.jsxs("div",{className:Ne.total,children:[Z.jsx("strong",{className:Ne.totaltitulo,children:"Total:"}),Z.jsxs("strong",{className:O>=0?Ne.totalvalorp:Ne.totalvalorn,children:["R$ ",O.replace(".",",")]})]}),Z.jsx("hr",{})]})},SV="_container_166k2_1",AV="_titulo1_166k2_6",RV="_novacategoria_166k2_17",CV="_containernovac_166k2_31",IV="_titulo2novac_166k2_40",DV="_formregistracat_166k2_49",OV="_inputnome_166k2_60",NV="_inputnomelabel_166k2_74",MV="_inputnomeinput_166k2_83",VV="_submit_166k2_94",xV="_submitsubmit_166k2_108",Yn={container:SV,titulo1:AV,novacategoria:RV,containernovac:CV,titulo2novac:IV,formregistracat:DV,inputnome:OV,inputnomelabel:NV,inputnomeinput:MV,submit:VV,submitsubmit:xV},PV=()=>{const{user:r}=wu(),e=vo();F.useEffect(()=>{r||e("/")},[]);const[n,a]=F.useState([]),[o,u]=F.useState([]),[f,m]=F.useState(!1),g=q=>{q.preventDefault(),m(!f)};F.useEffect(()=>{C.current&&C.current.focus()},[f]);const[y,E]=F.useState(""),w=q=>E(q.target.value),C=F.useRef(),O=q=>{q.preventDefault(),k(y)},k=async q=>{if(!r)return;const G=$b(new Date,"dd/MM/yyyy");try{await jb(Xl($r,"categorias"),{idusuario:r.uid,nome:q,data:G,ordem:Bb()}),E(""),m(!f)}catch(ee){console.error("Erro ao adicionar item:",ee)}};return F.useEffect(()=>{if(!r){a([]);return}const q=Xm(Xl($r,"categorias"),Nh("idusuario","==",r.uid),qE("ordem","asc")),j=FE(q,G=>{const ee=G.docs.map(te=>({id:te.id,...te.data()}));a(ee)});return()=>{j()}},[r]),F.useEffect(()=>{if(!r){u([]);return}const q=Xm(Xl($r,"registros"),Nh("idusuario","==",r.uid),qE("ordem","asc")),j=FE(q,G=>{const ee=G.docs.map(te=>({id:te.id,...te.data()}));u(ee)});return()=>{j()}},[r]),Z.jsxs("main",{className:Yn.container,children:[Z.jsx("h1",{className:Yn.titulo1,children:"Página de controle de finanças"}),n.map(q=>Z.jsx(wV,{idcategoria:q.id,nomecategoria:q.nome,data:q.data,registros:o},q.id)),Z.jsx("button",{className:Yn.novacategoria,onClick:g,children:"Registrar nova categoria"}),f&&Z.jsxs("div",{className:Yn.containernovac,children:[Z.jsx("h2",{className:Yn.titulo2novac,children:"Registrando nova categoria"}),Z.jsxs("form",{onSubmit:O,className:Yn.formregistracat,children:[Z.jsxs("div",{className:Yn.inputnome,children:[Z.jsx("label",{htmlFor:"nomecategoria",className:Yn.inputnomelabel,children:"Nome da categoria"}),Z.jsx("input",{type:"text",id:"nomecategoria",name:"nomecategoria",value:y,onChange:w,className:Yn.inputnomeinput,ref:C})]}),Z.jsx("div",{className:Yn.submit,children:Z.jsx("input",{type:"submit",value:"Registrar",className:Yn.submitsubmit})})]})]})]})},kV="_container_17jrt_1",LV="_projdev_17jrt_8",UV="_projdevac_17jrt_21",zV="_projdeva_17jrt_21",jV="_projdevai_17jrt_47",qV="_projdevacfig_17jrt_51",BV="_links_17jrt_60",HV="_linkss_17jrt_73",FV="_linksb_17jrt_90",vn={container:kV,projdev:LV,projdevac:UV,projdeva:zV,projdevai:jV,projdevacfig:qV,links:BV,linkss:HV,linksb:FV},GV=()=>{const r=vo(),n=fa().pathname==="/controle",{logout:a}=wu(),o=async u=>{u.preventDefault();try{await a(),r("/")}catch(f){console.error("Erro ao fazer logout:",f.message)}};return Z.jsx("header",{children:Z.jsxs("nav",{className:vn.container,children:[Z.jsxs("div",{className:vn.projdev,children:[Z.jsx("a",{className:vn.projdeva,href:"https://github.com/defren-gabriel/gerenciador-financas",target:"_blank",children:Z.jsxs("figure",{className:vn.projdevac,children:[Z.jsx("img",{className:vn.projdevai,src:"https://defren-gabriel.github.io/bookmarks/github.png",alt:"Página do GitHub do Projeto"}),Z.jsx("figcaption",{className:vn.projdevacfig,children:"GitHub"})]})}),Z.jsx("a",{className:vn.projdeva,href:"https://github.com/defren-gabriel",target:"_blank",children:Z.jsxs("figure",{className:vn.projdevac,children:[Z.jsx("img",{className:vn.projdevai,src:"https://defren-gabriel.github.io/bookmarks/eu.png",alt:"Página do Desenvolvedor"}),Z.jsx("figcaption",{className:vn.projdevacfig,children:"Eu"})]})})]}),Z.jsxs("div",{className:vn.links,children:[Z.jsx("span",{className:vn.linkss,children:"Gerenciar Finanças"}),n&&Z.jsx("button",{className:vn.linksb,onClick:o,children:"Sair"})]})]})})},YV=()=>Z.jsx("div",{children:Z.jsxs(HA,{children:[Z.jsx(GV,{}),Z.jsxs(vA,{children:[Z.jsx(Ul,{path:"/",element:Z.jsx(vN,{})}),Z.jsx(Ul,{path:"/registro",element:Z.jsx(MN,{})}),Z.jsx(Ul,{path:"/controle",element:Z.jsx(PV,{})}),Z.jsx(Ul,{path:"*",element:Z.jsx(kN,{})})]})]})});DS.createRoot(document.getElementById("root")).render(Z.jsx(F.StrictMode,{children:Z.jsx(sN,{children:Z.jsx(YV,{})})}));
